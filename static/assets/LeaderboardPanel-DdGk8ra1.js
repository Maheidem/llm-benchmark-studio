import{o as _,s as m,c as o,d as t,k as c,i as x,j as f,t as y,l as b,m as k,f as u,r as n,a as h,b as l}from"./index-BHukJGVM.js";const w={key:0,class:"text-zinc-600 text-sm font-body"},z={key:1,class:"space-y-6"},N={class:"card rounded-md p-5"},S={class:"flex items-start justify-between gap-4"},T={class:"flex-1"},V={class:"text-xs text-zinc-500 font-body leading-relaxed"},C={class:"flex items-center gap-2 cursor-pointer flex-shrink-0"},P={class:"text-xs font-mono text-zinc-500"},j={key:0,class:"mt-3 text-[10px] text-zinc-600 font-body"},E={key:1,class:"mt-3 text-[10px] font-body",style:{color:"var(--lime)"}},L={key:2,class:"mt-3 text-[10px] font-body",style:{color:"var(--coral)"}},B={class:"flex items-center gap-3"},D={__name:"LeaderboardPanel",setup(F){const v=n(!0),p=n(!1),i=n(!1),d=n(""),s=n(!1);_(async()=>{try{const a=await m("/api/leaderboard/opt-in");if(a.ok){const e=await a.json();s.value=e.opt_in??!1}}catch{}finally{v.value=!1}});async function g(){const a=!s.value;s.value=a,p.value=!0,i.value=!1,d.value="";try{const e=await m("/api/leaderboard/opt-in",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({opt_in:a})});if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(r.detail||r.error||"Failed to save")}i.value=!0,setTimeout(()=>{i.value=!1},2e3)}catch(e){d.value=e.message||"Failed to save",s.value=!a}finally{p.value=!1}}return(a,e)=>{const r=h("router-link");return l(),o("div",null,[v.value?(l(),o("div",w,"Loading settings...")):(l(),o("div",z,[t("div",N,[t("div",S,[t("div",T,[e[3]||(e[3]=t("div",{class:"text-sm font-display font-bold text-zinc-200 mb-1"},"Contribute to Public Leaderboard",-1)),t("p",V,[e[1]||(e[1]=c(" When enabled, your anonymized tool-eval results (model name, accuracy scores, throughput) will be included in the ",-1)),x(r,{to:"/leaderboard",class:"text-lime-400 hover:text-lime-300"},{default:f(()=>[...e[0]||(e[0]=[c("public leaderboard",-1)])]),_:1}),e[2]||(e[2]=c(". No prompts, test case content, or personal data is shared. ",-1))])]),t("label",C,[t("span",P,y(s.value?"Enabled":"Disabled"),1),t("div",{class:"relative inline-block w-10 h-5 rounded-full transition-colors cursor-pointer",style:b({background:s.value?"var(--lime)":"rgba(255,255,255,0.08)"}),onClick:g},[t("div",{class:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform shadow-sm",style:b({transform:s.value?"translateX(20px)":"translateX(0)"})},null,4)],4)])]),e[4]||(e[4]=k('<div class="mt-4 rounded-sm px-4 py-3" style="background:rgba(255,255,255,0.02);border:1px solid var(--border-subtle);"><div class="text-[10px] font-display tracking-wider uppercase text-zinc-500 mb-2">What&#39;s included</div><div class="grid grid-cols-2 gap-2 text-[11px] font-body text-zinc-400"><div class="flex items-center gap-1.5"><span style="color:var(--lime);">✓</span> Model name &amp; provider</div><div class="flex items-center gap-1.5"><span style="color:var(--lime);">✓</span> Tool accuracy %</div><div class="flex items-center gap-1.5"><span style="color:var(--lime);">✓</span> Param accuracy %</div><div class="flex items-center gap-1.5"><span style="color:var(--lime);">✓</span> Throughput (tok/s)</div><div class="flex items-center gap-1.5"><span style="color:var(--coral);">✗</span> Test case prompts</div><div class="flex items-center gap-1.5"><span style="color:var(--coral);">✗</span> API keys or credentials</div></div></div>',1)),p.value?(l(),o("div",j,"Saving...")):u("",!0),i.value?(l(),o("div",E,"Saved!")):u("",!0),d.value?(l(),o("div",L,y(d.value),1)):u("",!0)]),t("div",B,[x(r,{to:"/leaderboard",class:"text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm inline-flex items-center gap-1.5",style:{background:"rgba(191,255,0,0.08)",border:"1px solid rgba(191,255,0,0.2)",color:"var(--lime)"}},{default:f(()=>[...e[5]||(e[5]=[t("span",null,"★",-1),c(" View Public Leaderboard ",-1)])]),_:1}),e[6]||(e[6]=t("span",{class:"text-[10px] text-zinc-600 font-body"},"No login required",-1))])]))])}}};export{D as default};
