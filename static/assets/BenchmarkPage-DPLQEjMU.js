import{u as rt}from"./config-B68hk7QC.js";import{u as K}from"./benchmark-TY2YH_5L.js";import{b as r,c as a,d as t,h as Q,v as lt,F as B,A as R,l as w,x as d,D as A,t as i,g as at,e as j,E as q,f as C,r as I,B as k,k as F,G as it,T as dt,i as z,z as ct,y as W,H as Z,o as ut,I as pt,J as mt,K as xt,L as vt}from"./index-DJOpZm09.js";import{C as D,a as X,L as U,B as Y,b as tt,P as V,p as H,c as J,i as et,d as st,e as ot,S as ft}from"./index-1SmN7FeU.js";import"./useActiveSession-DdoXJmDo.js";import"./useDirectBenchmark-CsmfdRs3.js";const bt={class:"flex items-center gap-4 mb-4"},gt={class:"flex-1 relative"},yt={class:"flex flex-col gap-2"},_t=["onClick"],kt={class:"provider-group-count"},ht={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 pl-3"},$t=["onClick"],Ct={class:"flex-1 min-w-0"},Tt={class:"flex items-center gap-2"},St={class:"text-[13px] font-medium text-zinc-200 truncate font-body"},Bt={key:0,class:"text-[9px] font-mono px-1.5 py-0.5 rounded-sm",style:{background:"rgba(255,255,255,0.04)",color:"#85858F"}},wt={key:0,class:"text-center py-8 text-zinc-600 text-sm"},zt={__name:"ModelGrid",props:{providers:{type:Array,required:!0},selectedModels:{type:Set,required:!0}},emits:["toggle","selectAll","selectNone","toggleProvider"],setup(f){const o=f,n=I(""),_=k(()=>{const b=n.value.toLowerCase().trim();return o.providers.map(g=>{const v=g.models.map(c=>({...c,compoundKey:(g.provider_key||g.name)+"::"+c.model_id})),u=b?v.filter(c=>c.display_name.toLowerCase().includes(b)||c.model_id.toLowerCase().includes(b)||g.name.toLowerCase().includes(b)):v;return{name:g.name,provider_key:g.provider_key,models:u}}).filter(g=>g.models.length>0)});function x(b){return o.selectedModels.has(b)}return(b,g)=>(r(),a("div",null,[t("div",bt,[t("div",gt,[Q(t("input",{"onUpdate:modelValue":g[0]||(g[0]=v=>n.value=v),type:"text",placeholder:"Search models...",class:"w-full px-3 py-2 text-sm rounded-sm prompt-input"},null,512),[[lt,n.value]])]),t("button",{class:"text-[11px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm transition-colors",style:{color:"var(--lime)",background:"var(--lime-dim)",border:"1px solid rgba(191,255,0,0.3)"},onClick:g[1]||(g[1]=v=>b.$emit("selectAll"))}," Select All "),t("button",{class:"text-[11px] font-display tracking-wider uppercase text-zinc-500 px-3 py-1.5 rounded-sm transition-colors hover:text-zinc-300",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"},onClick:g[2]||(g[2]=v=>b.$emit("selectNone"))}," Select None ")]),t("div",yt,[(r(!0),a(B,null,R(_.value,v=>(r(),a("div",{key:v.name,class:"provider-group",style:w({borderColor:d(A)(v.name).border})},[t("div",{class:"provider-group-header",onClick:u=>b.$emit("toggleProvider",v.name)},[t("div",{class:"provider-group-dot",style:w({background:d(A)(v.name).text})},null,4),t("span",{class:"provider-group-label",style:w({color:d(A)(v.name).text})},i(v.name),5),t("span",kt,i(v.models.length)+" model"+i(v.models.length>1?"s":""),1)],8,_t),t("div",ht,[(r(!0),a(B,null,R(v.models,u=>(r(),a("div",{key:u.compoundKey,class:j(["model-card rounded-sm px-4 py-3 flex items-center gap-3",{selected:x(u.compoundKey)}]),onClick:at(c=>b.$emit("toggle",u.compoundKey),["stop"])},[g[3]||(g[3]=t("div",{class:"check-dot flex-shrink-0"},null,-1)),t("div",Ct,[t("div",Tt,[t("div",St,i(u.display_name),1),u.context_window?(r(),a("span",Bt,i(d(q)(u.context_window)),1)):C("",!0)])])],10,$t))),128))])],4))),128))]),_.value.length===0?(r(),a("div",wt," No models match your search. ")):C("",!0)]))}},Ft=["disabled"],At={__name:"RunButton",props:{label:{type:String,default:"RUN BENCHMARK"},disabled:Boolean,running:Boolean},emits:["click"],setup(f){return(o,n)=>(r(),a("button",{class:"run-btn px-6 py-3 rounded flex items-center gap-2 text-sm",disabled:f.disabled,onClick:n[0]||(n[0]=_=>o.$emit("click"))},[f.running?(r(),a(B,{key:0},[n[1]||(n[1]=t("svg",{class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)),n[2]||(n[2]=F(" RUNNING... ",-1))],64)):(r(),a(B,{key:1},[n[3]||(n[3]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),it(o.$slots,"default",{},()=>[F(i(f.label),1)])],64))],8,Ft))}},Mt={class:"flex flex-wrap gap-2"},Pt=["onClick"],Rt={key:0,class:"mt-2"},Ot={__name:"TierChips",props:{selectedTiers:{type:Set,required:!0},tierOptions:{type:Array,default:()=>dt}},emits:["toggle"],setup(f){const o=f;function n(x){return o.selectedTiers.has(x)}const _=k(()=>o.selectedTiers.size>1||o.selectedTiers.size===1&&!o.selectedTiers.has(0));return(x,b)=>(r(),a(B,null,[t("div",Mt,[(r(!0),a(B,null,R(f.tierOptions,g=>(r(),a("button",{key:g.value,class:j(["text-[11px] font-mono px-3 py-1.5 rounded-sm transition-all",n(g.value)?"":"text-zinc-600 hover:text-zinc-400"]),style:w(n(g.value)?"background:var(--lime-dim);color:var(--lime);border:1px solid rgba(191,255,0,0.3)":"background:rgba(255,255,255,0.02);border:1px solid var(--border-subtle)"),onClick:v=>x.$emit("toggle",g.value)},i(g.label),15,Pt))),128))]),_.value?(r(),a("div",Rt,[...b[0]||(b[0]=[t("span",{class:"text-[10px] font-mono px-2 py-0.5 rounded-sm",style:{background:"rgba(56,189,248,0.1)",color:"#38BDF8",border:"1px solid rgba(56,189,248,0.3)"}}," STRESS TEST MODE ",-1)])])):C("",!0)],64))}},Et={class:"card rounded-lg p-5 flex flex-col gap-5"},Nt={class:"flex items-center justify-between mb-2"},Lt={class:"text-xs font-mono text-zinc-400"},It=["value"],jt={class:"flex items-center justify-between mb-2"},Dt={class:"text-xs font-mono text-zinc-400"},Kt=["value"],qt=["value"],Wt={class:"flex items-center justify-between mb-2"},Ut={class:"text-xs font-mono text-zinc-400"},Vt=["value"],Ht={class:"flex items-center justify-between mb-2"},Jt=["value"],Gt=["value"],Qt={key:0,class:"text-[10px] font-mono text-amber-400"},Zt={key:0,class:"mt-3 flex flex-col gap-4 pl-1",style:{"border-left":"2px solid var(--border-subtle)"}},Xt={class:"ml-3"},Yt={class:"flex items-center justify-between mb-1"},te={class:"text-xs font-mono text-zinc-400"},ee=["value"],se={class:"flex justify-between mt-0.5"},oe={class:"ml-3"},ne={class:"flex items-center justify-between mb-1"},re={class:"text-xs font-mono text-zinc-400"},le=["value"],ae={class:"flex justify-between mt-0.5"},ie={class:"ml-3"},de={class:"flex items-center justify-between mb-1"},ce={class:"text-xs font-mono text-zinc-400"},ue=["value"],pe={class:"flex justify-between mt-0.5"},me={class:"ml-3"},xe={class:"flex items-center gap-2"},ve=["value"],fe={class:"ml-3"},be=["value"],ge={key:0,class:"text-[10px] text-red-400 mt-1"},ye={__name:"BenchmarkConfig",setup(f){const o=K(),n=I(""),_=I(!1),x=I(""),b=k(()=>Object.entries(o.providerParams).filter(([c,e])=>e!=null&&c!=="passthrough").length+(o.providerParams.passthrough&&Object.keys(o.providerParams.passthrough).length>0?1:0)),g=k(()=>{const c=o.providerParams.passthrough;return c&&Object.keys(c).length>0?JSON.stringify(c):""});function v(c){if(x.value="",!c||!c.trim()){delete o.providerParams.passthrough;return}try{const e=JSON.parse(c);if(typeof e!="object"||Array.isArray(e)){x.value="Must be a JSON object";return}o.providerParams.passthrough=e}catch{x.value="Invalid JSON"}}function u(){n.value&&o.applyPromptTemplate(n.value)}return(c,e)=>(r(),a("div",Et,[e[37]||(e[37]=t("div",{class:"section-label mb-1"},"Configuration",-1)),t("div",null,[t("div",Nt,[e[16]||(e[16]=t("label",{class:"text-xs text-zinc-500 font-body"},"Max Tokens",-1)),t("span",Lt,i(d(o).maxTokens),1)]),t("input",{type:"range",value:d(o).maxTokens,min:"64",max:"4096",step:"64",class:"w-full",onInput:e[0]||(e[0]=s=>d(o).maxTokens=parseInt(s.target.value))},null,40,It)]),t("div",null,[t("div",jt,[e[17]||(e[17]=t("label",{class:"text-xs text-zinc-500 font-body"},"Temperature",-1)),t("span",Dt,i(d(o).temperature.toFixed(1)),1)]),t("input",{type:"range",value:d(o).temperature,min:"0",max:"2",step:"0.1",class:"w-full",onInput:e[1]||(e[1]=s=>d(o).temperature=parseFloat(s.target.value))},null,40,Kt)]),t("div",null,[e[18]||(e[18]=t("div",{class:"flex items-center justify-between mb-2"},[t("label",{class:"text-xs text-zinc-500 font-body"},"Runs per model")],-1)),t("input",{type:"number",value:d(o).runs,min:"1",max:"10",class:"w-20 px-3 py-1.5 text-sm font-mono rounded-sm prompt-input",onInput:e[2]||(e[2]=s=>d(o).runs=Math.max(1,Math.min(10,parseInt(s.target.value)||1)))},null,40,qt)]),t("div",null,[t("div",Wt,[e[19]||(e[19]=t("label",{class:"text-xs text-zinc-500 font-body"},"Timeout (seconds)",-1)),t("span",Ut,i(d(o).timeout)+"s",1)]),t("input",{type:"range",value:d(o).timeout,min:"30",max:"600",step:"30",class:"w-full",onInput:e[3]||(e[3]=s=>d(o).timeout=parseInt(s.target.value))},null,40,Vt)]),t("div",null,[e[20]||(e[20]=t("label",{class:"text-xs text-zinc-500 font-body block mb-2"},"Context Tiers",-1)),z(Ot,{"selected-tiers":d(o).contextTiers,onToggle:d(o).toggleTier},null,8,["selected-tiers","onToggle"])]),t("div",null,[t("div",Ht,[e[22]||(e[22]=t("label",{class:"text-xs text-zinc-500 font-body"},"Prompt",-1)),Q(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.value=s),onChange:u,class:"text-xs font-mono px-3 py-1.5 rounded-sm cursor-pointer",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",color:"#A1A1AA",outline:"none","max-width":"220px"}},[e[21]||(e[21]=t("option",{value:""},"Custom",-1)),(r(!0),a(B,null,R(d(o).promptTemplates,s=>(r(),a("option",{key:s.key,value:s.key},i(s.label),9,Jt))),128))],544),[[ct,n.value]])]),t("textarea",{value:d(o).prompt,rows:"3",class:"w-full px-3 py-2 rounded-sm prompt-input text-sm",placeholder:"Enter prompt for benchmark...",onInput:e[5]||(e[5]=s=>d(o).prompt=s.target.value)},null,40,Gt)]),t("div",null,[t("button",{onClick:e[6]||(e[6]=s=>_.value=!_.value),class:"flex items-center gap-1.5 text-xs text-zinc-500 font-body hover:text-zinc-300 transition-colors"},[(r(),a("svg",{class:j(["w-3 h-3 transition-transform",_.value?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),e[24]||(e[24]=F(" Advanced Parameters ",-1)),b.value>0?(r(),a("span",Qt,"("+i(b.value)+" set)",1)):C("",!0)]),_.value?(r(),a("div",Zt,[e[36]||(e[36]=t("p",{class:"text-[10px] text-zinc-600 font-body ml-3"}," Tier 2 params — validated per provider. Unsupported params are auto-dropped. ",-1)),t("div",Xt,[t("div",Yt,[e[25]||(e[25]=t("label",{class:"text-xs text-zinc-500 font-body"},"top_p",-1)),t("span",te,i(d(o).providerParams.top_p??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.top_p??1,min:"0",max:"1",step:"0.05",class:"w-full",onInput:e[7]||(e[7]=s=>d(o).providerParams.top_p=parseFloat(s.target.value))},null,40,ee),t("div",se,[e[26]||(e[26]=t("span",{class:"text-[9px] text-zinc-700"},"0",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[8]||(e[8]=s=>delete d(o).providerParams.top_p)},"reset"),e[27]||(e[27]=t("span",{class:"text-[9px] text-zinc-700"},"1",-1))])]),t("div",oe,[t("div",ne,[e[28]||(e[28]=t("label",{class:"text-xs text-zinc-500 font-body"},"frequency_penalty",-1)),t("span",re,i(d(o).providerParams.frequency_penalty??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.frequency_penalty??0,min:"-2",max:"2",step:"0.1",class:"w-full",onInput:e[9]||(e[9]=s=>d(o).providerParams.frequency_penalty=parseFloat(s.target.value))},null,40,le),t("div",ae,[e[29]||(e[29]=t("span",{class:"text-[9px] text-zinc-700"},"-2",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[10]||(e[10]=s=>delete d(o).providerParams.frequency_penalty)},"reset"),e[30]||(e[30]=t("span",{class:"text-[9px] text-zinc-700"},"2",-1))])]),t("div",ie,[t("div",de,[e[31]||(e[31]=t("label",{class:"text-xs text-zinc-500 font-body"},"presence_penalty",-1)),t("span",ce,i(d(o).providerParams.presence_penalty??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.presence_penalty??0,min:"-2",max:"2",step:"0.1",class:"w-full",onInput:e[11]||(e[11]=s=>d(o).providerParams.presence_penalty=parseFloat(s.target.value))},null,40,ue),t("div",pe,[e[32]||(e[32]=t("span",{class:"text-[9px] text-zinc-700"},"-2",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[12]||(e[12]=s=>delete d(o).providerParams.presence_penalty)},"reset"),e[33]||(e[33]=t("span",{class:"text-[9px] text-zinc-700"},"2",-1))])]),t("div",me,[e[34]||(e[34]=t("div",{class:"flex items-center justify-between mb-1"},[t("label",{class:"text-xs text-zinc-500 font-body"},"seed")],-1)),t("div",xe,[t("input",{type:"number",value:d(o).providerParams.seed??"",min:"0",class:"w-28 px-3 py-1.5 text-sm font-mono rounded-sm prompt-input",placeholder:"—",onInput:e[13]||(e[13]=s=>s.target.value?d(o).providerParams.seed=parseInt(s.target.value):delete d(o).providerParams.seed)},null,40,ve),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[14]||(e[14]=s=>delete d(o).providerParams.seed)},"reset")])]),t("div",fe,[e[35]||(e[35]=t("div",{class:"flex items-center justify-between mb-1"},[t("label",{class:"text-xs text-zinc-500 font-body"},"Custom passthrough (JSON)")],-1)),t("textarea",{value:g.value,rows:"2",class:"w-full px-3 py-2 rounded-sm prompt-input text-xs font-mono",placeholder:'e.g. {"repetition_penalty": 1.2}',onBlur:e[15]||(e[15]=s=>v(s.target.value))},null,40,be),x.value?(r(),a("p",ge,i(x.value),1)):C("",!0)])])):C("",!0)])]))}},_e={class:"progress-track rounded-full overflow-hidden"},ke={key:0,class:"text-[10px] font-mono text-zinc-500 mt-1 text-right"},he={__name:"ProgressBar",props:{percent:{type:Number,default:0},eta:{type:String,default:""}},setup(f){return(o,n)=>(r(),a("div",null,[t("div",_e,[t("div",{class:"progress-fill",style:w({width:f.percent+"%"})},null,4)]),f.eta?(r(),a("div",ke,i(f.eta),1)):C("",!0)]))}},$e={class:"flex flex-col gap-3"},Ce=["title"],Te={class:"ppr-mid"},Se={class:"ppr-status"},Be={class:"ppr-track"},we={class:"ppr-count"},ze={key:0,class:"mt-3 p-3 rounded-sm flex flex-col gap-1.5",style:{background:"rgba(255,59,92,0.06)",border:"1px solid rgba(255,59,92,0.2)"}},Fe={__name:"ProviderProgress",props:{providerProgress:{type:Object,required:!0}},setup(f){const o=f;function n(u){return u.completedSteps>=u.totalSteps}function _(u){return u.errors.length>0}function x(u){return u.totalSteps>0?u.completedSteps/u.totalSteps*100:0}function b(u,c){return _(u)?"#FBBF24":n(u)?"#4ADE80":A(c).bar}function g(u){if(!u.currentContextTokens||u.currentContextTokens===0)return"";const c=u.currentContextTokens;return c>=1e3?` @ ${c/1e3}K ctx`:` @ ${c} ctx`}const v=k(()=>{const u=[];for(const[c,e]of Object.entries(o.providerProgress))for(const s of e.errors)u.push({provider:c,...s});return u});return(u,c)=>(r(),a("div",$e,[(r(!0),a(B,null,R(f.providerProgress,(e,s)=>(r(),a("div",{key:s,class:"provider-progress-row"},[t("div",{class:"ppr-name",style:w({color:d(A)(s).text}),title:s},i(s),13,Ce),t("div",Te,[t("div",Se,[n(e)&&!_(e)?(r(),a(B,{key:0},[c[0]||(c[0]=t("span",{style:{color:"#4ADE80"}},"✓",-1)),c[1]||(c[1]=F(" Complete ",-1))],64)):n(e)&&_(e)?(r(),a(B,{key:1},[c[2]||(c[2]=t("span",{style:{color:"#FBBF24"}},"⚠",-1)),c[3]||(c[3]=F(" Done with errors ",-1))],64)):e.status==="running"&&e.currentModel?(r(),a(B,{key:2},[F(i(e.currentModel)+i(g(e))+" (run "+i(e.currentRun)+"/"+i(e.totalRuns)+") ",1)],64)):(r(),a(B,{key:3},[F(" Waiting... ")],64))]),t("div",Be,[t("div",{class:j(["ppr-fill",n(e)?"done":""]),style:w({width:x(e)+"%",backgroundColor:b(e,s),boxShadow:n(e)?"none":"0 0 8px "+d(A)(s).bar+"44"})},null,6)])]),t("div",we,i(e.completedSteps)+"/"+i(e.totalSteps),1)]))),128)),v.value.length>0?(r(),a("div",ze,[c[4]||(c[4]=t("div",{class:"text-[11px] font-display tracking-wider uppercase",style:{color:"#FB7185","margin-bottom":"2px"}}," Errors ",-1)),(r(!0),a(B,null,R(v.value,(e,s)=>(r(),a("div",{key:s,class:"text-[11px] font-body",style:{color:"#FB7185"}},i(e.provider)+" / "+i(e.model)+": "+i(e.message),1))),128))])):C("",!0)]))}},Ae={class:"card rounded-lg p-5"},Me={class:"flex items-center justify-between mb-4"},Pe={class:"flex items-center gap-3"},Re={class:"text-sm text-zinc-300 font-body"},Oe={class:"text-xs font-mono text-zinc-500"},Ee={key:0,class:"ml-2 text-zinc-600"},Ne={class:"mt-5"},Le={key:0,class:"mt-4"},Ie={class:"mt-4 flex justify-end"},je={__name:"BenchmarkProgress",setup(f){const o=K(),n=k(()=>{const{completed:_,total:x}=o.overallProgress;return x>0?_/x*100:0});return(_,x)=>(r(),a("div",Ae,[t("div",Me,[t("div",Pe,[x[1]||(x[1]=t("div",{class:"pulse-dot"},null,-1)),t("span",Re,i(d(o).overallLabel||"Running..."),1)]),t("span",Oe,[F(i(d(o).overallProgress.completed)+"/"+i(d(o).overallProgress.total)+" ",1),d(o).eta?(r(),a("span",Ee,i(d(o).eta),1)):C("",!0)])]),z(he,{percent:n.value,eta:d(o).eta},null,8,["percent","eta"]),t("div",Ne,[z(Fe,{"provider-progress":d(o).providerProgress},null,8,["provider-progress"])]),d(o).skippedModels.length>0?(r(),a("div",Le,[(r(!0),a(B,null,R(d(o).skippedModels,(b,g)=>(r(),a("div",{key:g,class:"skipped-line"}," ⏭ "+i(b.model)+": skipped ("+i(b.reason)+") ",1))),128))])):C("",!0),t("div",Ie,[t("button",{class:"text-xs font-display tracking-wider uppercase px-4 py-2 rounded-sm transition-colors",style:{color:"var(--coral)",background:"rgba(255,59,92,0.08)",border:"1px solid rgba(255,59,92,0.2)"},onClick:x[0]||(x[0]=b=>d(o).cancelBenchmark())}," Cancel ")])]))}};function G(){return D.defaults.color="#8B8B95",D.defaults.borderColor="#1f1f23",D.defaults.font.family="'Outfit', sans-serif",{gridColor:"rgba(255,255,255,0.03)",tooltipStyle:{backgroundColor:"#1c1c20",borderColor:"#27272A",borderWidth:1,titleFont:{family:"'Outfit'",weight:"500",size:13},bodyFont:{family:"'Space Mono'",size:12},titleColor:"#E4E4E7",bodyColor:"#A1A1AA",padding:12,cornerRadius:2},axisLabelFont:{family:"'Chakra Petch'",size:10,weight:"600"},tickFont:{family:"'Space Mono'",size:11}}}const De={class:"card p-4 rounded-lg"},Ke={class:"section-label mb-3"},qe={__name:"ThroughputChart",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){D.register(X,U,Y,tt,V,H,J,et);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:x,tickFont:b}=G(),g=k(()=>o.isStressMode?st:ot),v=k(()=>o.isStressMode?320:Math.max(200,o.results.length*36)),u=k(()=>{const e=o.results;if(!o.isStressMode)return{labels:e.map(p=>p.model),datasets:[{label:"Tokens/sec",data:e.map(p=>p.tokens_per_second),backgroundColor:e.map(p=>A(p.provider).bar+"CC"),borderColor:e.map(p=>A(p.provider).bar),borderWidth:0,borderRadius:2,barPercentage:.55}]};const s=[...new Set(e.map(p=>p.context_tokens))].sort((p,h)=>p-h),l=[...new Set(e.map(p=>`${p.model_id}::${p.provider}`))],$=s.map(p=>p===0?"0":p>=1e3?p/1e3+"K":String(p)),T=l.map(p=>{var E,L;const h=e.filter(M=>`${M.model_id}::${M.provider}`===p),O=((E=h[0])==null?void 0:E.model)||p,y=((L=h[0])==null?void 0:L.provider)||"",m=A(y),N=s.map(M=>{const P=h.find(S=>S.context_tokens===M);return P&&P.success?P.tokens_per_second:null});return{label:O,data:N,borderColor:m.bar,backgroundColor:m.bar+"33",borderWidth:2,pointRadius:4,pointBackgroundColor:m.bar,pointBorderColor:"#09090B",pointBorderWidth:2,tension:.3,spanGaps:!1}});return{labels:$,datasets:T}}),c=k(()=>{const e={responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"}};return o.isStressMode?{...e,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:12,boxHeight:2,padding:16}},tooltip:{..._,callbacks:{title:s=>`Context: ${s[0].label} tokens`,label:s=>s.parsed.y!==null?` ${s.dataset.label}: ${s.parsed.y.toFixed(1)} tok/s`:` ${s.dataset.label}: N/A`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"CONTEXT SIZE (TOKENS)",color:"#63636B",font:x,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:x,padding:{right:12}}}}}:{...e,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{..._,callbacks:{label:s=>` ${s.parsed.x.toFixed(1)} tok/s`,afterLabel:s=>{const l=o.results[s.dataIndex];return l?` TTFT: ${l.ttft_ms.toFixed(0)}ms  |  Tokens: ${l.output_tokens.toFixed(0)}`:""}}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:x,padding:{top:12}}},y:{grid:{display:!1,drawBorder:!1},ticks:{color:"#A1A1AA",font:{family:"'Outfit'",size:12,weight:"500"}}}}}});return(e,s)=>(r(),a("div",De,[t("div",Ke,i(f.isStressMode?"Throughput vs Context Size":"Throughput (Tokens/sec)"),1),t("div",{style:w({height:v.value+"px"})},[(r(),W(Z(g.value),{data:u.value,options:c.value},null,8,["data","options"]))],4)]))}},We={class:"card p-4 rounded-lg"},Ue={class:"section-label mb-3"},Ve={__name:"TTFTChart",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){D.register(X,U,Y,tt,V,H,J,et);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:x,tickFont:b}=G(),g=k(()=>o.isStressMode?st:ot),v=k(()=>{if(o.isStressMode)return 320;const e=o.results.filter(s=>s.success);return Math.max(200,e.length*36)}),u=k(()=>{const e=o.results;if(!o.isStressMode){const p=[...e].filter(h=>h.success).sort((h,O)=>h.ttft_ms-O.ttft_ms);return{labels:p.map(h=>h.model),datasets:[{label:"TTFT (ms)",data:p.map(h=>h.ttft_ms),backgroundColor:p.map(h=>A(h.provider).bar+"CC"),borderWidth:0,borderRadius:2,barPercentage:.55}]}}const s=[...new Set(e.map(p=>p.context_tokens))].sort((p,h)=>p-h),l=[...new Set(e.map(p=>`${p.model_id}::${p.provider}`))],$=s.map(p=>p===0?"0":p>=1e3?p/1e3+"K":String(p)),T=l.map(p=>{var E,L;const h=e.filter(M=>`${M.model_id}::${M.provider}`===p),O=((E=h[0])==null?void 0:E.model)||p,y=((L=h[0])==null?void 0:L.provider)||"",m=A(y),N=s.map(M=>{const P=h.find(S=>S.context_tokens===M);return P&&P.success?P.ttft_ms:null});return{label:O,data:N,borderColor:m.bar,backgroundColor:m.bar+"33",borderWidth:2,pointRadius:4,pointBackgroundColor:m.bar,pointBorderColor:"#09090B",pointBorderWidth:2,tension:.3,spanGaps:!1}});return{labels:$,datasets:T}}),c=k(()=>{const e={responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"}};return o.isStressMode?{...e,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:12,boxHeight:2,padding:16}},tooltip:{..._,callbacks:{title:s=>`Context: ${s[0].label} tokens`,label:s=>s.parsed.y!==null?` ${s.dataset.label}: ${s.parsed.y.toFixed(0)}ms`:` ${s.dataset.label}: N/A`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"CONTEXT SIZE (TOKENS)",color:"#63636B",font:x,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TIME TO FIRST TOKEN (MS)",color:"#63636B",font:x,padding:{right:12}}}}}:{...e,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{..._,callbacks:{label:s=>` ${s.parsed.x.toFixed(0)} ms`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TIME TO FIRST TOKEN (MS)",color:"#63636B",font:x,padding:{top:12}}},y:{grid:{display:!1,drawBorder:!1},ticks:{color:"#A1A1AA",font:{family:"'Outfit'",size:12,weight:"500"}}}}}});return(e,s)=>(r(),a("div",We,[t("div",Ue,i(f.isStressMode?"Latency (TTFT) vs Context Size":"Time to First Token (TTFT)"),1),t("div",{style:w({height:v.value+"px"})},[(r(),W(Z(g.value),{data:u.value,options:c.value},null,8,["data","options"]))],4)]))}},He={key:0,class:"card p-4 rounded-lg"},Je={style:{height:"320px"}},Ge={__name:"ScatterChart",props:{results:{type:Array,required:!0}},setup(f){D.register(U,V,H,J);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:x,tickFont:b}=G(),g=k(()=>o.results.filter(e=>e.success)),v=k(()=>g.value.length>=2),u=k(()=>{const e=g.value;if(e.length<2)return{datasets:[]};const s=e.map(h=>h.output_tokens),l=Math.min(...s),$=Math.max(...s),T=h=>$===l?10:5+(h-l)/($-l)*15;return{datasets:e.map(h=>{const O=A(h.provider);return{label:h.model,data:[{x:h.tokens_per_second,y:h.ttft_ms}],backgroundColor:O.bar,borderColor:O.bar,pointRadius:T(h.output_tokens),pointHoverRadius:T(h.output_tokens)+3}})}}),c=k(()=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:8,boxHeight:8,padding:12,usePointStyle:!0}},tooltip:{..._,callbacks:{title:e=>e[0].dataset.label,label:e=>[` Tok/s: ${e.parsed.x.toFixed(1)}`,` TTFT: ${e.parsed.y.toFixed(0)}ms`]}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:x,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TTFT (MS)",color:"#63636B",font:x,padding:{right:12}}}}}));return(e,s)=>v.value?(r(),a("div",He,[s[0]||(s[0]=t("div",{class:"section-label mb-3"},"Speed vs Latency",-1)),t("div",Je,[z(d(ft),{data:u.value,options:c.value},null,8,["data","options"])])])):C("",!0)}},Qe={__name:"ProviderBadge",props:{name:String,providerKey:String},setup(f){const o=f,n=k(()=>A(o.providerKey||o.name));return(_,x)=>(r(),a("span",{class:"badge",style:w({background:n.value.bg,border:"1px solid "+n.value.border,color:n.value.text})},i(f.name),5))}},Ze={class:"card rounded-lg overflow-hidden"},Xe={class:"overflow-x-auto"},Ye={class:"w-full results-table"},ts={class:"text-left",style:{"border-bottom":"1px solid var(--border-subtle)"}},es={class:"px-5 py-3.5 text-center"},ss={key:1,class:"text-zinc-600"},os={class:"px-5 py-3.5"},ns={class:"px-5 py-3.5 text-zinc-200 font-medium font-body text-[13px]"},rs=["onClick"],ls={key:0,class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},as={key:1,class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-600"},is={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},ds={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},cs={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},us={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},ps={class:"px-5 py-3.5 text-center"},ms={key:0,class:"text-green-500 text-xs font-mono"},xs={key:1,class:"text-amber-500 text-xs font-mono"},vs=["title"],fs={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},bs={__name:"ResultsTable",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){const o=["P1","P2","P3"],n=f,_=I("tokens_per_second"),x=I(!1),b=k(()=>n.results.some(e=>e.runs>1)),g=k(()=>{if(_.value==="rank")return n.results;const e=_.value;return[...n.results].sort((s,l)=>{let $=s[e]??0,T=l[e]??0;return typeof $=="string"&&($=$.toLowerCase()),typeof T=="string"&&(T=T.toLowerCase()),x.value?$>T?1:$<T?-1:0:$<T?1:$>T?-1:0})});function v(e){_.value===e?x.value=!x.value:(_.value=e,x.value=e==="ttft_ms"||e==="total_time_s"||e==="avg_cost")}function u(e){return q(e).replace(" ctx","")}function c(e){navigator.clipboard.writeText(e).catch(()=>{})}return(e,s)=>(r(),a("div",Ze,[t("div",Xe,[t("table",Ye,[t("thead",null,[t("tr",ts,[t("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:s[0]||(s[0]=l=>v("rank"))}," Rank "),t("th",{class:"px-5 py-3 section-label cursor-pointer",onClick:s[1]||(s[1]=l=>v("provider"))}," Provider "),t("th",{class:"px-5 py-3 section-label cursor-pointer",onClick:s[2]||(s[2]=l=>v("model"))}," Model "),f.isStressMode?(r(),a("th",{key:0,class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[3]||(s[3]=l=>v("context_tokens"))}," Context ")):C("",!0),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[4]||(s[4]=l=>v("tokens_per_second"))}," Tok/s "),b.value?(r(),a("th",{key:1,class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[5]||(s[5]=l=>v("std_dev_tps"))}," Std Dev ")):C("",!0),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[6]||(s[6]=l=>v("ttft_ms"))}," TTFT "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[7]||(s[7]=l=>v("input_tokens_per_second"))}," Input Tok/s "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[8]||(s[8]=l=>v("total_time_s"))}," Duration "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[9]||(s[9]=l=>v("output_tokens"))}," Tokens "),s[11]||(s[11]=t("th",{class:"px-5 py-3 text-center section-label"},"Status",-1)),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[10]||(s[10]=l=>v("avg_cost"))}," Cost ")])]),t("tbody",null,[(r(!0),a(B,null,R(g.value,(l,$)=>(r(),a("tr",{key:l.model_id+"::"+l.provider+"::"+l.context_tokens,class:j($===0&&l.success?"rank-1 fade-in":"fade-in")},[t("td",es,[$<3&&l.success?(r(),a("span",{key:0,class:"font-display font-bold",style:w($===0?"color:var(--lime)":"")},i(o[$]),5)):(r(),a("span",ss,i($+1),1))]),t("td",os,[z(Qe,{name:l.provider},null,8,["name"])]),t("td",ns,[F(i(l.model)+" ",1),!l.success&&l.error?(r(),a("div",{key:0,class:"text-[11px] font-mono mt-0.5 cursor-pointer",style:{color:"#FB7185","word-break":"break-word","max-width":"320px"},title:"Click to copy",onClick:T=>c(l.error)},i(l.error),9,rs)):C("",!0)]),f.isStressMode?(r(),a("td",ls,i(l.context_tokens===0?"0":u(l.context_tokens)),1)):C("",!0),t("td",{class:j(["px-5 py-3.5 text-right font-mono text-sm",l.success&&$===0?"":"text-zinc-400"]),style:w(l.success&&$===0?"color:var(--lime)":"")},i(l.success?l.tokens_per_second.toFixed(1):"-"),7),b.value?(r(),a("td",as,i(l.success&&l.std_dev_tps>0?"±"+l.std_dev_tps.toFixed(1):"-"),1)):C("",!0),t("td",is,i(l.success?l.ttft_ms.toFixed(0)+"ms":"-"),1),t("td",ds,i(l.success&&l.input_tokens_per_second>0?Math.round(l.input_tokens_per_second).toLocaleString():"-"),1),t("td",cs,i(l.success?l.total_time_s.toFixed(2)+"s":"-"),1),t("td",us,i(l.success?l.output_tokens.toFixed(0):"-"),1),t("td",ps,[l.failures===0?(r(),a("span",ms,i(l.runs)+"/"+i(l.runs),1)):l.failures<l.runs?(r(),a("span",xs,i(l.runs-l.failures)+"/"+i(l.runs),1)):(r(),a("span",{key:2,class:"text-red-400 text-xs font-mono",title:l.error}," FAIL ",8,vs))]),t("td",fs,i(l.success&&l.avg_cost>0?"$"+l.avg_cost.toFixed(4):"-"),1)],2))),128))])])])]))}},gs={class:"flex flex-col gap-6"},ys={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},_s={class:"stat-card card-accent rounded-sm p-4"},ks={class:"big-num text-2xl text-zinc-100"},hs={class:"text-[11px] text-zinc-600 mt-1 font-body"},$s={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #38BDF8"}},Cs={class:"big-num text-2xl text-zinc-100"},Ts={class:"text-[11px] text-zinc-600 mt-1 font-body"},Ss={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #8B8B95"}},Bs={class:"big-num text-2xl text-zinc-100"},ws={class:"text-[11px] text-zinc-600 mt-1 font-body"},zs={class:"big-num text-2xl text-zinc-100"},Fs={class:"text-[11px] text-zinc-600 mt-1 font-body"},As={class:"stat-card card-accent rounded-sm p-4"},Ms={class:"big-num text-2xl text-zinc-100"},Ps={class:"text-[11px] text-zinc-600 mt-1 font-body"},Rs={key:1,class:"text-zinc-600 text-sm font-body"},Os={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #38BDF8"}},Es={class:"section-label mb-2"},Ns={class:"big-num text-2xl text-zinc-100"},Ls={class:"text-[11px] text-zinc-600 mt-1 font-body"},Is={key:1,class:"text-zinc-600 text-sm font-body"},js={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #8B8B95"}},Ds={class:"big-num text-2xl text-zinc-100"},Ks={class:"text-[11px] text-zinc-600 mt-1 font-body"},qs={class:"text-[11px] text-zinc-600 mt-1 font-body"},Ws={key:1,class:"error-banner",style:{"flex-direction":"column","align-items":"flex-start"}},Us={key:0,class:"w-full mt-2 pt-2",style:{"border-top":"1px solid rgba(255,59,92,0.2)"}},Vs=["onClick"],Hs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Js={key:3,class:"flex justify-end"},Gs={__name:"BenchmarkResults",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){const o=f,n=k(()=>o.results.length>0),_=k(()=>n.value&&o.results.every(y=>!y.success)),x=k(()=>o.results[0]||{}),b=k(()=>[...o.results].filter(y=>y.success).sort((y,m)=>y.ttft_ms-m.ttft_ms)[0]||{}),g=k(()=>o.results.length),v=k(()=>o.results.reduce((y,m)=>y+m.runs,0)),u=k(()=>o.results.reduce((y,m)=>y+m.failures,0)),c=k(()=>o.results.reduce((y,m)=>y+(m.total_cost||0),0)),e=k(()=>o.results.filter(y=>y.context_tokens===0&&y.success).sort((y,m)=>m.tokens_per_second-y.tokens_per_second)[0]),s=k(()=>Math.max(...o.results.map(y=>y.context_tokens))),l=k(()=>q(s.value).replace(" ctx","")),$=k(()=>o.results.filter(y=>y.context_tokens===s.value&&y.success).sort((y,m)=>m.tokens_per_second-y.tokens_per_second)[0]),T=k(()=>new Set(o.results.map(y=>y.context_tokens)).size),p=k(()=>o.results.filter(y=>!y.success&&y.error).map(y=>`${y.provider}/${y.model}: ${y.error}`));function h(y){navigator.clipboard.writeText(y).catch(()=>{})}function O(){const y=o.results;if(!y.length)return;const m=["Provider","Model","Tok/s","TTFT (ms)","Input Tok/s","Duration (s)","Output Tokens","Status","Avg Cost","Total Cost"],N=y.map(S=>[S.provider,S.model,S.success?S.tokens_per_second.toFixed(2):"",S.success?S.ttft_ms.toFixed(0):"",S.success&&S.input_tokens_per_second>0?Math.round(S.input_tokens_per_second):"",S.success?S.total_time_s.toFixed(3):"",S.success?S.output_tokens.toFixed(0):"",S.success?S.failures?"partial":"ok":"fail",S.success&&S.avg_cost>0?S.avg_cost.toFixed(6):"",S.success&&S.total_cost>0?S.total_cost.toFixed(6):""]),E=[m,...N].map(S=>S.map(nt=>`"${String(nt).replace(/"/g,'""')}"`).join(",")).join(`
`),L=new Blob([E],{type:"text/csv"}),M=URL.createObjectURL(L),P=document.createElement("a");P.href=M,P.download="benchmark_results.csv",P.click(),URL.revokeObjectURL(M)}return(y,m)=>(r(),a("div",gs,[n.value?(r(),a("div",ys,[f.isStressMode?(r(),a(B,{key:1},[t("div",As,[m[7]||(m[7]=t("div",{class:"section-label mb-2"},"Best @ 0K",-1)),e.value?(r(),a(B,{key:0},[t("div",Ms,[F(i(e.value.tokens_per_second.toFixed(1))+" ",1),m[6]||(m[6]=t("span",{class:"text-xs font-normal",style:{color:"var(--lime)"}},"tok/s",-1))]),t("div",Ps,i(e.value.model),1)],64)):(r(),a("div",Rs,"N/A"))]),t("div",Os,[t("div",Es,"Best @ "+i(l.value),1),$.value?(r(),a(B,{key:0},[t("div",Ns,[F(i($.value.tokens_per_second.toFixed(1))+" ",1),m[8]||(m[8]=t("span",{class:"text-xs font-normal",style:{color:"#38BDF8"}},"tok/s",-1))]),t("div",Ls,i($.value.model),1)],64)):(r(),a("div",Is,"N/A"))]),t("div",js,[m[9]||(m[9]=t("div",{class:"section-label mb-2"},"Tiers Tested",-1)),t("div",Ds,i(T.value),1),t("div",Ks,i(v.value)+" total runs",1)]),t("div",{class:"stat-card card rounded-sm p-4",style:w("border-left: 3px solid "+(u.value?"var(--coral)":"#22C55E"))},[m[10]||(m[10]=t("div",{class:"section-label mb-2"},"Failures",-1)),t("div",{class:j(["big-num text-2xl",u.value?"text-red-400":"text-green-400"])},i(u.value||"None"),3),t("div",qs,i(u.value?"Check errors":"All nominal"),1)],4)],64)):(r(),a(B,{key:0},[t("div",_s,[m[1]||(m[1]=t("div",{class:"section-label mb-2"},"Fastest",-1)),t("div",ks,[F(i(x.value.tokens_per_second.toFixed(1))+" ",1),m[0]||(m[0]=t("span",{class:"text-xs font-normal",style:{color:"var(--lime)"}},"tok/s",-1))]),t("div",hs,i(x.value.model),1)]),t("div",$s,[m[3]||(m[3]=t("div",{class:"section-label mb-2"},"Best TTFT",-1)),t("div",Cs,[F(i(b.value.ttft_ms.toFixed(0)),1),m[2]||(m[2]=t("span",{class:"text-xs font-normal text-zinc-500"},"ms",-1))]),t("div",Ts,i(b.value.model),1)]),t("div",Ss,[m[4]||(m[4]=t("div",{class:"section-label mb-2"},"Models",-1)),t("div",Bs,i(g.value),1),t("div",ws,i(v.value)+" total runs",1)]),t("div",{class:"stat-card card rounded-sm p-4",style:w("border-left: 3px solid "+(c.value>0?"#FB923C":"#22C55E"))},[m[5]||(m[5]=t("div",{class:"section-label mb-2"},"Total Cost",-1)),t("div",zs,i(c.value>0?"$"+c.value.toFixed(4):"$0"),1),t("div",Fs,i(u.value?u.value+" failure(s)":"All nominal"),1)],4)],64))])):C("",!0),_.value?(r(),a("div",Ws,[m[11]||(m[11]=t("div",null,"All benchmarks failed. Check your API keys and model configuration.",-1)),p.value.length?(r(),a("div",Us,[(r(!0),a(B,null,R(p.value,(N,E)=>(r(),a("div",{key:E,class:"text-[11px] font-mono mt-1 cursor-pointer",style:{color:"#FCA5A5","word-break":"break-word"},onClick:L=>h(N)},i(N),9,Vs))),128))])):C("",!0)])):C("",!0),n.value&&!_.value?(r(),a(B,{key:2},[t("div",Hs,[z(qe,{results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"]),z(Ve,{results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"])]),z(Ge,{results:f.results},null,8,["results"])],64)):C("",!0),n.value&&!_.value?(r(),a("div",Js,[t("button",{class:"text-[11px] font-display tracking-wider uppercase px-4 py-2 rounded-sm transition-colors text-zinc-500 hover:text-zinc-300",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"},onClick:O}," Export CSV ")])):C("",!0),n.value?(r(),W(bs,{key:4,results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"])):C("",!0)]))}},Qs={class:"max-w-7xl mx-auto px-6 py-8"},Zs={key:0,class:"text-center py-16"},Xs={key:1,class:"error-banner mb-6"},Ys={class:"mb-6"},to={class:"flex items-center justify-between mb-4"},eo={class:"text-xs font-mono text-zinc-600"},so={class:"mb-6"},oo={class:"mb-6 flex items-center gap-4"},no={key:0,class:"text-xs text-zinc-600"},ro={key:0,class:"error-banner mb-6"},lo={key:1,class:"param-warn-banner mb-6"},ao={class:"text-zinc-400"},io={key:2,class:"mb-6"},co={key:3,class:"mb-6"},bo={__name:"BenchmarkPage",setup(f){const o=rt(),n=K(),{showToast:_}=xt(),x=I(!1),b=k(()=>n.currentResults.length>0),{connect:g,disconnect:v}=mt(()=>{const s=location.protocol==="https:"?"wss:":"ws:",l=vt();return`${s}//${location.host}/ws?token=${encodeURIComponent(l)}`},{onMessage(s){if(n.handleJobEvent(s),s.type==="sync")for(const l of s.active_jobs||[])l.job_type==="benchmark"&&["running","pending","queued"].includes(l.status)&&n.restoreRunningJob(l)}});async function u(){x.value=!1;try{await o.loadConfig(),n.applyDefaults(o.config),n.selectAllFromConfig(o.config),n.replayPendingInit(),o.loadParamsRegistry(),n.loadPromptTemplates()}catch(s){console.error("Failed to load config:",s),x.value=!0}}async function c(){try{const s=await n.startBenchmark();_("Benchmark submitted","success")}catch(s){_(s.message||"Benchmark failed","error")}}function e(){n.errorBanner=null,n.lastBenchmarkBody&&n.startBenchmark(n.lastBenchmarkBody).catch(s=>{_(s.message||"Retry failed","error")})}return ut(()=>{u(),g()}),pt(()=>{v()}),(s,l)=>(r(),a("div",Qs,[d(o).loading?(r(),a("div",Zs,[...l[0]||(l[0]=[t("div",{class:"text-zinc-500 text-sm"},"Loading configuration...",-1)])])):x.value?(r(),a("div",Xs,[l[1]||(l[1]=t("div",null,"Failed to load configuration. Check your connection and refresh.",-1)),t("button",{onClick:u},"Retry")])):d(o).config?(r(),a(B,{key:2},[t("div",Ys,[t("div",to,[l[2]||(l[2]=t("h2",{class:"section-label"},"Select Models",-1)),t("span",eo,i(d(n).selectedCount)+" selected ",1)]),z(zt,{providers:d(o).providers,"selected-models":d(n).selectedModels,onToggle:d(n).toggleModel,onSelectAll:d(n).selectAll,onSelectNone:d(n).selectNone,onToggleProvider:d(n).toggleProviderModels},null,8,["providers","selected-models","onToggle","onSelectAll","onSelectNone","onToggleProvider"])]),t("div",so,[z(ye)]),t("div",oo,[z(At,{disabled:d(n).isRunning||d(n).selectedCount===0,running:d(n).isRunning,onClick:c},null,8,["disabled","running"]),d(n).selectedCount===0?(r(),a("span",no," Select at least one model to run ")):C("",!0)]),d(n).errorBanner?(r(),a("div",ro,[t("div",null,i(d(n).errorBanner),1),d(n).lastBenchmarkBody?(r(),a("button",{key:0,onClick:e}," Retry ")):C("",!0)])):C("",!0),d(n).paramWarnings.length>0?(r(),a("div",lo,[l[3]||(l[3]=t("div",{class:"text-xs font-body text-amber-300 mb-1"},"Parameter adjustments applied:",-1)),(r(!0),a(B,null,R(d(n).paramWarnings,$=>(r(),a("div",{key:$.model_id,class:"text-xs font-mono text-amber-200/80 ml-2 mb-0.5"},[t("span",ao,i($.model_id)+":",1),(r(!0),a(B,null,R($.adjustments,(T,p)=>(r(),a("span",{key:T.param},i(T.param)+" "+i(T.action==="drop"?"dropped":T.action==="clamp"?`clamped ${T.original}→${T.adjusted}`:T.action==="rename"?`renamed → ${T.param}`:T.action)+i(p<$.adjustments.length-1?", ":""),1))),128))]))),128))])):C("",!0),d(n).isRunning?(r(),a("div",io,[z(je)])):C("",!0),b.value?(r(),a("div",co,[z(Gs,{results:d(n).aggregatedResults,"is-stress-mode":d(n).isStressMode},null,8,["results","is-stress-mode"])])):C("",!0)],64)):C("",!0)]))}};export{bo as default};
