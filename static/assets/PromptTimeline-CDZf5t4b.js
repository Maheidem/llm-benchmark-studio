import{b as t,c as s,d as o,t as r,F as x,A as m,e as p,l as v,f as i,r as z,B as w}from"./index-BqpQFpv6.js";const F={class:"card rounded-md p-5 mb-6"},G={class:"flex items-center justify-between mb-4"},B={class:"text-xs font-mono text-zinc-600"},C={key:0,class:"text-xs text-zinc-600 font-body text-center py-4"},N={key:1,class:"relative pl-6"},j=["onClick"],S={class:"flex items-center justify-between mb-1"},T={class:"text-xs font-display font-bold text-zinc-200"},A={key:0,class:"text-[10px] text-zinc-600 font-body"},V={key:1,class:"text-[10px] text-zinc-600 font-body mt-1"},D={key:2,class:"mt-3 space-y-2"},E={class:"flex items-center justify-between mb-1"},H={class:"flex items-center gap-2"},L={class:"text-[10px] font-mono text-zinc-500"},M={key:0,class:"text-[10px] font-body text-zinc-600"},O={key:1,class:"text-[9px] px-1.5 py-0.5 rounded-sm bg-lime-400/10 text-lime-400 font-display tracking-wider uppercase"},P={key:0,class:"text-xs text-zinc-400 font-body mt-1",style:{"max-height":"60px",overflow:"hidden"}},$={key:1,class:"flex flex-wrap gap-2 mt-2"},q={key:2,class:"mt-4 pt-3",style:{"border-top":"1px solid var(--border-subtle)"}},J={class:"flex items-end gap-1 h-12"},K=["title"],R={__name:"PromptTimeline",props:{generations:{type:Array,default:()=>[]},currentGenerationNum:{type:Number,default:0}},setup(l){const b=l,u=z(null),g=w(()=>b.generations.length===0?1:Math.max(...b.generations.map(a=>a.best_score||0),.01));function y(a){return a.generation===b.currentGenerationNum}function f(a){return a>=80?"var(--lime)":a>=50?"#FBBF24":"var(--coral)"}return(a,c)=>(t(),s("div",F,[o("div",G,[c[0]||(c[0]=o("span",{class:"section-label"},"Generation Timeline",-1)),o("span",B,r(l.generations.length)+" generation"+r(l.generations.length!==1?"s":""),1)]),l.generations.length===0?(t(),s("div",C," No generations yet ")):(t(),s("div",N,[c[1]||(c[1]=o("div",{class:"absolute left-2 top-2 bottom-2 w-px bg-zinc-700"},null,-1)),(t(!0),s(x,null,m(l.generations,(e,d)=>(t(),s("div",{key:d,class:"relative mb-6 last:mb-0"},[o("div",{class:p(["absolute -left-4 top-1 w-3 h-3 rounded-full border-2",y(e)?"bg-lime-400 border-lime-400":"bg-zinc-800 border-zinc-600"])},null,2),o("div",{class:p(["rounded-md px-4 py-3 cursor-pointer transition-colors",u.value===d?"bg-white/[0.04]":"hover:bg-white/[0.02]"]),style:{border:"1px solid var(--border-subtle)"},onClick:n=>u.value=u.value===d?null:d},[o("div",S,[o("span",T,"Gen "+r(e.generation),1),o("span",{class:"text-xs font-mono font-bold",style:v({color:f((e.best_score||0)*100)})},r(((e.best_score||0)*100).toFixed(1))+"% ",5)]),e.prompts&&e.prompts.length>0?(t(),s("div",A,r(e.prompts.length)+" prompts, best #"+r((e.best_index??e.best_prompt_index??0)+1),1)):i("",!0),e.survivors&&e.survivors.length>0?(t(),s("div",V,r(e.survivors.length)+" survivor"+r(e.survivors.length!==1?"s":"")+" selected ",1)):i("",!0),u.value===d&&e.prompts?(t(),s("div",D,[(t(!0),s(x,null,m(e.prompts,(n,h)=>(t(),s("div",{key:h,class:p(["rounded-sm px-3 py-2",n.survived?"bg-lime-400/[0.03]":"bg-white/[0.01]"]),style:{border:"1px solid var(--border-subtle)"}},[o("div",E,[o("div",H,[o("span",L,"#"+r(h+1),1),n.style?(t(),s("span",M,r(n.style),1)):i("",!0),n.survived?(t(),s("span",O,"survivor")):i("",!0)]),o("span",{class:"text-xs font-mono font-bold",style:v({color:f((n.avg_score||0)*100)})},r(((n.avg_score||0)*100).toFixed(1))+"% ",5)]),n.text?(t(),s("div",P,r(n.text.substring(0,200))+r(n.text.length>200?"...":""),1)):i("",!0),n.scores&&Object.keys(n.scores).length>0?(t(),s("div",$,[(t(!0),s(x,null,m(n.scores,(k,_)=>(t(),s("span",{key:_,class:"text-[10px] font-mono px-1.5 py-0.5 rounded-sm",style:{background:"rgba(255,255,255,0.04)",border:"1px solid var(--border-subtle)"}},r(_.split("/").pop())+": "+r(((k.overall||0)*100).toFixed(0))+"% ",1))),128))])):i("",!0)],2))),128))])):i("",!0)],10,j)]))),128))])),l.generations.length>1?(t(),s("div",q,[c[2]||(c[2]=o("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-2"},"Score Trend",-1)),o("div",J,[(t(!0),s(x,null,m(l.generations,(e,d)=>(t(),s("div",{key:d,class:"flex-1 rounded-t-sm transition-all",style:v({height:(e.best_score||0)/g.value*100+"%",background:y(e)?"var(--lime)":"rgba(191,255,0,0.3)",minHeight:"2px"}),title:"Gen "+e.generation+": "+((e.best_score||0)*100).toFixed(1)+"%"},null,12,K))),128))])])):i("",!0)]))}};export{R as _};
