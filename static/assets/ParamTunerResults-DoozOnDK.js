import{b as r,c as l,d as o,t as n,F as d,x as u,e as F,f as m,k as B,l as h,B as S}from"./index-DdRTlIgb.js";const z={class:"card rounded-md overflow-hidden mb-6"},P={class:"px-5 py-3 flex items-center justify-between",style:{"border-bottom":"1px solid var(--border-subtle)"}},w={class:"text-xs font-mono text-zinc-600"},T={style:{"max-height":"500px","overflow-y":"auto"}},A={class:"w-full text-sm results-table"},N={style:{"border-bottom":"1px solid var(--border-subtle)"}},O=["onClick"],V=["onClick"],R={class:"px-4 py-2 text-xs font-mono text-zinc-300"},q={class:"flex items-center gap-1.5"},D={key:0,class:"text-lime-400 text-[10px]",title:"Best config"},L={class:"flex items-center justify-center gap-1"},M={key:0,class:"text-[9px] px-1 py-0.5 rounded-sm bg-red-400/10 text-red-400",title:"Dropped (not supported)"},E=["title"],I={class:"px-3 py-2 text-right text-xs font-mono text-zinc-400"},K={class:"px-3 py-2 text-right text-xs font-mono text-zinc-400"},G={class:"px-3 py-2 text-right text-xs font-mono text-zinc-600"},H={class:"px-3 py-2 text-center text-xs font-mono"},Q={__name:"ParamTunerResults",props:{results:{type:Array,default:()=>[]},bestOverallScore:{type:Number,default:0}},emits:["sort","select"],setup(c){const p=c,x=S(()=>{const e=new Set;for(const s of p.results)if(s.config&&typeof s.config=="object")for(const t of Object.keys(s.config))e.add(t);return Array.from(e).sort()});function v(e){return{temperature:"Temp",top_p:"Top P",top_k:"Top K",tool_choice:"TC",repetition_penalty:"Rep Pen",min_p:"Min P",frequency_penalty:"Freq Pen",presence_penalty:"Pres Pen"}[e]||e.replace(/_/g," ")}function k(e){return e==null?"-":typeof e=="number"?Number.isInteger(e)?e.toString():e.toFixed(3):String(e)}function f(e){return p.bestOverallScore>0&&e.overall_score===p.bestOverallScore}function y(e,s,t){return!e.adjustments||!Array.isArray(e.adjustments)?!1:e.adjustments.some(i=>i.param===s&&i.type===t)}function C(e,s){if(!e.adjustments)return"";const t=e.adjustments.find(i=>i.param===s&&i.type==="clamped");return t?`Clamped from ${t.original} to ${t.clamped}`:""}function $(e){return e>=80?"var(--lime)":e>=50?"#FBBF24":"var(--coral)"}function j(e,s){if(!s)return"var(--zinc-600)";const t=e/s;return t>=.8?"var(--lime)":t>=.5?"#FBBF24":"var(--coral)"}return(e,s)=>(r(),l("div",z,[o("div",P,[s[4]||(s[4]=o("span",{class:"section-label"},"Results",-1)),o("span",w,n(c.results.length)+" combo"+n(c.results.length!==1?"s":""),1)]),o("div",T,[o("table",A,[o("thead",null,[o("tr",N,[o("th",{class:"px-4 py-2 text-left section-label cursor-pointer",onClick:s[0]||(s[0]=t=>e.$emit("sort","model_name"))},"Model"),(r(!0),l(d,null,u(x.value,t=>(r(),l("th",{key:t,class:"px-3 py-2 text-center section-label cursor-pointer",onClick:i=>e.$emit("sort","config."+t)},n(v(t)),9,O))),128)),o("th",{class:"px-3 py-2 text-right section-label cursor-pointer",onClick:s[1]||(s[1]=t=>e.$emit("sort","overall_score"))},"Score"),o("th",{class:"px-3 py-2 text-right section-label cursor-pointer",onClick:s[2]||(s[2]=t=>e.$emit("sort","tool_accuracy"))},"Tool%"),o("th",{class:"px-3 py-2 text-right section-label cursor-pointer",onClick:s[3]||(s[3]=t=>e.$emit("sort","param_accuracy"))},"Param%"),s[5]||(s[5]=o("th",{class:"px-3 py-2 text-right section-label"},"Latency",-1)),s[6]||(s[6]=o("th",{class:"px-3 py-2 text-center section-label"},"Status",-1))])]),o("tbody",null,[(r(!0),l(d,null,u(c.results,(t,i)=>{var _,b;return r(),l("tr",{key:i,class:F(["hover:bg-white/[0.02] cursor-pointer transition-colors",{"bg-lime-400/[0.03]":f(t)}]),onClick:a=>e.$emit("select",t)},[o("td",R,[o("div",q,[f(t)?(r(),l("span",D,"*")):m("",!0),B(" "+n(t.model_name||t.model_id||""),1)])]),(r(!0),l(d,null,u(x.value,a=>{var g;return r(),l("td",{key:a,class:"px-3 py-2 text-center text-xs font-mono text-zinc-400"},[o("div",L,[o("span",null,n(k((g=t.config)==null?void 0:g[a])),1),y(t,a,"dropped")?(r(),l("span",M,"dropped")):m("",!0),y(t,a,"clamped")?(r(),l("span",{key:1,class:"text-[9px] px-1 py-0.5 rounded-sm bg-yellow-400/10 text-yellow-400",title:C(t,a)},"clamped",8,E)):m("",!0)])])}),128)),o("td",{class:"px-3 py-2 text-right text-xs font-mono font-bold",style:h({color:$(t.overall_score*100)})},n((t.overall_score*100).toFixed(0))+"% ",5),o("td",I,n(((_=t.tool_accuracy)==null?void 0:_.toFixed(0))||"0")+"% ",1),o("td",K,n(((b=t.param_accuracy)==null?void 0:b.toFixed(0))||"0")+"% ",1),o("td",G,n(t.latency_avg_ms?t.latency_avg_ms+"ms":"-"),1),o("td",H,[o("span",{style:h({color:j(t.cases_passed,t.cases_total)})},n(t.cases_passed||0)+"/"+n(t.cases_total||0),5)])],10,V)}),128))])])])]))}};export{Q as _};
