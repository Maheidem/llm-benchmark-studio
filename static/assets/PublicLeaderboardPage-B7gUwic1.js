import{u as N,o as $,s as j,c as n,d as o,m as U,x as h,y as S,j as f,h as w,v as O,z as R,F as L,A as E,t as r,f as F,k as x,i as I,r as d,a as G,B,b as l,l as v}from"./index-DJOpZm09.js";const K={class:"min-h-screen",style:{background:"var(--bg,#09090B)",color:"#E4E4E7"}},q={class:"border-b px-6 py-4",style:{"border-color":"var(--border-subtle,#1f1f23)"}},H={class:"max-w-6xl mx-auto flex items-center justify-between"},Q={class:"max-w-6xl mx-auto px-4 py-8"},W={class:"flex items-center gap-3 mb-5 flex-wrap"},J=["value"],X={key:0,class:"text-[10px] text-zinc-600 font-body ml-auto"},Y={key:0,class:"text-xs text-zinc-600 font-body text-center py-16"},Z={key:1,class:"text-xs text-zinc-600 font-body text-center py-16"},tt={key:0},et={key:2,class:"card rounded-md overflow-hidden",style:{background:"rgba(255,255,255,0.01)",border:"1px solid var(--border-subtle,#1f1f23)"}},ot={class:"w-full text-sm"},st={style:{"border-bottom":"1px solid var(--border-subtle,#1f1f23)"}},rt={class:"px-4 py-3 text-xs font-mono text-zinc-600"},at={class:"px-4 py-3"},lt={class:"text-sm font-body text-zinc-200"},nt={class:"px-3 py-3"},it={class:"px-3 py-3 text-right"},dt={class:"flex items-center justify-end gap-2"},ct={class:"w-16 h-1.5 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.06)"}},pt={class:"px-3 py-3 text-right text-xs font-mono text-zinc-400"},ut={class:"px-3 py-3 text-right text-xs font-mono text-zinc-400"},xt={class:"px-3 py-3 text-right text-xs font-mono text-zinc-600"},vt={key:3,class:"mt-4 text-[10px] text-zinc-600 font-body text-center"},ft={__name:"PublicLeaderboardPage",setup(mt){const g=N(),z=d(!0),_=d([]),b=d(""),m=d(""),y=d(""),i=d("tool_accuracy_pct"),c=d(!1),T={OpenAI:"#10B981",Anthropic:"#F97316",Google:"#3B82F6","Google Gemini":"#3B82F6",Mistral:"#8B5CF6",Meta:"#EC4899",Cohere:"#14B8A6"},D=B(()=>{const s=new Set(_.value.map(t=>t.provider).filter(Boolean));return Array.from(s).sort()}),C=B(()=>{let s=_.value;if(y.value&&(s=s.filter(t=>t.provider===y.value)),m.value.trim()){const t=m.value.toLowerCase();s=s.filter(a=>(a.model_name||a.model_id||"").toLowerCase().includes(t)||(a.provider||"").toLowerCase().includes(t))}return s}),P=B(()=>[...C.value].sort((s,t)=>{const a=s[i.value]??(i.value==="model_name"?"":-1),e=t[i.value]??(i.value==="model_name"?"":-1);return typeof a=="string"?c.value?a.localeCompare(e):e.localeCompare(a):c.value?a-e:e-a}));function p(s){i.value===s?c.value=!c.value:(i.value=s,c.value=!1)}function u(s){return i.value!==s?"":c.value?"▲":"▼"}function k(s){return s==null?"#52525B":s>=80?"var(--lime,#BFFF00)":s>=50?"#FBBF24":"var(--coral,#FF3B5C)"}function V(s){return s==null||s<50?"var(--coral,#FF3B5C)":s<80?"#FBBF24":"var(--lime,#BFFF00)"}function M(s){const t=T[s];return t?{background:t+"14",color:t,border:`1px solid ${t}33`}:{background:"rgba(255,255,255,0.04)",color:"#71717A"}}return $(async()=>{try{const s=await j("/api/leaderboard/tool-eval");if(s.ok){const t=await s.json();if(_.value=t.models||t.entries||[],t.last_updated){const a=new Date(t.last_updated);b.value=a.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}}catch{}finally{z.value=!1}}),(s,t)=>{const a=G("router-link");return l(),n("div",K,[o("div",q,[o("div",H,[t[10]||(t[10]=U('<div class="flex items-center gap-3"><div class="w-8 h-8 rounded-sm flex items-center justify-center font-display font-bold text-sm" style="background:var(--lime,#BFFF00);color:#09090B;"> B<span style="font-size:10px;opacity:0.6;">s</span></div><span class="font-display font-bold text-sm text-zinc-100 tracking-wide"> BENCHMARK <span style="color:var(--lime,#BFFF00);">STUDIO</span></span><span class="text-zinc-600 text-xs font-body ml-2">Public Leaderboard</span></div>',1)),h(g).isLoggedIn?(l(),S(a,{key:0,to:"/benchmark",class:"text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm",style:{border:"1px solid var(--border-subtle)",color:"#A1A1AA"}},{default:f(()=>[...t[8]||(t[8]=[x("Dashboard",-1)])]),_:1})):(l(),S(a,{key:1,to:"/login",class:"text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm",style:{background:"rgba(191,255,0,0.08)",border:"1px solid rgba(191,255,0,0.2)",color:"var(--lime,#BFFF00)"}},{default:f(()=>[...t[9]||(t[9]=[x("Sign In",-1)])]),_:1}))])]),o("div",Q,[t[19]||(t[19]=o("div",{class:"mb-6"},[o("h1",{class:"font-display font-bold text-2xl text-zinc-100 mb-1"},"Tool-Calling Leaderboard"),o("p",{class:"text-sm text-zinc-600 font-body"},"Community benchmark results from opted-in users. Ranks models by tool-calling accuracy.")],-1)),o("div",W,[w(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),class:"text-xs font-mono px-3 py-1.5 rounded-sm",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle,#1f1f23)",color:"#E4E4E7",outline:"none","min-width":"200px"},placeholder:"Search model or provider..."},null,512),[[O,m.value]]),w(o("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>y.value=e),class:"text-xs font-mono px-3 py-1.5 rounded-sm",style:{background:"var(--surface,#111113)",border:"1px solid var(--border-subtle,#1f1f23)",color:"#A1A1AA",outline:"none"}},[t[11]||(t[11]=o("option",{value:""},"All providers",-1)),(l(!0),n(L,null,E(D.value,e=>(l(),n("option",{key:e,value:e},r(e),9,J))),128))],512),[[R,y.value]]),b.value?(l(),n("span",X," Updated "+r(b.value),1)):F("",!0)]),z.value?(l(),n("div",Y,"Loading leaderboard...")):C.value.length===0?(l(),n("div",Z,[t[13]||(t[13]=x(" No results found. ",-1)),h(g).isLoggedIn?F("",!0):(l(),n("span",tt,[I(a,{to:"/login",class:"text-lime-400 hover:text-lime-300 ml-1"},{default:f(()=>[...t[12]||(t[12]=[x("Sign in to contribute your data.",-1)])]),_:1})]))])):(l(),n("div",et,[o("table",ot,[o("thead",null,[o("tr",st,[t[14]||(t[14]=o("th",{class:"px-4 py-3 text-left text-[10px] font-display tracking-wider uppercase text-zinc-500 w-10"},"#",-1)),o("th",{class:"px-4 py-3 text-left text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[2]||(t[2]=e=>p("model_name"))}," Model "+r(u("model_name")),1),t[15]||(t[15]=o("th",{class:"px-3 py-3 text-left text-[10px] font-display tracking-wider uppercase text-zinc-500"},"Provider",-1)),o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[3]||(t[3]=e=>p("tool_accuracy_pct")),title:"Tool selection accuracy"}," Tool % "+r(u("tool_accuracy_pct")),1),o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[4]||(t[4]=e=>p("param_accuracy_pct")),title:"Parameter accuracy"}," Param % "+r(u("param_accuracy_pct")),1),o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[5]||(t[5]=e=>p("irrelevance_pct")),title:"Irrelevance detection accuracy (opt-out rate)"}," Irrel. % "+r(u("irrelevance_pct")),1),o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[6]||(t[6]=e=>p("avg_tps")),title:"Average tokens per second"}," Tok/s "+r(u("avg_tps")),1),o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500 cursor-pointer",onClick:t[7]||(t[7]=e=>p("avg_ttft_ms")),title:"Average time to first token (ms)"}," TTFT "+r(u("avg_ttft_ms")),1),t[16]||(t[16]=o("th",{class:"px-3 py-3 text-right text-[10px] font-display tracking-wider uppercase text-zinc-500"},"Samples",-1))])]),o("tbody",null,[(l(!0),n(L,null,E(P.value,(e,A)=>(l(),n("tr",{key:e.model_id||A,class:"transition-colors hover:bg-white/[0.015]",style:{"border-bottom":"1px solid var(--border-subtle,#1f1f23)"}},[o("td",rt,r(A+1),1),o("td",at,[o("div",lt,r(e.model_name||e.model_id),1)]),o("td",nt,[o("span",{class:"text-[10px] font-mono px-1.5 py-0.5 rounded-sm",style:v(M(e.provider))},r(e.provider||"-"),5)]),o("td",it,[o("div",dt,[o("div",ct,[o("div",{class:"h-full rounded-full",style:v({width:(e.tool_accuracy_pct||0)+"%",background:V(e.tool_accuracy_pct)})},null,4)]),o("span",{class:"text-xs font-mono font-bold",style:v({color:k(e.tool_accuracy_pct)})},r(e.tool_accuracy_pct!=null?e.tool_accuracy_pct.toFixed(1)+"%":"-"),5)])]),o("td",{class:"px-3 py-3 text-right text-xs font-mono",style:v({color:e.param_accuracy_pct!=null?k(e.param_accuracy_pct):"#52525B"})},r(e.param_accuracy_pct!=null?e.param_accuracy_pct.toFixed(1)+"%":"-"),5),o("td",{class:"px-3 py-3 text-right text-xs font-mono",style:v({color:e.irrelevance_pct!=null?k(e.irrelevance_pct):"#52525B"})},r(e.irrelevance_pct!=null?e.irrelevance_pct.toFixed(1)+"%":"-"),5),o("td",pt,r(e.avg_tps!=null?e.avg_tps.toFixed(0):"-"),1),o("td",ut,r(e.avg_ttft_ms!=null?e.avg_ttft_ms.toFixed(0)+"ms":"-"),1),o("td",xt,r(e.sample_count||0),1)]))),128))])])])),h(g).isLoggedIn?(l(),n("div",vt,[t[18]||(t[18]=x(" Want your results here? ",-1)),I(a,{to:"/settings",class:"text-lime-400 hover:text-lime-300 ml-1"},{default:f(()=>[...t[17]||(t[17]=[x("Enable sharing in Settings",-1)])]),_:1})])):F("",!0)])])}}};export{ft as default};
