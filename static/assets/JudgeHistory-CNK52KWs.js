import{o as r,c as l,a as e,t as i,g as m,k as D,d as u,F as j,p as z,y as U,r as k,h as Y,i as Z,D as ee,K as te,b as B,q as A,e as C,l as se,f as O,A as oe,v as ne,G as re,P as le,m as ie}from"./index-BxbfhC3f.js";import{u as ae}from"./judge-BScszjf3.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ce={key:0,class:"space-y-6"},ue={class:"card rounded-md p-5"},pe={class:"flex items-center justify-between mb-3"},xe={class:"text-xs text-zinc-600 font-body"},fe={class:"flex items-center gap-4 mb-4"},ye={class:"text-center"},ve={class:"text-center"},be={class:"flex-1 text-xs text-zinc-400 font-body"},ge={class:"text-zinc-300 font-mono"},me={class:"text-zinc-300"},_e={key:0},he={class:"text-zinc-500 font-mono"},ke={key:0,class:"space-y-4"},we={class:"flex items-center justify-between mb-3"},je={class:"flex items-center gap-2"},ze={class:"text-xs font-mono text-zinc-200"},$e=["onClick"],Ce={class:"grid grid-cols-2 gap-4 mb-3"},Re={class:"text-xs text-zinc-400 font-body space-y-1"},Fe={key:0,class:"text-zinc-600"},Se={class:"text-xs text-zinc-400 font-body space-y-1"},Me={key:0,class:"text-zinc-600"},Ae={key:0,class:"fade-in"},De={key:0,class:"mb-3"},Je={class:"text-xs text-zinc-400 font-body"},Be={key:1},Ve={class:"text-xs text-zinc-400 font-body space-y-1"},Ne={key:1,class:"card rounded-md overflow-hidden"},Ie={class:"px-5 py-3 flex items-center justify-between",style:{"border-bottom":"1px solid var(--border-subtle)"}},Ue={key:0,style:{"max-height":"400px","overflow-y":"auto"}},Oe={class:"w-full text-sm results-table"},He={class:"px-4 py-2 text-xs font-mono text-zinc-500"},Le={class:"px-3 py-2 text-xs font-mono text-zinc-400"},Te={class:"px-3 py-2 text-center"},qe={class:"px-3 py-2 text-center"},Ee={key:0,class:"flex flex-col items-center gap-0.5"},Ge=["title"],Pe={key:0,class:"text-[10px] font-mono line-through text-zinc-600"},Ke=["title"],We={key:1,class:"text-zinc-700 text-xs"},Qe={class:"px-3 py-2 text-xs text-zinc-500 font-body"},Xe={__name:"JudgeReportView",props:{report:{type:Object,default:null}},setup(f){const p=f,d=k(!1),R=k({}),y=U(()=>{if(!p.report)return[];if(p.report._reports)return p.report._reports;if(p.report.report_json)try{return typeof p.report.report_json=="string"?JSON.parse(p.report.report_json):p.report.report_json}catch{return[]}return[]}),F=U(()=>{if(!p.report)return[];if(p.report._verdicts)return p.report._verdicts;if(p.report.verdicts_json)try{return typeof p.report.verdicts_json=="string"?JSON.parse(p.report.verdicts_json):p.report.verdicts_json}catch{return[]}return[]});function $(c){return c?new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function v(c){if(!c)return"#71717A";const s=c.charAt(0).toUpperCase();return s==="A"?"var(--lime)":s==="B"?"#60A5FA":s==="C"?"#FBBF24":s==="D"?"#F97316":"var(--coral)"}function x(c){return c>=80?"var(--lime)":c>=60?"#60A5FA":c>=40?"#FBBF24":"var(--coral)"}function b(c){return c>=4?"var(--lime)":c>=3?"#FBBF24":"var(--coral)"}function S(c){return c==="pass"?{background:"rgba(191,255,0,0.1)",color:"var(--lime)"}:c==="marginal"?{background:"rgba(234,179,8,0.1)",color:"#EAB308"}:{background:"rgba(255,59,92,0.1)",color:"var(--coral)"}}return(c,s)=>{var M;return f.report?(r(),l("div",ce,[e("div",ue,[e("div",pe,[s[1]||(s[1]=e("span",{class:"section-label"},"Judge Report",-1)),e("span",xe,i($(f.report.timestamp||f.report.created_at)),1)]),e("div",fe,[e("div",ye,[e("div",{class:"text-3xl font-display font-bold",style:m({color:v(f.report.overall_grade)})},i(f.report.overall_grade||"?"),5),s[2]||(s[2]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase"},"Grade",-1))]),e("div",ve,[e("div",{class:"text-2xl font-mono font-bold",style:m({color:x(f.report.overall_score||0)})},i(f.report.overall_score||0),5),s[3]||(s[3]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase"},"Score /100",-1))]),e("div",be,[e("div",null,[s[4]||(s[4]=D("Judge: ",-1)),e("span",ge,i(f.report.judge_model||"unknown"),1)]),e("div",null,[s[5]||(s[5]=D("Mode: ",-1)),e("span",me,i(f.report.mode||"post_eval"),1)]),f.report.eval_run_id?(r(),l("div",_e,[s[6]||(s[6]=D("Eval: ",-1)),e("span",he,i((M=f.report.eval_run_id)==null?void 0:M.slice(0,8)),1)])):u("",!0)])])]),y.value.length>0?(r(),l("div",ke,[(r(!0),l(j,null,z(y.value,(a,h)=>(r(),l("div",{key:h,class:"card rounded-md p-5"},[e("div",we,[e("div",je,[e("span",ze,i(a.model_name||a.model_id||"Model"),1),e("span",{class:"text-sm font-display font-bold",style:m({color:v(a.overall_grade)})},i(a.overall_grade||"?"),5),e("span",{class:"text-xs font-mono",style:m({color:x(a.overall_score||0)})},i(a.overall_score||0)+"/100 ",5)]),e("button",{onClick:g=>R.value[h]=!R.value[h],class:"text-[10px] text-zinc-600 hover:text-zinc-400 font-body",style:{background:"none",border:"none",cursor:"pointer"}},i(R.value[h]?"Collapse":"Details"),9,$e)]),e("div",Ce,[e("div",null,[s[8]||(s[8]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1"},"Strengths",-1)),e("ul",Re,[(r(!0),l(j,null,z(a.strengths||[],g=>(r(),l("li",{key:g,class:"flex items-start gap-1"},[s[7]||(s[7]=e("span",{class:"text-lime-400 mt-0.5"},"+",-1)),D(" "+i(g),1)]))),128)),!a.strengths||a.strengths.length===0?(r(),l("li",Fe,"None identified")):u("",!0)])]),e("div",null,[s[10]||(s[10]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1"},"Weaknesses",-1)),e("ul",Se,[(r(!0),l(j,null,z(a.weaknesses||[],g=>(r(),l("li",{key:g,class:"flex items-start gap-1"},[s[9]||(s[9]=e("span",{class:"text-red-400 mt-0.5"},"-",-1)),D(" "+i(g),1)]))),128)),!a.weaknesses||a.weaknesses.length===0?(r(),l("li",Me,"None identified")):u("",!0)])])]),R.value[h]?(r(),l("div",Ae,[a.cross_case_analysis?(r(),l("div",De,[s[11]||(s[11]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1"},"Analysis",-1)),e("p",Je,i(a.cross_case_analysis),1)])):u("",!0),a.recommendations&&a.recommendations.length>0?(r(),l("div",Be,[s[12]||(s[12]=e("div",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1"},"Recommendations",-1)),e("ul",Ve,[(r(!0),l(j,null,z(a.recommendations,g=>(r(),l("li",{key:g},i(g),1))),128))])])):u("",!0)])):u("",!0)]))),128))])):u("",!0),F.value.length>0?(r(),l("div",Ne,[e("div",Ie,[s[13]||(s[13]=e("span",{class:"section-label"},"Per-Case Verdicts",-1)),e("button",{onClick:s[0]||(s[0]=a=>d.value=!d.value),class:"text-[10px] text-zinc-600 hover:text-zinc-400 font-body",style:{background:"none",border:"none",cursor:"pointer"}},i(d.value?"Hide":"Show")+" ("+i(F.value.length)+")",1)]),d.value?(r(),l("div",Ue,[e("table",Oe,[s[14]||(s[14]=e("thead",null,[e("tr",{style:{"border-bottom":"1px solid var(--border-subtle)"}},[e("th",{class:"px-4 py-2 text-left section-label"},"Case"),e("th",{class:"px-3 py-2 text-left section-label"},"Model"),e("th",{class:"px-3 py-2 text-center section-label"},"Verdict"),e("th",{class:"px-3 py-2 text-center section-label"},"Score"),e("th",{class:"px-3 py-2 text-center section-label"},"Override"),e("th",{class:"px-3 py-2 text-left section-label"},"Summary")])],-1)),e("tbody",null,[(r(!0),l(j,null,z(F.value,(a,h)=>(r(),l("tr",{key:h},[e("td",He,i(a.test_case_id||"?"),1),e("td",Le,i(a.model_id||""),1),e("td",Te,[e("span",{class:"text-[10px] font-display tracking-wider uppercase px-2 py-0.5 rounded-sm",style:m(S(a.verdict))},i(a.verdict||"?"),5)]),e("td",{class:"px-3 py-2 text-center text-xs font-mono",style:m({color:b(a.quality_score)})},i(a.quality_score||0)+"/5 ",5),e("td",qe,[a.judge_override_score!=null?(r(),l("div",Ee,[e("span",{class:"text-xs font-mono font-bold",style:{color:"#FBBF24"},title:a.override_reason||"Judge override"},i((a.judge_override_score*100).toFixed(0))+"%",9,Ge),a.original_score!=null?(r(),l("span",Pe,i((a.original_score*100).toFixed(0))+"%",1)):u("",!0),a.override_reason?(r(),l("span",{key:1,class:"text-[9px] text-zinc-600 font-body max-w-[80px] truncate",title:a.override_reason},i(a.override_reason),9,Ke)):u("",!0)])):(r(),l("span",We,"â€”"))]),e("td",Qe,i(a.summary||""),1)]))),128))])])])):u("",!0)])):u("",!0)])):u("",!0)}}},Ye={class:"flex items-center justify-between mb-6"},Ze={class:"flex items-center gap-2"},et=["disabled"],tt={key:0},st={key:1},ot=["disabled"],nt={key:0,class:"card rounded-md p-5 mb-6"},rt={class:"flex items-center justify-between mb-3"},lt={class:"flex items-center gap-3"},it={class:"text-sm text-zinc-400 font-body"},at={class:"text-xs font-mono text-zinc-600"},dt={class:"progress-track rounded-full overflow-hidden"},ct={key:1,class:"text-xs text-zinc-600 font-body text-center py-8"},ut={key:2,class:"text-xs text-zinc-600 font-body text-center py-8"},pt={key:3,class:"overflow-x-auto"},xt={class:"w-full text-xs results-table"},ft={style:{"border-bottom":"1px solid var(--border-subtle)"}},yt={key:0,class:"px-3 py-3 text-left",style:{width:"30px"}},vt=["onClick"],bt=["checked","onClick"],gt={class:"px-4 py-2.5 text-zinc-400 font-body whitespace-nowrap"},mt={class:"px-4 py-2.5 text-zinc-500 font-body"},_t={class:"px-4 py-2.5 font-mono text-zinc-300"},ht={class:"px-4 py-2.5 text-center"},kt={class:"px-4 py-2.5 text-right font-mono text-zinc-400"},wt={class:"px-4 py-2.5 text-center"},jt={key:0,class:"text-[10px] font-mono text-blue-400 px-1 py-0.5 rounded-sm",style:{background:"rgba(56,189,248,0.08)",border:"1px solid rgba(56,189,248,0.15)"}},zt={key:1,class:"text-[10px] font-mono text-zinc-600"},$t={class:"px-4 py-2.5 text-center"},Ct={class:"flex items-center justify-end gap-2"},Rt=["onClick"],Ft=["onClick"],St={class:"card rounded-md p-6 max-w-4xl w-full mx-4",style:{"max-height":"85vh","overflow-y":"auto"}},Mt={class:"flex items-center justify-between mb-4"},At={key:0,class:"mb-4 p-3 rounded-sm",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"}},Dt={class:"flex items-center gap-2 flex-wrap"},Jt=["onClick","title"],Bt={class:"ml-1 text-zinc-600"},Vt={class:"card rounded-md p-6 max-w-lg w-full mx-4"},Nt={class:"space-y-4"},It={value:""},Ut=["value"],Ot={class:"flex justify-end gap-2 mt-5"},Ht=["disabled"],Lt={__name:"JudgeHistory",setup(f){const p=ie(),d=ae(),R=Y(),{showToast:y}=re(),F=k(!0),$=k(!1),v=k(!1),x=k([]),b=k(null),S=k([]),c=k([]),s=le({visible:!1,loading:!1,parentReportId:"",parentModel:"",judge_model:"",custom_instructions:""});let M=null;Z(async()=>{try{await d.loadReports()}catch{y("Failed to load reports","error")}finally{F.value=!1}a(),d.restoreJob(),M=R.onMessage(n=>{if(!d.activeJobId||n.job_id&&n.job_id!==d.activeJobId)return;["judge_start","judge_verdict","judge_report","judge_complete","job_progress","job_completed","job_failed","job_cancelled"].includes(n.type)&&(d.handleProgress(n),(n.type==="judge_complete"||n.type==="job_completed")&&(y("Judge complete!","success"),d.loadReports().catch(()=>{})))})}),ee(()=>{M&&M()});async function a(){try{const t=await(await te("/api/config")).json(),o=[];for(const[_,w]of Object.entries(t.providers||{})){const W=w.provider_key||_,Q=Array.isArray(w)?w:w.models||[];for(const V of Q){const X=W+"::"+V.model_id;o.push({value:X,label:`${V.display_name||V.model_id} (${_})`})}}c.value=o}catch{}}async function h(){$.value=!0;try{await d.loadReports(),y("Reports refreshed","success")}catch{y("Failed to refresh reports","error")}finally{$.value=!1}}async function g(n){if(v.value){N(n.id);return}try{b.value=await d.loadReport(n.id),S.value=[];const t=await d.fetchVersions(n.id);S.value=t}catch{y("Failed to load report","error")}}async function H(n){try{b.value=await d.loadReport(n.id)}catch{y("Failed to load version","error")}}function N(n){const t=x.value.indexOf(n);t>=0?x.value.splice(t,1):x.value.length<2&&x.value.push(n)}function L(){x.value.length===2&&p.push({name:"JudgeCompare",query:{a:x.value[0],b:x.value[1]}})}async function T(n){var t;if(confirm("Delete this judge report?"))try{await d.deleteReport(n.id),y("Report deleted","success"),((t=b.value)==null?void 0:t.id)===n.id&&(b.value=null)}catch{y("Failed to delete report","error")}}function q(n){var o;let t="";if(n.instructions_json)try{t=(typeof n.instructions_json=="string"?JSON.parse(n.instructions_json):n.instructions_json).custom_instructions||""}catch{}s.visible=!0,s.loading=!1,s.parentReportId=n.id,s.parentModel=((o=n.judge_model)==null?void 0:o.split("/").pop())||"parent model",s.judge_model="",s.custom_instructions=t}function J(){s.visible=!1}async function E(){s.loading=!0;try{let n=null,t=null;if(s.judge_model)if(s.judge_model.includes("::")){const _=s.judge_model.indexOf("::");t=s.judge_model.substring(0,_),n=s.judge_model.substring(_+2)}else n=s.judge_model;const o={parent_report_id:s.parentReportId,custom_instructions:s.custom_instructions||null};n&&(o.judge_model=n),t&&(o.judge_provider_key=t),await d.rerunJudge(o),y("Re-run submitted!","success"),J()}catch(n){y(n.message||"Failed to submit re-run","error")}finally{s.loading=!1}}function I(n){return n?new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function G(n){return n?new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}function P(n){if(!n)return"#71717A";const t=n.charAt(0).toUpperCase();return t==="A"?"var(--lime)":t==="B"?"#60A5FA":t==="C"?"#FBBF24":t==="D"?"#F97316":"var(--coral)"}function K(n){return n==="completed"?{background:"rgba(191,255,0,0.1)",color:"var(--lime)"}:n==="running"?{background:"rgba(56,189,248,0.1)",color:"#38BDF8"}:{background:"rgba(255,255,255,0.04)",color:"#71717A"}}return(n,t)=>(r(),l("div",null,[e("div",Ye,[t[7]||(t[7]=e("div",null,[e("h2",{class:"font-display font-bold text-lg text-zinc-100 mb-1"},"Judge Reports"),e("p",{class:"text-sm text-zinc-600 font-body"},"AI-powered quality assessments of tool calling evaluations.")],-1)),e("div",Ze,[e("button",{onClick:h,disabled:$.value,class:B(["text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm transition-opacity",$.value?"opacity-50 cursor-not-allowed":""]),style:{border:"1px solid var(--border-subtle)",color:"var(--zinc-400)"},title:"Refresh reports"},[$.value?(r(),l("span",tt,"...")):(r(),l("span",st,"Refresh"))],10,et),v.value?(r(),l("button",{key:0,onClick:L,disabled:x.value.length!==2,class:B(["text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm",x.value.length===2?"":"opacity-50 cursor-not-allowed"]),style:{background:"rgba(191,255,0,0.08)",border:"1px solid rgba(191,255,0,0.2)",color:"var(--lime)"}},"Compare ("+i(x.value.length)+"/2)",11,ot)):u("",!0),e("button",{onClick:t[0]||(t[0]=o=>{v.value=!v.value,x.value=[]}),class:"text-[10px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm",style:m(v.value?{background:"rgba(56,189,248,0.08)",border:"1px solid rgba(56,189,248,0.2)",color:"#38BDF8"}:{border:"1px solid var(--border-subtle)",color:"var(--zinc-400)"})},i(v.value?"Cancel":"Compare"),5)])]),A(d).isRunning?(r(),l("div",nt,[e("div",rt,[e("div",lt,[t[8]||(t[8]=e("div",{class:"pulse-dot"},null,-1)),e("span",it,i(A(d).progress.detail),1)]),e("span",at,i(A(d).progress.pct)+"%",1)]),e("div",dt,[e("div",{class:"progress-fill",style:m({width:A(d).progress.pct+"%"})},null,4)])])):u("",!0),F.value?(r(),l("div",ct,"Loading...")):A(d).reports.length===0?(r(),l("div",ut," No judge reports yet. Run a judge assessment from the eval history. ")):(r(),l("div",pt,[e("table",xt,[e("thead",null,[e("tr",ft,[v.value?(r(),l("th",yt)):u("",!0),t[9]||(t[9]=e("th",{class:"px-4 py-3 text-left section-label"},"Date",-1)),t[10]||(t[10]=e("th",{class:"px-4 py-3 text-left section-label"},"Mode",-1)),t[11]||(t[11]=e("th",{class:"px-4 py-3 text-left section-label"},"Judge Model",-1)),t[12]||(t[12]=e("th",{class:"px-4 py-3 text-center section-label"},"Grade",-1)),t[13]||(t[13]=e("th",{class:"px-4 py-3 text-right section-label"},"Score",-1)),t[14]||(t[14]=e("th",{class:"px-4 py-3 text-center section-label"},"Ver.",-1)),t[15]||(t[15]=e("th",{class:"px-4 py-3 text-center section-label"},"Status",-1)),t[16]||(t[16]=e("th",{class:"px-4 py-3 text-right section-label"},"Actions",-1))])]),e("tbody",null,[(r(!0),l(j,null,z(A(d).sortedReports,o=>{var _;return r(),l("tr",{key:o.id,class:B(["cursor-pointer hover:bg-white/[0.02] transition-colors",{"ring-1 ring-blue-400/30":x.value.includes(o.id)}]),style:{"border-top":"1px solid var(--border-subtle)"},onClick:w=>g(o)},[v.value?(r(),l("td",{key:0,class:"px-3 py-2.5",onClick:t[1]||(t[1]=C(()=>{},["stop"]))},[e("input",{type:"checkbox",checked:x.value.includes(o.id),onClick:C(w=>N(o.id),["stop"]),class:"accent-blue-400"},null,8,bt)])):u("",!0),e("td",gt,i(I(o.timestamp||o.created_at)),1),e("td",mt,i(o.mode||"-"),1),e("td",_t,i(((_=o.judge_model)==null?void 0:_.split("/").pop())||"Judge"),1),e("td",ht,[e("span",{class:"text-lg font-display font-bold",style:m({color:P(o.overall_grade)})},i(o.overall_grade||"?"),5)]),e("td",kt,i(o.overall_score??0),1),e("td",wt,[o.version&&o.version>1?(r(),l("span",jt," v"+i(o.version),1)):(r(),l("span",zt,"v1"))]),e("td",$t,[e("span",{class:"text-[10px] font-mono px-1.5 py-0.5 rounded-sm",style:m(K(o.status))},i(o.status||"unknown"),5)]),e("td",{class:"px-4 py-2.5 text-right",onClick:t[2]||(t[2]=C(()=>{},["stop"]))},[e("div",Ct,[e("button",{onClick:C(w=>q(o),["stop"]),class:"text-[10px] text-zinc-500 hover:text-lime-400 transition-colors",style:{background:"none",border:"none",cursor:"pointer"},title:"Re-run with new settings"},[...t[17]||(t[17]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Rt),e("button",{onClick:C(w=>T(o),["stop"]),class:"text-[10px] text-zinc-600 hover:text-red-400 transition-colors",style:{background:"none",border:"none",cursor:"pointer"},title:"Delete report"},[...t[18]||(t[18]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ft)])])],10,vt)}),128))])])])),b.value?(r(),l("div",{key:4,class:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.7)"},onClick:t[4]||(t[4]=C(o=>b.value=null,["self"]))},[e("div",St,[e("div",Mt,[t[19]||(t[19]=e("span",{class:"section-label"},"Report Detail",-1)),e("button",{onClick:t[3]||(t[3]=o=>b.value=null),class:"text-zinc-500 hover:text-zinc-300",style:{background:"none",border:"none",cursor:"pointer"}},"Close")]),S.value.length>1?(r(),l("div",At,[t[20]||(t[20]=e("p",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-600 mb-2"},"Version History",-1)),e("div",Dt,[(r(!0),l(j,null,z(S.value,o=>(r(),l("button",{key:o.id,onClick:_=>H(o),class:"text-[10px] font-mono px-2 py-1 rounded-sm transition-colors",style:m(o.id===b.value.id?{background:"rgba(191,255,0,0.12)",border:"1px solid rgba(191,255,0,0.3)",color:"var(--lime)"}:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-subtle)",color:"#71717A"}),title:I(o.created_at)},[D(" v"+i(o.version||1)+" ",1),e("span",Bt,i(G(o.created_at)),1)],12,Jt))),128))])])):u("",!0),se(Xe,{report:b.value},null,8,["report"])])])):u("",!0),s.visible?(r(),l("div",{key:5,class:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(0,0,0,0.7)"},onClick:C(J,["self"])},[e("div",Vt,[e("div",{class:"flex items-center justify-between mb-4"},[t[21]||(t[21]=e("span",{class:"section-label"},"Re-run Judge",-1)),e("button",{onClick:J,class:"text-zinc-500 hover:text-zinc-300",style:{background:"none",border:"none",cursor:"pointer"}},"Cancel")]),t[24]||(t[24]=e("p",{class:"text-xs text-zinc-500 font-body mb-4"}," Create a new version of this report using different settings. The original is preserved. ",-1)),e("div",Nt,[e("div",null,[t[22]||(t[22]=e("label",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-600 block mb-1"},"Judge Model",-1)),O(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.judge_model=o),class:"settings-select"},[e("option",It,"-- Use parent model ("+i(s.parentModel)+") --",1),(r(!0),l(j,null,z(c.value,o=>(r(),l("option",{key:o.value,value:o.value},i(o.label),9,Ut))),128))],512),[[oe,s.judge_model]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-600 block mb-1"},"Custom Instructions",-1)),O(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.custom_instructions=o),rows:"5",class:"w-full px-3 py-2 rounded-sm text-xs font-mono text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none",resize:"vertical"},placeholder:"Leave empty to reuse parent instructions, or enter new instructions..."},null,512),[[ne,s.custom_instructions]])])]),e("div",Ot,[e("button",{onClick:J,class:"text-[10px] font-display tracking-wider uppercase px-4 py-2 rounded-sm",style:{border:"1px solid var(--border-subtle)",color:"#71717A"}},"Cancel"),e("button",{onClick:E,disabled:s.loading,class:B(["text-[10px] font-display tracking-wider uppercase px-4 py-2 rounded-sm transition-opacity",s.loading?"opacity-50 cursor-not-allowed":""]),style:{background:"rgba(191,255,0,0.08)",border:"1px solid rgba(191,255,0,0.2)",color:"var(--lime)"}},i(s.loading?"Submitting...":"Re-run"),11,Ht)])])])):u("",!0)]))}},Gt=de(Lt,[["__scopeId","data-v-30648c9d"]]);export{Gt as default};
