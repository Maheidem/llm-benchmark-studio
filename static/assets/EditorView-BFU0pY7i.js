import{o as d,c as u,a as t,t as g,d as v,F as A,p as K,z as D,k as q,w as oe,f as y,v as $,O as H,A as se,P as ne,r as T,i as le,l as U,Q as R,y as G,G as ae,m as re,I as ie,L as de}from"./index-BxbfhC3f.js";import{a as ue,u as ce}from"./useSharedContext-DRtY8wlt.js";const pe={class:"flex items-center justify-between mb-3"},me={class:"flex items-center gap-2"},xe={class:"text-xs font-mono text-zinc-600"},ve={class:"flex items-center gap-2"},fe={key:0,class:"text-zinc-600 text-xs font-body"},be={key:1,class:"flex flex-col gap-2"},ye={class:"flex items-center justify-between px-3 py-2 rounded-sm",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"}},ge={class:"flex-1 min-w-0"},ke={class:"text-sm font-mono text-zinc-200"},$e={class:"text-xs text-zinc-600 ml-2 font-body"},_e={key:0,class:"text-[10px] text-zinc-700 font-mono mt-0.5"},we={class:"flex gap-2 ml-3 flex-shrink-0"},Te=["onClick"],ze=["onClick"],Ce={__name:"ToolsList",props:{tools:{type:Array,required:!0},suiteId:{type:String,default:""}},emits:["addTool","editTool","deleteTool","importTools","exportTools"],setup(k){function S(f){var e,i;const c=(i=(e=f.function)==null?void 0:e.parameters)==null?void 0:i.properties;return c?Object.keys(c):[]}return(f,c)=>(d(),u("div",null,[t("div",pe,[t("div",me,[c[3]||(c[3]=t("span",{class:"section-label"},"Tools",-1)),t("span",xe,"("+g(k.tools.length)+")",1)]),t("div",ve,[t("button",{onClick:c[0]||(c[0]=e=>f.$emit("importTools")),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300 px-2 py-1 rounded-sm border border-zinc-800 hover:border-zinc-600 transition-colors"},"Import JSON"),k.tools.length>0?(d(),u("button",{key:0,onClick:c[1]||(c[1]=e=>f.$emit("exportTools")),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300 px-2 py-1 rounded-sm border border-zinc-800 hover:border-zinc-600 transition-colors"},"Export")):v("",!0),t("button",{onClick:c[2]||(c[2]=e=>f.$emit("addTool")),class:"text-[10px] font-display tracking-wider uppercase px-2 py-1 rounded-sm transition-colors",style:{color:"var(--lime)",border:"1px solid rgba(191,255,0,0.2)",background:"rgba(191,255,0,0.06)"}},"+ Add Tool")])]),k.tools.length?(d(),u("div",be,[(d(!0),u(A,null,K(k.tools,(e,i)=>{var p,l;return d(),u(A,{key:i},[t("div",ye,[t("div",ge,[t("span",ke,g(((p=e.function)==null?void 0:p.name)||"unnamed"),1),t("span",$e,g(((l=e.function)==null?void 0:l.description)||""),1),S(e).length?(d(),u("div",_e," params: "+g(S(e).join(", ")),1)):v("",!0)]),t("div",we,[t("button",{onClick:o=>f.$emit("editTool",i),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300"},"Edit",8,Te),t("button",{onClick:o=>f.$emit("deleteTool",i),class:"text-[10px] font-display tracking-wider uppercase text-zinc-700 hover:text-red-400"},"Delete",8,ze)])]),D(f.$slots,"editor",{index:i})],64)}),128))])):(d(),u("div",fe," No tools defined yet. ")),D(f.$slots,"add-editor")]))}},Se={class:"flex items-center justify-between mb-3"},he={class:"flex items-center gap-2"},Ne={class:"text-xs font-mono text-zinc-600"},je={key:0,class:"text-zinc-600 text-xs font-body"},Ee={key:1,class:"flex flex-col gap-2"},Me={class:"flex items-start justify-between px-3 py-2 rounded-sm",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"}},Oe={class:"flex-1 min-w-0"},Je={class:"text-sm text-zinc-300 font-body mb-0.5"},Ve={key:0,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm ml-2",style:{color:"var(--lime)",background:"rgba(191,255,0,0.08)",border:"1px solid rgba(191,255,0,0.15)"}},Ae=["title"],Ue={class:"text-xs font-mono text-zinc-500"},Re={key:0,class:"ml-1"},De={class:"flex gap-2 ml-3 flex-shrink-0 mt-1"},qe=["onClick"],Fe=["onClick"],Le={__name:"TestCasesList",props:{testCases:{type:Array,required:!0},tools:{type:Array,default:()=>[]}},emits:["addCase","editCase","deleteCase"],setup(k){function S(e,i){return e?e.length>i?e.slice(0,i)+"...":e:""}function f(e){return e==null?"(no tool call)":Array.isArray(e)?e.join(" | "):e}function c(e){return!e||typeof e!="object"?"":Object.entries(e).map(([i,p])=>`${i}=${JSON.stringify(p)}`).join(", ")}return(e,i)=>(d(),u("div",null,[t("div",Se,[t("div",he,[i[1]||(i[1]=t("span",{class:"section-label"},"Test Cases",-1)),t("span",Ne,"("+g(k.testCases.length)+")",1)]),t("button",{onClick:i[0]||(i[0]=p=>e.$emit("addCase")),class:"text-[10px] font-display tracking-wider uppercase px-2 py-1 rounded-sm transition-colors",style:{color:"var(--lime)",border:"1px solid rgba(191,255,0,0.2)",background:"rgba(191,255,0,0.06)"}},"+ Add Test Case")]),k.testCases.length?(d(),u("div",Ee,[(d(!0),u(A,null,K(k.testCases,(p,l)=>{var o;return d(),u(A,{key:p.id||l},[t("div",Me,[t("div",Oe,[t("div",Je,[q(" #"+g(l+1)+' "'+g(S(p.prompt,80))+'" ',1),p.multi_turn?(d(),u("span",Ve,"MULTI-TURN")):v("",!0),(o=p.scoring_config)!=null&&o.mode&&p.scoring_config.mode!=="exact"?(d(),u("span",{key:1,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm ml-2",style:{color:"#60A5FA",background:"rgba(96,165,250,0.08)",border:"1px solid rgba(96,165,250,0.15)"},title:"Scoring: "+p.scoring_config.mode},g(p.scoring_config.mode.replace("_"," ").toUpperCase()),9,Ae)):v("",!0)]),t("div",Ue,[q(" Expected: "+g(f(p.expected_tool))+" ",1),p.expected_params?(d(),u("span",Re," ("+g(c(p.expected_params))+") ",1)):v("",!0)])]),t("div",De,[t("button",{onClick:a=>e.$emit("editCase",p.id),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300"},"Edit",8,qe),t("button",{onClick:a=>e.$emit("deleteCase",p.id),class:"text-[10px] font-display tracking-wider uppercase text-zinc-700 hover:text-red-400"},"Delete",8,Fe)])]),D(e.$slots,"editor",{caseItem:p,index:l})],64)}),128))])):(d(),u("div",je," No test cases defined yet. ")),D(e.$slots,"add-editor")]))}},Pe={class:"card rounded-md p-5"},Be={class:"flex items-center justify-between mb-4"},Ie={class:"section-label"},He={class:"mb-4"},Ge={class:"mb-4"},Qe={class:"flex items-center gap-3 mb-1"},Ke={class:"flex items-center gap-1.5 text-xs text-zinc-500 cursor-pointer"},We=["disabled"],Xe={class:"mb-4"},Ye={class:"mb-4"},Ze={class:"flex items-center gap-3"},et={key:0,class:"flex items-center gap-1"},tt={class:"mb-4"},ot={class:"flex items-center gap-2 cursor-pointer"},st={key:0,class:"mb-4 pl-4",style:{"border-left":"2px solid var(--border-subtle)"}},nt={class:"flex gap-4 mb-3"},lt={class:"mb-3"},at={key:1,class:"text-xs mb-3",style:{color:"var(--coral)"}},rt={class:"flex justify-end gap-2"},Q={__name:"TestCaseForm",props:{testCase:{type:Object,default:null},editing:{type:Boolean,default:!1}},emits:["save","cancel"],setup(k,{emit:S}){const f=k,c=S,e=ne({prompt:"",expectedTool:"",noTool:!1,expectedParams:"",scoringMode:"exact",epsilon:.01,multiTurn:!1,maxRounds:5,optimalHops:2,prerequisites:"",mockResponses:""}),i=T("");oe(()=>f.testCase,l=>{if(!l)return;e.prompt=l.prompt||"";const o=l.expected_tool===null||l.expected_tool===void 0;e.noTool=o,o?e.expectedTool="":Array.isArray(l.expected_tool)?e.expectedTool=l.expected_tool.join(", "):e.expectedTool=l.expected_tool||"",e.expectedParams=l.expected_params?JSON.stringify(l.expected_params,null,2):"";const a=l.scoring_config||{};e.scoringMode=a.mode||"exact",e.epsilon=a.epsilon??.01,e.multiTurn=!!l.multi_turn,e.maxRounds=l.max_rounds||5,e.optimalHops=l.optimal_hops||2,e.prerequisites=(l.valid_prerequisites||[]).join(", "),e.mockResponses=l.mock_responses?JSON.stringify(l.mock_responses,null,2):""},{immediate:!0});function p(){i.value="";const l=e.prompt.trim();if(!l){i.value="Prompt is required";return}let o=null;if(!e.noTool){const m=e.expectedTool.trim();if(!m){i.value='Expected tool is required (or check "No tool expected")';return}if(m.includes(",")){if(o=m.split(",").map(z=>z.trim()).filter(Boolean),!o.length){i.value="Enter at least one tool name";return}}else o=m}let a=null;const h=e.expectedParams.trim();if(h)try{if(a=JSON.parse(h),typeof a!="object"||Array.isArray(a)){i.value="Expected params must be a JSON object";return}}catch(m){i.value="Invalid JSON in expected params: "+m.message;return}const b={prompt:l,expected_tool:o,expected_params:a};if(e.scoringMode&&e.scoringMode!=="exact"){const m={mode:e.scoringMode};e.scoringMode==="numeric_tolerance"&&(m.epsilon=e.epsilon||.01),b.scoring_config=m}else b.scoring_config=null;if(e.multiTurn){b.multi_turn=!0,b.max_rounds=e.maxRounds||5,b.optimal_hops=e.optimalHops||2;const m=e.prerequisites.trim();b.valid_prerequisites=m?m.split(",").map(_=>_.trim()).filter(Boolean):[];const z=e.mockResponses.trim();if(z)try{b.mock_responses=JSON.parse(z)}catch(_){i.value="Invalid JSON in mock responses: "+_.message;return}}else b.multi_turn=!1;c("save",b)}return(l,o)=>(d(),u("div",Pe,[t("div",Be,[t("span",Ie,g(k.editing?"Edit Test Case":"New Test Case"),1),t("button",{onClick:o[0]||(o[0]=a=>l.$emit("cancel")),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300"},"Cancel")]),t("div",He,[o[13]||(o[13]=t("label",{class:"text-xs font-display tracking-wider uppercase text-zinc-500 mb-1 block"},"User Message",-1)),y(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=a=>e.prompt=a),rows:"3",class:"w-full px-3 py-2 rounded-sm text-sm text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace","font-size":"12px",resize:"vertical"},placeholder:"Enter the user prompt..."},null,512),[[$,e.prompt]])]),t("div",Ge,[t("div",Qe,[o[15]||(o[15]=t("label",{class:"text-xs font-display tracking-wider uppercase text-zinc-500"},"Expected Tool",-1)),t("label",Ke,[y(t("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=a=>e.noTool=a),class:"accent-lime-400"},null,512),[[H,e.noTool]]),o[14]||(o[14]=t("span",{class:"text-[10px]"},"No tool expected",-1))])]),y(t("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>e.expectedTool=a),disabled:e.noTool,class:"w-full px-3 py-1.5 rounded-sm text-sm font-mono text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"},placeholder:"tool_name (comma-separated for alternatives)"},null,8,We),[[$,e.expectedTool]])]),t("div",Xe,[o[16]||(o[16]=t("label",{class:"text-xs font-display tracking-wider uppercase text-zinc-500 mb-1 block"},"Expected Parameters (JSON)",-1)),y(t("textarea",{"onUpdate:modelValue":o[4]||(o[4]=a=>e.expectedParams=a),rows:"3",class:"w-full px-3 py-2 rounded-sm text-sm text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace","font-size":"12px",resize:"vertical"},placeholder:'{"city": "Paris"}'},null,512),[[$,e.expectedParams]])]),t("div",Ye,[o[19]||(o[19]=t("label",{class:"text-xs font-display tracking-wider uppercase text-zinc-500 mb-1 block"},"Scoring Mode",-1)),t("div",Ze,[y(t("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>e.scoringMode=a),class:"text-xs font-mono px-3 py-1.5 rounded-sm",style:{background:"var(--surface)",border:"1px solid var(--border-subtle)",color:"#A1A1AA",outline:"none",width:"180px"}},[...o[17]||(o[17]=[t("option",{value:"exact"},"Exact Match",-1),t("option",{value:"subset"},"Subset Match",-1),t("option",{value:"numeric_tolerance"},"Numeric Tolerance",-1),t("option",{value:"case_insensitive"},"Case Insensitive",-1)])],512),[[se,e.scoringMode]]),e.scoringMode==="numeric_tolerance"?(d(),u("div",et,[o[18]||(o[18]=t("span",{class:"text-[10px] text-zinc-600"},"Epsilon:",-1)),y(t("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>e.epsilon=a),type:"number",step:"0.001",min:"0",class:"w-20 px-2 py-1 rounded-sm text-xs font-mono text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"}},null,512),[[$,e.epsilon,void 0,{number:!0}]])])):v("",!0)])]),t("div",tt,[t("label",ot,[y(t("input",{type:"checkbox","onUpdate:modelValue":o[7]||(o[7]=a=>e.multiTurn=a),class:"accent-lime-400"},null,512),[[H,e.multiTurn]]),o[20]||(o[20]=t("span",{class:"text-xs font-display tracking-wider uppercase text-zinc-500"},"Multi-Turn",-1))])]),e.multiTurn?(d(),u("div",st,[t("div",nt,[t("div",null,[o[21]||(o[21]=t("label",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1 block"},"Max Rounds",-1)),y(t("input",{"onUpdate:modelValue":o[8]||(o[8]=a=>e.maxRounds=a),type:"number",min:"1",max:"20",class:"w-16 px-2 py-1 rounded-sm text-xs font-mono text-zinc-200 text-center",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"}},null,512),[[$,e.maxRounds,void 0,{number:!0}]])]),t("div",null,[o[22]||(o[22]=t("label",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1 block"},"Optimal Hops",-1)),y(t("input",{"onUpdate:modelValue":o[9]||(o[9]=a=>e.optimalHops=a),type:"number",min:"1",max:"20",class:"w-16 px-2 py-1 rounded-sm text-xs font-mono text-zinc-200 text-center",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"}},null,512),[[$,e.optimalHops,void 0,{number:!0}]])])]),t("div",lt,[o[23]||(o[23]=t("label",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1 block"},"Valid Prerequisites (comma-separated)",-1)),y(t("input",{"onUpdate:modelValue":o[10]||(o[10]=a=>e.prerequisites=a),class:"w-full px-3 py-1.5 rounded-sm text-xs font-mono text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"},placeholder:"tool_a, tool_b"},null,512),[[$,e.prerequisites]])]),t("div",null,[o[24]||(o[24]=t("label",{class:"text-[10px] text-zinc-600 font-display tracking-wider uppercase mb-1 block"},"Mock Responses (JSON)",-1)),y(t("textarea",{"onUpdate:modelValue":o[11]||(o[11]=a=>e.mockResponses=a),rows:"3",class:"w-full px-3 py-2 rounded-sm text-xs text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace",resize:"vertical"},placeholder:'{"tool_a": {"status": "ok", "data": []}}'},null,512),[[$,e.mockResponses]])])])):v("",!0),i.value?(d(),u("div",at,g(i.value),1)):v("",!0),t("div",rt,[t("button",{onClick:o[12]||(o[12]=a=>l.$emit("cancel")),class:"modal-btn modal-btn-cancel text-xs"},"Cancel"),t("button",{onClick:p,class:"modal-btn modal-btn-confirm text-xs"},"Save")])]))}},it={key:0,class:"text-center text-zinc-600 text-sm font-body py-8"},dt={class:"card rounded-md p-5 mb-6"},ut={class:"flex items-center gap-4 mb-3"},ct={class:"flex-1"},pt={key:0,class:"flex items-center gap-3 px-4 py-2.5 rounded-md mb-6",style:{background:"rgba(168,85,247,0.06)",border:"1px solid rgba(168,85,247,0.2)"}},mt={class:"text-xs font-body text-zinc-400 flex-1 truncate"},xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},vt={class:"card rounded-md p-5"},ft={key:0,class:"mt-2 mb-2"},bt={class:"flex items-center justify-between mb-2"},yt={key:0,class:"text-xs mt-1",style:{color:"var(--coral)"}},gt={class:"flex justify-end gap-2 mt-2"},kt={key:0,class:"mt-4"},$t={class:"flex items-center justify-between mb-2"},_t={key:0,class:"text-xs mt-1",style:{color:"var(--coral)"}},wt={class:"flex justify-end gap-2 mt-2"},Tt={class:"card rounded-md p-5"},zt={key:0,class:"mt-2 mb-2"},Ct={key:0,class:"mt-4"},Nt={__name:"EditorView",setup(k){const S=ie(),f=re(),c=ue(),{showToast:e}=ae(),{confirm:i}=de(),{setSuite:p}=ce(),l=G(()=>S.params.id),o=G(()=>c.currentSuite),a=T(!0),h=T(""),b=T(""),m=T(!1),z=T(-1),_=T(""),C=T(""),E=T(!1),N=T(null),O=T(null);le(async()=>{var n,s;try{await c.loadSuite(l.value),h.value=((n=o.value)==null?void 0:n.name)||"",b.value=((s=o.value)==null?void 0:s.description)||"",o.value&&p(o.value.id,o.value.name)}catch{e("Failed to load suite","error"),f.push({name:"ToolEvalSuites"})}finally{a.value=!1}});function W(n,s){return n?n.length>s?n.slice(0,s)+"...":n:""}async function F(){const n=h.value.trim();if(!n){e("Name is required","error");return}try{await c.updateSuite(l.value,{name:n,description:b.value.trim()}),o.value&&(o.value.name=n,o.value.description=b.value.trim(),p(o.value.id,n))}catch{e("Failed to save","error")}}async function X(){try{await c.patchSuite(l.value,{system_prompt:""}),o.value&&(o.value.system_prompt=null),e("System prompt cleared","success")}catch{e("Failed to clear system prompt","error")}}function L(n){z.value=n,C.value="",n>=0?_.value=JSON.stringify(o.value.tools[n],null,2):_.value=JSON.stringify({type:"function",function:{name:"my_tool",description:"Description of what this tool does",parameters:{type:"object",properties:{},required:[]}}},null,2),m.value=!0}async function P(){var r,x;C.value="";let n;try{n=JSON.parse(_.value.trim())}catch(j){C.value="Invalid JSON: "+j.message;return}if(!n||typeof n!="object"){C.value="Tool must be a JSON object";return}if(n.type!=="function"){C.value='tool.type must be "function"';return}if(!((r=n.function)!=null&&r.name)){C.value="tool.function.name is required";return}const s=[...((x=o.value)==null?void 0:x.tools)||[]];z.value>=0?s[z.value]=n:s.push(n);try{await c.updateSuite(l.value,{tools:s}),o.value.tools=s,m.value=!1,e("Tool saved","success")}catch{e("Failed to save tools","error")}}async function Y(n){var j,M,w,J;const s=((w=(M=(j=o.value)==null?void 0:j.tools)==null?void 0:M[n])==null?void 0:w.function)||{};if(!await i("Delete Tool",`Delete "${s.name||"unnamed"}"?`,{danger:!0,confirmLabel:"Delete"}))return;const x=[...((J=o.value)==null?void 0:J.tools)||[]];x.splice(n,1);try{await c.updateSuite(l.value,{tools:x}),o.value.tools=x,e("Tool deleted","success")}catch{e("Failed to delete tool","error")}}function Z(){var x;const n=((x=o.value)==null?void 0:x.tools)||[];if(!n.length){e("No tools to export","error");return}const s=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),r=document.createElement("a");r.href=URL.createObjectURL(s),r.download=`${(o.value.name||"tools").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}_tools.json`,r.click(),URL.revokeObjectURL(r.href)}function ee(){const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=async s=>{var x,j;const r=s.target.files[0];if(r)try{const M=await r.text(),w=JSON.parse(M);if(!Array.isArray(w)||!w.length){e("Must be a non-empty JSON array of tools","error");return}for(let V=0;V<w.length;V++)if(w[V].type!=="function"||!((x=w[V].function)!=null&&x.name)){e(`Tool ${V+1}: must have type "function" and function.name`,"error");return}const J=[...((j=o.value)==null?void 0:j.tools)||[],...w];await c.updateSuite(l.value,{tools:J}),o.value.tools=J,e(`Imported ${w.length} tool${w.length>1?"s":""}`,"success")}catch(M){e("Failed to import: "+(M.message||"invalid JSON"),"error")}},n.click()}function B(n){var s;n?(N.value=n,O.value=(((s=o.value)==null?void 0:s.test_cases)||[]).find(r=>r.id===n)||null):(N.value=null,O.value=null),E.value=!0}async function I(n){try{N.value?(await c.updateTestCase(l.value,N.value,n),e("Test case updated","success")):(await c.createTestCase(l.value,n),e("Test case created","success")),await c.loadSuite(l.value),E.value=!1,N.value=null,O.value=null}catch(s){e(s.message||"Failed to save","error")}}async function te(n){if(await i("Delete Test Case","Delete this test case? This cannot be undone.",{danger:!0,confirmLabel:"Delete"}))try{await c.deleteTestCase(l.value,n),o.value&&(o.value.test_cases=(o.value.test_cases||[]).filter(r=>r.id!==n)),e("Test case deleted","success")}catch{e("Failed to delete","error")}}return(n,s)=>(d(),u("div",null,[t("button",{onClick:s[0]||(s[0]=r=>n.$router.push({name:"ToolEvalSuites"})),class:"text-xs font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300 mb-4 inline-flex items-center gap-1"},[...s[13]||(s[13]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),q(" Back to Suites ",-1)])]),a.value?(d(),u("div",it,"Loading suite...")):o.value?(d(),u(A,{key:1},[t("div",dt,[t("div",ut,[t("div",ct,[s[14]||(s[14]=t("label",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 mb-1 block"},"Suite Name",-1)),y(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>h.value=r),onBlur:F,class:"w-full px-3 py-1.5 rounded-sm text-sm font-body text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"},placeholder:"Suite Name"},null,544),[[$,h.value]])])]),t("div",null,[s[15]||(s[15]=t("label",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 mb-1 block"},"Description",-1)),y(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>b.value=r),onBlur:F,class:"w-full px-3 py-1.5 rounded-sm text-sm font-body text-zinc-400",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"},placeholder:"Optional description"},null,544),[[$,b.value]])])]),o.value.system_prompt?(d(),u("div",pt,[s[16]||(s[16]=t("span",{class:"text-[10px] font-display font-medium tracking-wider uppercase px-2 py-0.5 rounded-sm",style:{background:"rgba(168,85,247,0.15)",color:"#A855F7"}},"System Prompt",-1)),t("span",mt,g(W(o.value.system_prompt,80)),1),t("button",{onClick:X,class:"text-[10px] font-display tracking-wider uppercase text-zinc-600 hover:text-red-400 flex-shrink-0"},"Clear")])):v("",!0),t("div",xt,[t("div",vt,[U(Ce,{tools:o.value.tools||[],"suite-id":l.value,onAddTool:s[9]||(s[9]=r=>L(-1)),onEditTool:L,onDeleteTool:Y,onImportTools:ee,onExportTools:Z},{editor:R(({index:r})=>[m.value&&z.value===r?(d(),u("div",ft,[t("div",bt,[s[17]||(s[17]=t("span",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-500"},"Edit Tool",-1)),t("button",{onClick:s[3]||(s[3]=x=>m.value=!1),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300"},"Cancel")]),y(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=x=>_.value=x),rows:"12",class:"w-full px-3 py-2 rounded-sm text-xs text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace",resize:"vertical"}},null,512),[[$,_.value]]),C.value?(d(),u("div",yt,g(C.value),1)):v("",!0),t("div",gt,[t("button",{onClick:s[5]||(s[5]=x=>m.value=!1),class:"modal-btn modal-btn-cancel text-xs"},"Cancel"),t("button",{onClick:P,class:"modal-btn modal-btn-confirm text-xs"},"Save Tool")])])):v("",!0)]),"add-editor":R(()=>[m.value&&z.value<0?(d(),u("div",kt,[t("div",$t,[s[18]||(s[18]=t("span",{class:"text-[10px] font-display tracking-wider uppercase text-zinc-500"},"New Tool",-1)),t("button",{onClick:s[6]||(s[6]=r=>m.value=!1),class:"text-[10px] font-display tracking-wider uppercase text-zinc-500 hover:text-zinc-300"},"Cancel")]),y(t("textarea",{"onUpdate:modelValue":s[7]||(s[7]=r=>_.value=r),rows:"12",class:"w-full px-3 py-2 rounded-sm text-xs text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace",resize:"vertical"}},null,512),[[$,_.value]]),C.value?(d(),u("div",_t,g(C.value),1)):v("",!0),t("div",wt,[t("button",{onClick:s[8]||(s[8]=r=>m.value=!1),class:"modal-btn modal-btn-cancel text-xs"},"Cancel"),t("button",{onClick:P,class:"modal-btn modal-btn-confirm text-xs"},"Save Tool")])])):v("",!0)]),_:1},8,["tools","suite-id"])]),t("div",Tt,[U(Le,{"test-cases":o.value.test_cases||[],tools:o.value.tools||[],onAddCase:s[12]||(s[12]=r=>B(null)),onEditCase:B,onDeleteCase:te},{editor:R(({caseItem:r})=>[E.value&&N.value===r.id?(d(),u("div",zt,[U(Q,{"test-case":O.value,editing:!0,onSave:I,onCancel:s[10]||(s[10]=x=>E.value=!1)},null,8,["test-case"])])):v("",!0)]),"add-editor":R(()=>[E.value&&!N.value?(d(),u("div",Ct,[U(Q,{"test-case":O.value,editing:!1,onSave:I,onCancel:s[11]||(s[11]=r=>E.value=!1)},null,8,["test-case"])])):v("",!0)]),_:1},8,["test-cases","tools"])])])],64)):v("",!0)]))}};export{Nt as default};
