import{o as se,w as le,b as s,c as r,d as e,f as x,g as W,e as L,h as J,R as re,F as E,A as B,l as h,t as a,r as k,B as P,z as q,s as X,k as O,p as ge,I as ke,D as he,x as M,v as ee,P as we,y as te,i as oe,j as $e,K as Ce,a as ze}from"./index-DBNJ0RjU.js";import{a as Se,u as je}from"./useSharedContext-C-EAG0AM.js";import{u as Ae}from"./profiles-0LhYaj_P.js";import{u as Fe}from"./promptLibrary-EwM49QAX.js";const Ee={class:"card rounded-md p-5","data-section":"system-prompt"},Be={class:"flex items-center gap-2"},Pe={key:0,class:"text-[9px] px-1.5 py-0.5 rounded",style:{background:"rgba(34,197,94,0.15)",color:"#22C55E"}},Ie={class:"flex items-center gap-2"},Me={key:0,class:"flex flex-wrap gap-1.5 mb-2"},Te=["onClick"],Re={class:"flex items-center gap-2 mb-2"},Oe=["value"],Ve={key:0,disabled:"",class:"text-[9px] text-zinc-600 font-body px-2"},Je=["value"],Ne={__name:"SystemPromptEditor",props:{models:{type:Array,default:()=>[]},systemPrompts:{type:Object,default:()=>({})}},emits:["update:systemPrompts"],setup(V,{emit:p}){const $=Fe(),j=P(()=>$.versions),g=P(()=>$.loading),y=V,T=p,C=k(!1),I=k("_global"),A=P(()=>{const o=[{key:"_global",label:"Default (All)"}];for(const v of y.models){const n=typeof v=="string"?v:v.model_id||v.id||"";if(!n)continue;const c=typeof v=="string"?v.split("/").pop():v.display_name||v.model_id||v.id||"Model";o.push({key:n,label:c})}return o}),w=P(()=>y.systemPrompts[I.value]||""),S=P(()=>y.systemPrompts?Object.values(y.systemPrompts).some(o=>o&&o.trim()):!1);function F(o){const v={...y.systemPrompts,[I.value]:o};T("update:systemPrompts",v)}function R(){T("update:systemPrompts",{}),I.value="_global"}function u(o){const v=j.value.find(n=>n.id===o);v&&(F(v.prompt_text),C.value=!0)}function m(o,v){return o?o.length>v?o.slice(0,v)+"...":o:""}return se(()=>{$.versions.length===0&&$.loadVersions()}),le(()=>y.systemPrompts,o=>{o&&Object.values(o).some(v=>v&&v.trim())&&(C.value=!0)},{immediate:!0}),(o,v)=>(s(),r("div",Ee,[e("div",{class:"flex items-center justify-between mb-3 cursor-pointer",onClick:v[0]||(v[0]=n=>C.value=!C.value)},[e("div",Be,[v[3]||(v[3]=e("span",{class:"section-label",style:{cursor:"pointer"}},"System Prompt",-1)),S.value?(s(),r("span",Pe,"Active")):x("",!0)]),e("div",Ie,[S.value?(s(),r("button",{key:0,onClick:W(R,["stop"]),class:"text-[10px] font-display tracking-wider uppercase px-2 py-0.5 rounded-sm",style:{color:"var(--coral)",border:"1px solid rgba(255,59,92,0.2)",background:"none",cursor:"pointer"}},"Clear")):x("",!0),(s(),r("svg",{class:L(["w-4 h-4 text-zinc-600 transition-transform",{"rotate-180":C.value}]),fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...v[4]||(v[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),J(e("div",null,[V.models.length>1?(s(),r("div",Me,[(s(!0),r(E,null,B(A.value,n=>(s(),r("button",{key:n.key,onClick:c=>I.value=n.key,class:L(["text-[10px] font-display tracking-wider uppercase px-2 py-1 rounded-sm transition-colors",I.value===n.key?"text-zinc-200":"text-zinc-600 hover:text-zinc-400"]),style:h(I.value===n.key?"background:rgba(255,255,255,0.06);border:1px solid var(--border);":"background:transparent;border:1px solid transparent;")},a(n.label),15,Te))),128))])):x("",!0),e("div",Re,[e("select",{value:"",onChange:v[1]||(v[1]=n=>{u(n.target.value),n.target.value=""}),class:"flex-1 text-[11px] font-body px-2 py-1.5 rounded-sm",style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border-subtle)",color:"var(--zinc-400)",outline:"none",cursor:"pointer"}},[v[5]||(v[5]=e("option",{value:"",disabled:""},"Load from Prompt Library...",-1)),(s(!0),r(E,null,B(j.value,n=>(s(),r("option",{key:n.id,value:n.id},a(n.label||m(n.prompt_text,60))+" ("+a(n.source||"manual")+")",9,Oe))),128))],32),g.value?(s(),r("button",Ve,"Loading...")):x("",!0)]),e("textarea",{value:w.value,onInput:v[2]||(v[2]=n=>F(n.target.value)),rows:"5",class:"w-full px-3 py-2 rounded-sm text-sm text-zinc-200",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none","font-family":"'Space Mono',monospace","font-size":"12px",resize:"vertical"},placeholder:"Enter a system prompt to prepend to eval calls..."},null,40,Je)],512),[[re,C.value]])]))}},De={class:"card rounded-md overflow-hidden"},Le={class:"flex items-center justify-between px-5 py-3",style:{"border-bottom":"1px solid var(--border-subtle)"}},Ue={class:"flex items-center gap-3"},qe=["value"],We={class:"text-xs text-zinc-600 font-body"},He={key:0,class:"flex items-center gap-1 px-5 py-2",style:{"border-bottom":"1px solid var(--border-subtle)","overflow-x":"auto"}},Ke=["onClick"],Ze={class:"w-full text-sm results-table"},Ge={style:{"border-bottom":"1px solid var(--border-subtle)"}},Xe={key:1,class:"px-5 py-3 text-right section-label",title:"Format compliance across test cases"},Qe={key:0},Ye=["onClick"],et={class:"px-5 py-3 text-sm font-body text-zinc-200"},tt={key:0,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm ml-2 align-middle",style:{color:"#FBBF24",background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.2)"},title:"Judge analysis available — click to view"},ot=["title"],st={key:1,class:"px-5 py-3 text-right"},lt=["title"],rt={key:1,class:"text-zinc-600 text-xs"},at={class:"px-5 py-3 text-right text-xs font-mono text-zinc-500"},nt={__name:"EvalResultsTable",props:{results:{type:Array,required:!0}},emits:["showDetail"],setup(V){const p=V,$=k("overall_pct"),j=k(!1),g=k(""),y=k("");function T(n){$.value===n?j.value=!j.value:($.value=n,j.value=n==="model_name")}function C(n){return $.value!==n?"":j.value?"▲":"▼"}const I=P(()=>{const n=[...p.results];return n.sort((c,d)=>{const _=c[$.value]??0,N=d[$.value]??0;return typeof _=="string"?j.value?_.localeCompare(N):N.localeCompare(_):j.value?_-N:N-_}),n}),A=P(()=>p.results.some(n=>n.irrelevance_pct!=null)),w=P(()=>p.results.some(n=>n.format_compliance_summary!=null)),S=P(()=>{const n=new Set;for(const c of p.results){const d=c.category_breakdown||{};for(const _ of Object.keys(d))n.add(_)}return Array.from(n).sort()}),F=P(()=>{const n=new Set;for(const c of p.results){const d=c.error_type_breakdown||{};for(const _ of Object.keys(d))n.add(_)}return Array.from(n).sort()}),R=P(()=>{const n=p.results.length;return`${p.results.reduce((d,_)=>d+(_.cases_run||0),0)} evaluations across ${n} model${n>1?"s":""}`});function u(n){return n>=80?"var(--lime)":n>=50?"#FBBF24":"var(--coral)"}function m(n){if(!n)return{};const c=n.toUpperCase();return c==="PASS"?{background:"rgba(191,255,0,0.08)",color:"var(--lime)",border:"1px solid rgba(191,255,0,0.2)"}:c==="NORMALIZED"?{background:"rgba(251,191,36,0.08)",color:"#FBBF24",border:"1px solid rgba(251,191,36,0.2)"}:{background:"rgba(255,59,92,0.08)",color:"var(--coral)",border:"1px solid rgba(255,59,92,0.2)"}}function o(n){if(!n)return"";const c=n.toUpperCase();return c==="PASS"?"All responses matched expected format exactly":c==="NORMALIZED"?"Some responses required normalization (e.g., case correction) to match":"Some responses failed format requirements"}function v(n,c){const _=(n.category_breakdown||{})[c];return _==null?null:_<=1?_*100:_}return(n,c)=>(s(),r("div",De,[e("div",Le,[c[8]||(c[8]=e("span",{class:"section-label"},"Summary",-1)),e("div",Ue,[F.value.length>0?J((s(),r("select",{key:0,"onUpdate:modelValue":c[0]||(c[0]=d=>g.value=d),class:"text-[10px] font-mono px-2 py-1 rounded-sm",style:{background:"var(--surface)",border:"1px solid var(--border-subtle)",color:"#A1A1AA",outline:"none"}},[c[7]||(c[7]=e("option",{value:""},"All errors",-1)),(s(!0),r(E,null,B(F.value,d=>(s(),r("option",{key:d,value:d},a(d),9,qe))),128))],512)),[[q,g.value]]):x("",!0),e("span",We,a(R.value),1)])]),S.value.length>0?(s(),r("div",He,[e("button",{class:L(["text-[10px] font-display tracking-wider uppercase px-2 py-0.5 rounded-sm transition-colors",y.value===""?"text-lime-400 border border-lime-400/30 bg-lime-400/05":"text-zinc-500 border border-zinc-800 hover:text-zinc-300"]),onClick:c[1]||(c[1]=d=>y.value="")},"All",2),(s(!0),r(E,null,B(S.value,d=>(s(),r("button",{key:d,class:L(["text-[10px] font-display tracking-wider uppercase px-2 py-0.5 rounded-sm transition-colors",y.value===d?"text-lime-400 border border-lime-400/30 bg-lime-400/05":"text-zinc-500 border border-zinc-800 hover:text-zinc-300"]),onClick:_=>y.value=d},a(d),11,Ke))),128))])):x("",!0),e("table",Ze,[e("thead",null,[e("tr",Ge,[e("th",{class:"px-5 py-3 text-left section-label cursor-pointer",onClick:c[2]||(c[2]=d=>T("model_name"))}," Model "+a(C("model_name")),1),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:c[3]||(c[3]=d=>T("tool_accuracy_pct"))}," Tool % "+a(C("tool_accuracy_pct")),1),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:c[4]||(c[4]=d=>T("param_accuracy_pct"))}," Param % "+a(C("param_accuracy_pct")),1),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:c[5]||(c[5]=d=>T("overall_pct"))}," Overall % "+a(C("overall_pct")),1),A.value?(s(),r("th",{key:0,class:"px-5 py-3 text-right section-label cursor-pointer",onClick:c[6]||(c[6]=d=>T("irrelevance_pct")),title:"Score on cases where model should NOT call any tool"}," Irrel. % "+a(C("irrelevance_pct")),1)):x("",!0),w.value?(s(),r("th",Xe," Format ")):x("",!0),y.value===""&&S.value.length>0?(s(!0),r(E,{key:2},B(S.value,d=>(s(),r("th",{key:"th-"+d,class:"px-3 py-3 text-right section-label",style:{"min-width":"70px"}},a(d),1))),128)):x("",!0),c[9]||(c[9]=e("th",{class:"px-5 py-3 text-right section-label"},"Cases",-1))])]),e("tbody",null,[V.results.length?x("",!0):(s(),r("tr",Qe,[...c[10]||(c[10]=[e("td",{colspan:"6",class:"px-5 py-8 text-center text-zinc-600 text-sm font-body"}," No results yet. ",-1)])])),(s(!0),r(E,null,B(I.value,d=>(s(),r("tr",{key:d.model_id,class:"cursor-pointer",onClick:_=>n.$emit("showDetail",d.model_id)},[e("td",et,[e("span",null,a(d.model_name||d.model_id),1),d.judge_grade!=null?(s(),r("span",tt,"Judge: "+a(d.judge_grade),1)):x("",!0)]),e("td",{class:"px-5 py-3 text-right text-sm font-mono font-bold",style:h({color:u(d.tool_accuracy_pct)})},a((d.tool_accuracy_pct??0).toFixed(1))+"% ",5),e("td",{class:"px-5 py-3 text-right text-sm font-mono font-bold",style:h({color:u(d.param_accuracy_pct??0)})},a(d.param_accuracy_pct!=null?d.param_accuracy_pct.toFixed(1)+"%":"-"),5),e("td",{class:"px-5 py-3 text-right text-sm font-mono font-bold",style:h({color:u(d.overall_pct??0)})},a((d.overall_pct??0).toFixed(1))+"% ",5),A.value?(s(),r("td",{key:0,class:"px-5 py-3 text-right text-sm font-mono font-bold",style:h({color:d.irrelevance_pct!=null?u(d.irrelevance_pct):"#52525B"}),title:d.irrelevance_pct!=null?"Abstention accuracy on irrelevance test cases":"No irrelevance cases"},a(d.irrelevance_pct!=null?d.irrelevance_pct.toFixed(1)+"%":"-"),13,ot)):x("",!0),w.value?(s(),r("td",st,[d.format_compliance_summary?(s(),r("span",{key:0,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm",style:h(m(d.format_compliance_summary)),title:o(d.format_compliance_summary)},a(d.format_compliance_summary),13,lt)):(s(),r("span",rt,"-"))])):x("",!0),y.value===""&&S.value.length>0?(s(!0),r(E,{key:2},B(S.value,_=>(s(),r("td",{key:"td-"+_+d.model_id,class:"px-3 py-3 text-right text-xs font-mono",style:h({color:v(d,_)!=null?u(v(d,_)):"#52525B"})},a(v(d,_)!=null?v(d,_).toFixed(0)+"%":"-"),5))),128)):x("",!0),e("td",at,a(d.cases_run||0),1)],8,Ye))),128))])])]))}},it={class:"modal-box",style:{"max-width":"720px","max-height":"80vh","overflow-y":"auto"}},dt={class:"flex items-center justify-between mb-4"},ct={class:"modal-title"},ut={key:0,class:"text-[10px] text-amber-400 font-body mt-0.5"},pt={class:"space-y-3"},mt={class:"flex items-center gap-2 mb-1 flex-wrap"},vt={key:0,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm",style:{background:"rgba(56,189,248,0.08)",color:"#38BDF8",border:"1px solid rgba(56,189,248,0.2)"}},xt={key:1,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm",style:{background:"rgba(168,85,247,0.08)",color:"#A855F7",border:"1px solid rgba(168,85,247,0.2)"}},ft=["title"],yt={key:3,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm",style:{background:"rgba(255,59,92,0.08)",color:"var(--coral)",border:"1px solid rgba(255,59,92,0.2)"},title:"Error classification"},bt={key:4,class:"text-[10px] text-zinc-700 font-mono ml-auto"},_t={class:"text-sm text-zinc-300 font-body mb-1"},gt={key:0},kt={class:"text-[10px] font-mono mt-1"},ht={key:1,class:"grid grid-cols-2 gap-4 text-xs font-mono"},wt={class:"text-zinc-400"},$t={key:0,class:"text-zinc-600 mt-0.5 break-all"},Ct={key:0,class:"text-zinc-600 mt-0.5 break-all"},zt={class:"flex gap-4 mt-2 text-[10px] font-mono text-zinc-600"},St={key:0},jt={key:2,class:"mt-2"},At={class:"text-[10px] font-mono mb-1.5"},Ft={key:0,class:"text-zinc-700 mx-1"},Et={style:{color:"var(--lime)"}},Bt=["title"],Pt={class:"text-zinc-600 ml-1"},It={class:"mt-1 grid grid-cols-4 gap-2 text-[10px] font-mono"},Mt={class:"text-zinc-500"},Tt={style:{color:"var(--lime)"}},Rt={class:"text-zinc-500"},Ot={style:{color:"var(--lime)"}},Vt={class:"text-zinc-500"},Jt={style:{color:"var(--coral)"}},Nt={class:"text-zinc-500"},Dt={style:{color:"var(--coral)"}},Lt={key:3,class:"mt-2 rounded-sm px-3 py-2",style:{background:"rgba(251,191,36,0.04)",border:"1px solid rgba(251,191,36,0.15)"}},Ut={class:"text-[10px] font-body text-zinc-400 leading-relaxed"},qt={key:4,class:"mt-2 text-xs",style:{color:"var(--coral)"}},Wt={key:5,class:"mt-2"},Ht=["onClick"],Kt={key:0,class:"mt-2 space-y-2",style:{"max-height":"300px","overflow-y":"auto"}},Zt={key:0},Gt={class:"text-[10px] font-mono text-zinc-400 p-2 rounded-sm overflow-x-auto",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-subtle)","white-space":"pre-wrap","word-break":"break-all"}},Xt={key:1},Qt={class:"text-[10px] font-mono text-zinc-400 p-2 rounded-sm overflow-x-auto",style:{background:"rgba(0,0,0,0.3)",border:"1px solid var(--border-subtle)","white-space":"pre-wrap","word-break":"break-all"}},Yt={class:"flex justify-end mt-4"},eo={__name:"ModelDetailModal",props:{visible:{type:Boolean,default:!1},modelId:{type:String,default:""},allResults:{type:Array,default:()=>[]},evalId:{type:String,default:null}},emits:["close"],setup(V){const p=V,$=k({}),j=k({}),g=k(!1),y=P(()=>p.allResults.filter(u=>u.model_id===p.modelId)),T=P(()=>{const u=y.value[0];return(u==null?void 0:u.model_name)||(u==null?void 0:u.model_id)||p.modelId});le(()=>p.visible,async u=>{if(!u){j.value={};return}if(p.evalId){g.value=!0;try{const m=await X(`/api/tool-eval/${p.evalId}/judge-report`);if(!m.ok)return;const o=await m.json(),v={},n=o.cases||o.case_results||[];for(const c of n)c.model_id===p.modelId&&c.explanation&&(v[c.test_case_id]=c.explanation);j.value=v}catch{}finally{g.value=!1}}},{immediate:!1});function C(u){return u.judge_explanation?u.judge_explanation:u.test_case_id&&j.value[u.test_case_id]?j.value[u.test_case_id]:null}function I(u){return u>=80?"var(--lime)":u>=50?"#FBBF24":"var(--coral)"}function A(u){if(!u)return{};const m=u.toUpperCase();return m==="PASS"?{background:"rgba(191,255,0,0.08)",color:"var(--lime)",border:"1px solid rgba(191,255,0,0.2)"}:m==="NORMALIZED"?{background:"rgba(251,191,36,0.08)",color:"#FBBF24",border:"1px solid rgba(251,191,36,0.2)"}:{background:"rgba(255,59,92,0.08)",color:"var(--coral)",border:"1px solid rgba(255,59,92,0.2)"}}function w(u){return u==="previous_tool"?{background:"rgba(56,189,248,0.1)",color:"#38BDF8"}:u==="inferred"?{background:"rgba(168,85,247,0.1)",color:"#A855F7"}:{background:"rgba(255,255,255,0.04)",color:"#71717A"}}function S(u){return u==="previous_tool"?"Arguments sourced from previous tool output":u==="inferred"?"Arguments inferred from conversation context":u==="user"?"Arguments provided directly by user":`Argument source: ${u}`}function F(u){return u==null?"(no tool call)":Array.isArray(u)?u.join(" | "):u}function R(u){$.value[u]=!$.value[u]}return(u,m)=>V.visible?(s(),r("div",{key:0,class:"modal-overlay",onClick:m[2]||(m[2]=W(o=>u.$emit("close"),["self"]))},[e("div",it,[e("div",dt,[e("div",null,[e("div",ct,a(T.value),1),g.value?(s(),r("div",ut,"Loading judge analysis...")):x("",!0)]),e("button",{onClick:m[0]||(m[0]=o=>u.$emit("close")),class:"text-zinc-600 hover:text-zinc-400 text-lg"},"×")]),e("div",pt,[(s(!0),r(E,null,B(y.value,(o,v)=>{var n;return s(),r("div",{key:o.test_case_id||v,class:"rounded-sm p-3",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"}},[e("div",mt,[e("span",{style:h({color:o.tool_selection_score===1?"var(--lime)":"var(--coral)"}),class:"text-xs font-mono font-bold"},a(o.tool_selection_score===1?"OK":"X"),5),e("span",{class:"text-xs font-mono font-bold",style:h({color:I(o.overall_score*100)})},a((o.overall_score*100).toFixed(0))+"% ",5),o.should_call_tool===!1?(s(),r("span",vt,"Irrelevance")):x("",!0),o.category?(s(),r("span",xt,a(o.category),1)):x("",!0),o.format_compliance?(s(),r("span",{key:2,class:"text-[9px] font-display tracking-wider uppercase px-1.5 py-0.5 rounded-sm",style:h(A(o.format_compliance)),title:o.format_compliance_detail||""},a(o.format_compliance),13,ft)):x("",!0),o.error_type&&o.tool_selection_score<1?(s(),r("span",yt,a(o.error_type),1)):x("",!0),o.latency_ms?(s(),r("span",bt,a(o.latency_ms)+"ms",1)):x("",!0)]),e("div",_t,'"'+a(o.prompt||"")+'"',1),o.should_call_tool===!1?(s(),r("div",gt,[e("div",kt,[m[3]||(m[3]=e("span",{class:"text-zinc-600"},"Expected: ",-1)),m[4]||(m[4]=e("span",{style:{color:"#38BDF8"}},"abstain (no tool call)",-1)),m[5]||(m[5]=e("span",{class:"ml-4 text-zinc-600"},"Actual: ",-1)),e("span",{style:h({color:o.tool_selection_score===1?"var(--lime)":"var(--coral)"})},a(o.actual_tool?o.actual_tool:"no tool call"),5)]),e("div",{class:"text-[10px] font-mono mt-1",style:h({color:o.tool_selection_score===1?"var(--lime)":"var(--coral)"})},a(o.tool_selection_score===1?"Correctly abstained":"Should not have called a tool"),5)])):(s(),r("div",ht,[e("div",null,[m[6]||(m[6]=e("div",{class:"text-[10px] font-display tracking-wider text-zinc-500 uppercase mb-0.5"},"Expected",-1)),e("div",wt,a(F(o.expected_tool)),1),o.expected_params?(s(),r("div",$t,a(JSON.stringify(o.expected_params)),1)):x("",!0)]),e("div",null,[m[7]||(m[7]=e("div",{class:"text-[10px] font-display tracking-wider text-zinc-500 uppercase mb-0.5"},"Actual",-1)),e("div",{style:h({color:o.tool_selection_score>0?"var(--lime)":"var(--coral)"})},a(o.actual_tool||"(no tool call)"),5),o.actual_params?(s(),r("div",Ct,a(JSON.stringify(o.actual_params)),1)):x("",!0)])])),e("div",zt,[e("span",null,[m[8]||(m[8]=O("Tool: ",-1)),e("span",{style:h({color:I(o.tool_selection_score*100)})},a((o.tool_selection_score*100).toFixed(0))+"%",5)]),o.param_accuracy!=null?(s(),r("span",St,[m[9]||(m[9]=O("Param: ",-1)),e("span",{style:h({color:I(o.param_accuracy*100)})},a((o.param_accuracy*100).toFixed(0))+"%",5)])):x("",!0)]),o.multi_turn&&((n=o.tool_chain)!=null&&n.length)?(s(),r("div",jt,[e("div",At,[m[10]||(m[10]=e("span",{class:"text-zinc-600"},"Chain:",-1)),(s(!0),r(E,null,B(o.tool_chain,(c,d)=>(s(),r("span",{key:d,class:"inline-flex items-center"},[d>0?(s(),r("span",Ft,"→")):x("",!0),e("span",Et,a(c.tool_name),1),c.argument_source&&c.argument_source!=="user"?(s(),r("span",{key:1,class:"text-[8px] px-1 py-0.5 rounded-sm ml-0.5",style:h(w(c.argument_source)),title:S(c.argument_source)},a(c.argument_source),13,Bt)):x("",!0)]))),128)),e("span",Pt,"("+a(o.rounds_used||o.tool_chain.length)+" round"+a((o.rounds_used||o.tool_chain.length)>1?"s":"")+")",1)]),e("div",It,[e("span",Mt,[m[11]||(m[11]=O("Completion: ",-1)),e("span",Tt,a(((o.completion_score||0)*100).toFixed(0))+"%",1)]),e("span",Rt,[m[12]||(m[12]=O("Efficiency: ",-1)),e("span",Ot,a(((o.efficiency_score||0)*100).toFixed(0))+"%",1)]),e("span",Vt,[m[13]||(m[13]=O("Redundancy: ",-1)),e("span",Jt,"-"+a(((o.redundancy_penalty||0)*100).toFixed(0))+"%",1)]),e("span",Nt,[m[14]||(m[14]=O("Detour: ",-1)),e("span",Dt,"-"+a(((o.detour_penalty||0)*100).toFixed(0))+"%",1)])])])):x("",!0),C(o)?(s(),r("div",Lt,[m[15]||(m[15]=e("div",{class:"text-[10px] font-display tracking-wider uppercase text-yellow-500 mb-1"},"Judge Analysis",-1)),e("div",Ut,a(C(o)),1)])):x("",!0),o.error?(s(),r("div",qt,a(o.error),1)):x("",!0),o.raw_request||o.raw_response?(s(),r("div",Wt,[e("button",{onClick:c=>R(v),class:"text-[10px] font-display tracking-wider uppercase px-2 py-0.5 rounded-sm",style:{color:"var(--lime)",border:"1px solid rgba(191,255,0,0.15)"}},a($.value[v]?"HIDE RAW":"VIEW RAW"),9,Ht),$.value[v]?(s(),r("div",Kt,[o.raw_request?(s(),r("div",Zt,[m[16]||(m[16]=e("div",{class:"text-[10px] font-display tracking-wider text-zinc-500 uppercase mb-1"},"Request",-1)),e("pre",Gt,a(JSON.stringify(o.raw_request,null,2)),1)])):x("",!0),o.raw_response?(s(),r("div",Xt,[m[17]||(m[17]=e("div",{class:"text-[10px] font-display tracking-wider text-zinc-500 uppercase mb-1"},"Response",-1)),e("pre",Qt,a(JSON.stringify(o.raw_response,null,2)),1)])):x("",!0)])):x("",!0)])):x("",!0)])}),128))]),e("div",Yt,[e("button",{onClick:m[1]||(m[1]=o=>u.$emit("close")),class:"modal-btn modal-btn-cancel"},"Close")])])])):x("",!0)}},to={class:"card rounded-md p-5 mb-6"},oo=["value"],so={class:"card rounded-md p-5 mb-6"},lo={class:"flex items-center justify-between mb-3"},ro={class:"text-xs font-mono text-zinc-600"},ao={key:0,class:"text-xs text-zinc-600 font-body"},no={key:1,class:"text-xs text-zinc-600 font-body"},io={key:2,class:"flex flex-col gap-1"},co=["onClick"],uo={class:"provider-group-count"},po=["onClick"],mo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 pl-4 pb-2"},vo=["onClick"],xo={class:"flex-1 min-w-0"},fo={class:"text-xs font-mono text-zinc-200 truncate"},yo={key:0,class:"card rounded-md p-5 mb-6"},bo={class:"flex flex-col gap-2"},_o=["title"],go=["onUpdate:modelValue"],ko=["value"],ho={class:"card rounded-md p-5 mb-6"},wo={class:"flex items-center gap-4 flex-wrap"},$o={class:"flex items-center gap-2 cursor-pointer",title:"Automatically run judge analysis after eval completes"},Co={key:0,class:"flex items-center gap-2",title:"Trigger judge when a model's overall score falls below this threshold"},zo={class:"text-[10px] font-mono text-amber-400 w-8"},So={class:"ml-auto flex gap-2"},jo=["disabled"],Ao={key:0,class:"w-3.5 h-3.5 animate-spin",fill:"none",viewBox:"0 0 24 24"},Fo={key:1,class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},Eo={key:1,class:"mb-6 px-4 py-3 rounded-sm flex items-start gap-3",style:{background:"rgba(251,191,36,0.06)",border:"1px solid rgba(251,191,36,0.25)"}},Bo={class:"text-xs text-zinc-400 font-body mt-0.5"},Po={key:3,class:"mb-6 fade-in"},Io={class:"card rounded-md p-5"},Mo={class:"flex items-center justify-between mb-3"},To={class:"flex items-center gap-3"},Ro={class:"text-sm text-zinc-400 font-body"},Oo={class:"text-xs font-mono text-zinc-600"},Vo={class:"progress-track rounded-full overflow-hidden"},Jo={key:0,class:"error-banner mt-3"},No={key:4,class:"card rounded-md overflow-hidden mb-6"},Do={style:{"max-height":"400px","overflow-y":"auto"}},Lo={class:"w-full text-sm results-table"},Uo=["onClick"],qo={class:"px-5 py-2 text-xs font-mono text-zinc-300"},Wo={class:"px-5 py-2 text-xs font-body text-zinc-400"},Ho={key:0,class:"text-[9px] font-display tracking-wider uppercase px-1 py-0.5 rounded-sm ml-1 align-middle",style:{color:"#38BDF8",background:"rgba(56,189,248,0.08)",border:"1px solid rgba(56,189,248,0.15)"}},Ko={class:"px-5 py-2 text-xs font-mono text-zinc-500"},Zo=["title"],Go={key:6,class:"mt-4 px-4 py-3 rounded-sm flex items-center justify-between",style:{background:"rgba(251,191,36,0.06)",border:"1px solid rgba(251,191,36,0.25)"}},ts={__name:"EvaluateView",setup(V){const p=Se(),$=Ae(),j=ge(),{showToast:g}=Ce(),{context:y,setSuite:T,setModels:C,setConfig:I}=je(),A=k(""),w=k(new Set),S=k(0),F=k("required"),R=k(!1),u=k(80),m=k({}),o=k(!0),v=k([]),n=k("Initializing..."),c=k("0/0"),d=k(0),_=k(""),N=k(!1),Q=k(""),H=k(!1),K=k({}),Z=P(()=>Array.from(w.value).filter(i=>i&&i.includes("::")).map(i=>{const t=i.indexOf("::"),b=i.substring(t+2);return{id:i,model_id:b,display_name:b.split("/").pop()||b}}));se(async()=>{var t;if(p.suites.length===0)try{await p.loadSuites()}catch{g("Failed to load suites","error")}try{const b=await X("/api/config");if(b.ok){const l=await b.json();ae(l)}}catch{g("Failed to load model config","error")}finally{o.value=!1}y.suiteId&&(A.value=y.suiteId),(t=y.selectedModels)!=null&&t.length&&(w.value=new Set(y.selectedModels)),y.temperature!=null&&(S.value=y.temperature),y.toolChoice&&(F.value=y.toolChoice),y.systemPrompts&&(m.value={...y.systemPrompts});try{await $.fetchProfiles()}catch{g("Failed to load model profiles","error")}try{const b=await X("/api/settings/judge");if(b.ok){const l=await b.json();R.value=!!l.auto_judge_after_eval}}catch{}const i=sessionStorage.getItem("_teJobId");i&&(p.activeJobId=i,p.isEvaluating=!0),G=j.onMessage(pe)});let G=null;ke(()=>{G&&G()});function ae(i){const t=[],b=i.providers||{};for(const[l,f]of Object.entries(b)){const z=f.provider_key||l,D=(f.models||[]).map(U=>({key:`${z}::${U.model_id}`,model_id:U.model_id,display_name:U.display_name||U.model_id,provider_key:z}));if(D.length===0)continue;const _e=he(f.display_name||l);t.push({provider:f.display_name||l,color:_e.text,models:D,collapsed:!1})}v.value=t}function ne(i){const t=new Set(w.value);t.has(i)?t.delete(i):t.add(i),w.value=t,C(Array.from(t))}function ie(i){return i.models.every(t=>w.value.has(t.key))}function de(i){const t=new Set(w.value),b=i.models.every(l=>t.has(l.key));for(const l of i.models)b?t.delete(l.key):t.add(l.key);w.value=t,C(Array.from(t))}async function ce(){const i=p.suites.find(t=>t.id===A.value);if(i){T(i.id,i.name);try{await p.loadSuite(A.value)}catch{}}}const ue=P(()=>{var t;if(F.value!=="required")return!1;const i=(t=p.currentSuite)==null?void 0:t.test_cases;return i?i.some(b=>b.should_call_tool===!1):!1});function pe(i){if(i.type==="judge_complete"){H.value=!0,g("Judge report ready — view in Judge History","success");return}if(p.activeJobId&&i.job_id===p.activeJobId)switch(p.handleEvalProgress(i),i.type){case"tool_eval_init":{const t=i.data||i;n.value=`Evaluating ${t.suite_name||""}...`,c.value=`0/${p.evalTotalCases}`;break}case"tool_eval_progress":{const t=i.data||i,b=t.total>0?Math.round(t.current/t.total*100):0;if(d.value=b,c.value=`${t.current}/${t.total}`,n.value=`Testing ${t.model||""}...`,p.evalStartTime&&b>0&&b<100){const f=(Date.now()-p.evalStartTime)/1e3/b*(100-b),z=f>60?Math.ceil(f/60)+"m left":Math.ceil(f)+"s left";n.value+=" — "+z}break}case"tool_eval_result":{p.evalTotalCases>0&&(d.value=Math.round(p.evalResults.length/p.evalTotalCases*100),c.value=`${p.evalResults.length}/${p.evalTotalCases}`);break}case"tool_eval_complete":n.value="Complete!",d.value=100,g("Eval complete!","success");break;case"job_completed":n.value="Complete!",d.value=100;break;case"job_failed":_.value=i.error||i.error_msg||"Eval failed";break;case"auto_judge_skipped":i.reason==="no_judge_model"?g("Auto-judge skipped: no judge model configured. Set one in Settings > Judge.","error"):i.reason==="score_above_threshold"&&g(i.detail||"Auto-judge skipped: scores above threshold","");break;case"eval_warning":g(i.detail||"Warning during evaluation","");break;case"param_adjustments":if(i.models)for(const t of i.models){const b=(t.adjustments||[]).map(l=>l.action==="drop"?`${l.param} dropped`:l.action==="clamp"?`${l.param} clamped ${l.original}→${l.adjusted}`:l.action==="rename"?`${l.param} renamed`:`${l.param} ${l.action}`);b.length&&g(`${t.model_id}: ${b.join(", ")}`,"")}break;case"judge_failed":g(i.detail||"Judge analysis failed","error");break;case"job_cancelled":n.value="Cancelled",g("Eval cancelled","");break}}async function me(){if(w.value.size===0){g("Select at least one model","error");return}if(!A.value){g("No suite selected","error");return}p.resetEval(),n.value="Initializing...",d.value=0,c.value="0/0",_.value="",H.value=!1;const i=Array.from(w.value).map(f=>{const z=f.indexOf("::");return{provider_key:f.substring(0,z),model_id:f.substring(z+2)}}),t={suite_id:A.value,targets:i,temperature:S.value,tool_choice:F.value,auto_judge:R.value,auto_judge_threshold:R.value?u.value/100:null};y.providerParams&&Object.keys(y.providerParams).length>0&&(t.provider_params=y.providerParams);const b={};for(const[f,z]of Object.entries(m.value))z&&z.trim()&&(b[f]=z);Object.keys(b).length>0&&(t.system_prompt=b);const l={};for(const[f,z]of Object.entries(K.value))z&&(l[f]=z);Object.keys(l).length>0&&(t.profiles=l),y.experimentId&&(t.experiment_id=y.experimentId),I({temperature:S.value,toolChoice:F.value,systemPrompts:b,lastUpdatedBy:null});try{await p.runEval(t),g("Eval submitted","success")}catch(f){g(f.message||"Failed to start eval","error"),p.isEvaluating=!1}}async function ve(){try{await p.cancelEval(),g("Cancellation requested","")}catch{g("Failed to cancel","error")}}function xe(i,t){return i?i.length>t?i.slice(0,t)+"...":i:""}function fe(i){return i==null?"(none)":Array.isArray(i)?i.join(" | "):typeof i=="object"?JSON.stringify(i):i}function ye(i){return i>=80?"var(--lime)":i>=50?"#FBBF24":"var(--coral)"}function be(i){return i.should_call_tool===!1?i.actual_tool?"var(--coral)":"var(--lime)":i.tool_selection_score>0?"var(--lime)":"var(--coral)"}function Y(i){Q.value=i,N.value=!0}return(i,t)=>{const b=ze("router-link");return s(),r("div",null,[t[33]||(t[33]=e("div",{class:"flex items-center justify-between mb-6"},[e("div",null,[e("h2",{class:"font-display font-bold text-lg text-zinc-100 mb-1"},"Evaluate"),e("p",{class:"text-sm text-zinc-600 font-body"},"Select models, configure settings, and run tool calling evaluations.")])],-1)),e("div",to,[t[9]||(t[9]=e("label",{class:"section-label mb-2 block"},"Suite",-1)),J(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>A.value=l),onChange:ce,class:"text-sm font-mono px-3 py-2 rounded-sm w-full",style:{background:"var(--surface)",border:"1px solid var(--border-subtle)",color:"#E4E4E7",outline:"none"}},[t[8]||(t[8]=e("option",{value:""},"-- Select a suite --",-1)),(s(!0),r(E,null,B(M(p).suites,l=>(s(),r("option",{key:l.id,value:l.id},a(l.name)+" ("+a(l.tool_count||0)+" tools, "+a(l.test_case_count||0)+" cases) ",9,oo))),128))],544),[[q,A.value]])]),e("div",so,[e("div",lo,[t[10]||(t[10]=e("span",{class:"section-label"},"Models",-1)),e("span",ro,a(w.value.size)+" selected",1)]),o.value?(s(),r("div",ao,"Loading models...")):v.value.length===0?(s(),r("div",no," No models available. Configure providers in Settings. ")):(s(),r("div",io,[(s(!0),r(E,null,B(v.value,l=>(s(),r("div",{key:l.provider,class:"provider-group"},[e("div",{class:"provider-group-header",onClick:f=>l.collapsed=!l.collapsed},[e("div",{class:"provider-group-dot",style:h({background:l.color})},null,4),e("span",{class:"provider-group-label",style:h({color:l.color})},a(l.provider),5),e("span",uo,a(l.models.length),1),e("button",{onClick:W(f=>de(l),["stop"]),class:"text-[10px] font-display tracking-wider uppercase text-zinc-600 hover:text-zinc-400 ml-2"},a(ie(l)?"None":"All"),9,po)],8,co),J(e("div",mo,[(s(!0),r(E,null,B(l.models,f=>(s(),r("div",{key:f.key,class:L(["model-card rounded-sm px-3 py-2 flex items-center gap-2",{selected:w.value.has(f.key)}]),onClick:W(z=>ne(f.key),["stop"])},[t[11]||(t[11]=e("div",{class:"check-dot"},null,-1)),e("div",xo,[e("div",fo,a(f.display_name||f.model_id),1)])],10,vo))),128))],512),[[re,!l.collapsed]])]))),128))]))]),Z.value.length>0&&M($).profiles.length>0?(s(),r("div",yo,[t[13]||(t[13]=e("span",{class:"section-label block mb-3"},"Profiles (optional)",-1)),e("div",bo,[(s(!0),r(E,null,B(Z.value,l=>(s(),r("div",{key:l.id,class:"flex items-center gap-3"},[e("span",{class:"text-xs font-mono text-zinc-400 w-40 truncate",title:l.model_id},a(l.display_name),9,_o),J(e("select",{"onUpdate:modelValue":f=>K.value[l.model_id]=f,class:"text-xs font-mono px-2 py-1 rounded-sm flex-1",style:{background:"var(--surface)",border:"1px solid var(--border-subtle)",color:"var(--zinc-200)",outline:"none"}},[t[12]||(t[12]=e("option",{value:""},"No Profile",-1)),(s(!0),r(E,null,B(M($).profilesByModel[l.model_id]||[],f=>(s(),r("option",{key:f.id,value:f.id},a(f.name)+a(f.is_default?" (default)":""),9,ko))),128))],8,go),[[q,K.value[l.model_id]]])]))),128))])])):x("",!0),e("div",ho,[t[21]||(t[21]=e("div",{class:"flex items-center justify-between mb-4"},[e("span",{class:"section-label"},"Eval Settings")],-1)),e("div",wo,[e("div",null,[t[14]||(t[14]=e("span",{class:"text-zinc-500 font-body text-xs"},"Temperature",-1)),J(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>S.value=l),type:"number",min:"0",max:"2",step:"0.1",class:"ml-2 w-16 px-2 py-1 rounded-sm text-sm font-mono text-zinc-200 text-center",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",outline:"none"}},null,512),[[ee,S.value,void 0,{number:!0}]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"text-xs font-display tracking-wider text-zinc-500 uppercase"},"Tool Choice",-1)),J(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>F.value=l),class:"text-xs font-mono px-3 py-1.5 rounded-sm ml-2",style:{background:"var(--surface)",border:"1px solid var(--border-subtle)",color:"var(--zinc-200)",width:"120px"}},[...t[15]||(t[15]=[e("option",{value:"required"},"Required",-1),e("option",{value:"auto"},"Auto",-1),e("option",{value:"none"},"None",-1)])],512),[[q,F.value]])]),e("label",$o,[J(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>R.value=l),class:"accent-amber-400"},null,512),[[we,R.value]]),t[17]||(t[17]=e("span",{class:"text-xs font-body text-zinc-400"},"Auto-run Judge",-1))]),R.value?(s(),r("div",Co,[t[18]||(t[18]=e("span",{class:"text-[10px] text-zinc-600 font-body"},"on score <",-1)),J(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>u.value=l),type:"range",min:"0",max:"100",step:"5",class:"w-20 accent-amber-400"},null,512),[[ee,u.value,void 0,{number:!0}]]),e("span",zo,a(u.value)+"%",1)])):x("",!0),e("div",So,[M(p).isEvaluating?(s(),r("button",{key:0,onClick:ve,class:"text-[11px] font-display font-medium tracking-wider uppercase px-3 py-1 rounded-sm transition-colors",style:{color:"var(--coral)",border:"1px solid rgba(255,59,92,0.3)"}},"Cancel")):x("",!0),e("button",{onClick:me,disabled:M(p).isEvaluating||w.value.size===0||!A.value,class:"run-btn px-6 py-2 rounded-sm text-xs flex items-center gap-2"},[M(p).isEvaluating?(s(),r("svg",Ao,[...t[19]||(t[19]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):(s(),r("svg",Fo,[...t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),O(" "+a(M(p).isEvaluating?"Running...":"Start Eval"),1)],8,jo)])])]),ue.value?(s(),r("div",Eo,[t[27]||(t[27]=e("svg",{class:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"none",stroke:"#FBBF24","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"})],-1)),e("div",null,[t[26]||(t[26]=e("span",{class:"text-xs font-display tracking-wider uppercase text-amber-400"},"Warning",-1)),e("p",Bo,[t[22]||(t[22]=O(" This suite contains irrelevance test cases but ",-1)),t[23]||(t[23]=e("strong",{class:"text-zinc-200"},'Tool Choice is set to "Required"',-1)),t[24]||(t[24]=O(". The model will be forced to call a tool, making all irrelevance cases fail artificially. Switch Tool Choice to ",-1)),e("button",{onClick:t[5]||(t[5]=l=>F.value="auto"),class:"text-amber-400 underline hover:text-amber-300 font-mono"},'"auto"'),t[25]||(t[25]=O(" to test abstention correctly. ",-1))])])])):x("",!0),w.value.size>0?(s(),te(Ne,{key:2,models:Z.value,"system-prompts":m.value,"onUpdate:systemPrompts":t[6]||(t[6]=l=>m.value=l)},null,8,["models","system-prompts"])):x("",!0),M(p).isEvaluating?(s(),r("div",Po,[e("div",Io,[e("div",Mo,[e("div",To,[t[28]||(t[28]=e("div",{class:"pulse-dot"},null,-1)),e("span",Ro,a(n.value),1)]),e("span",Oo,a(c.value),1)]),e("div",Vo,[e("div",{class:"progress-fill",style:h({width:d.value+"%"})},null,4)])]),_.value?(s(),r("div",Jo,[e("span",null,a(_.value),1)])):x("",!0)])):x("",!0),M(p).evalResults.length>0?(s(),r("div",No,[t[30]||(t[30]=e("div",{class:"px-5 py-3",style:{"border-bottom":"1px solid var(--border-subtle)"}},[e("span",{class:"section-label"},"Live Results")],-1)),e("div",Do,[e("table",Lo,[t[29]||(t[29]=e("thead",null,[e("tr",{style:{"border-bottom":"1px solid var(--border-subtle)"}},[e("th",{class:"px-5 py-2 text-left section-label"},"Model"),e("th",{class:"px-5 py-2 text-left section-label"},"Prompt"),e("th",{class:"px-5 py-2 text-left section-label"},"Expected"),e("th",{class:"px-5 py-2 text-left section-label"},"Actual"),e("th",{class:"px-5 py-2 text-right section-label"},"Hops"),e("th",{class:"px-5 py-2 text-right section-label"},"Score")])],-1)),e("tbody",null,[(s(!0),r(E,null,B(M(p).evalResults,(l,f)=>{var z;return s(),r("tr",{key:f,onClick:D=>Y(l.model_id),class:"cursor-pointer hover:bg-white/[0.02]"},[e("td",qo,a(l.model_name||l.model_id||""),1),e("td",Wo,[O(a(xe(l.prompt||l.test_case_id||"",40))+" ",1),l.should_call_tool===!1?(s(),r("span",Ho,"IRREL")):x("",!0)]),e("td",Ko,a(l.should_call_tool===!1?"(abstain)":fe(l.expected_tool)),1),e("td",{class:"px-5 py-2 text-xs font-mono",style:h({color:be(l)})},a(l.actual_tool||"(none)"),5),e("td",{class:"px-5 py-2 text-right text-xs font-mono text-zinc-500",title:l.tool_chain?l.tool_chain.map(D=>D.tool_name).join(" → "):""},a(l.multi_turn?((z=l.tool_chain)==null?void 0:z.length)||1:""),9,Zo),e("td",{class:"px-5 py-2 text-right text-xs font-mono font-bold",style:h({color:ye(l.overall_score*100)})},a((l.overall_score*100).toFixed(0))+"% ",5)],8,Uo)}),128))])])])])):x("",!0),M(p).evalSummaries.length>0?(s(),te(nt,{key:5,results:M(p).evalSummaries,onShowDetail:Y},null,8,["results"])):x("",!0),H.value?(s(),r("div",Go,[t[32]||(t[32]=e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"#FBBF24","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-xs text-zinc-400 font-body"},"Judge analysis complete")],-1)),oe(b,{to:{name:"JudgeHistory"},class:"text-[10px] font-display tracking-wider uppercase px-3 py-1 rounded-sm",style:{color:"#FBBF24",background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.2)"}},{default:$e(()=>[...t[31]||(t[31]=[O("View Report →",-1)])]),_:1})])):x("",!0),oe(eo,{visible:N.value,"model-id":Q.value,"all-results":M(p).evalResults,"eval-id":M(p).lastEvalId,onClose:t[7]||(t[7]=l=>N.value=!1)},null,8,["visible","model-id","all-results","eval-id"])])}}};export{ts as default};
