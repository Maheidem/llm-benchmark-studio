import{b as d,c as v,d as e,k as c,i,t as n,F as C,A as h,e as z,l as $,x as A,B as K,o as w,h as L,z as B,s as F,r as g}from"./index-DBNJ0RjU.js";import{u as S}from"./useProviderColors-B8221OgW.js";const T={class:"overflow-x-auto"},D={class:"w-full text-sm results-table"},N={key:0},V={style:{"border-bottom":"1px solid var(--border-subtle)"}},E={key:1},M={style:{"border-bottom":"1px solid var(--border-subtle)"}},P={key:0},R=["colspan"],j={key:1},O=["colspan"],U={class:"px-5 py-3 text-center font-mono text-zinc-500 text-xs"},q={class:"px-5 py-3 text-left text-zinc-200 text-sm"},G={class:"px-5 py-3 text-left text-xs"},H={class:"px-5 py-3 text-right font-mono text-sm text-zinc-400"},I={class:"px-5 py-3 text-right font-mono text-xs text-zinc-500"},J={class:"px-5 py-3 text-center font-mono text-xs text-zinc-500"},Q={class:"px-5 py-3 text-right font-mono text-xs text-zinc-600"},W={class:"px-5 py-3 text-center font-mono text-zinc-500 text-xs"},X={class:"px-5 py-3 text-left text-zinc-200 text-sm"},Y={class:"px-5 py-3 text-right font-mono text-sm text-zinc-400"},Z={class:"px-5 py-3 text-right font-mono text-sm text-zinc-400"},_={class:"px-5 py-3 text-center font-mono text-xs text-zinc-500"},tt={__name:"LeaderboardTable",props:{data:{type:Array,default:()=>[]},type:{type:String,default:"benchmark"},loading:{type:Boolean,default:!1},sortKey:{type:String,default:"avg_tps"},sortAsc:{type:Boolean,default:!1}},emits:["sort"],setup(o){const x=o,{getColor:p}=S(),y=K(()=>x.data.length?[...x.data].sort((a,t)=>{let s=a[x.sortKey],r=t[x.sortKey];return typeof s=="string"&&(s=(s||"").toLowerCase(),r=(r||"").toLowerCase()),s<r?x.sortAsc?-1:1:s>r?x.sortAsc?1:-1:0}):[]);function f(a){return a!=null&&a>0?"$"+a.toFixed(4):"N/A"}function k(a){return a?new Date(a).toLocaleDateString():"-"}const l={props:{active:Boolean,asc:Boolean},template:'<span v-if="active" class="text-[9px] ml-0.5 text-zinc-500">{{ asc ? "\\u25B2" : "\\u25BC" }}</span>'};return(a,t)=>(d(),v("div",T,[e("table",D,[o.type==="benchmark"?(d(),v("thead",N,[e("tr",V,[e("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:t[0]||(t[0]=s=>a.$emit("sort","avg_tps"))},"#"),e("th",{class:"px-5 py-3 text-left section-label cursor-pointer",onClick:t[1]||(t[1]=s=>a.$emit("sort","model"))},[t[14]||(t[14]=c(" Model ",-1)),i(l,{active:o.sortKey==="model",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-left section-label cursor-pointer",onClick:t[2]||(t[2]=s=>a.$emit("sort","provider"))},[t[15]||(t[15]=c(" Provider ",-1)),i(l,{active:o.sortKey==="provider",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[3]||(t[3]=s=>a.$emit("sort","avg_tps"))},[t[16]||(t[16]=c(" Avg TPS ",-1)),i(l,{active:o.sortKey==="avg_tps",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[4]||(t[4]=s=>a.$emit("sort","avg_ttft_ms"))},[t[17]||(t[17]=c(" Avg TTFT ",-1)),i(l,{active:o.sortKey==="avg_ttft_ms",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[5]||(t[5]=s=>a.$emit("sort","avg_cost"))},[t[18]||(t[18]=c(" Avg Cost ",-1)),i(l,{active:o.sortKey==="avg_cost",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:t[6]||(t[6]=s=>a.$emit("sort","total_runs"))},[t[19]||(t[19]=c(" Runs ",-1)),i(l,{active:o.sortKey==="total_runs",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[7]||(t[7]=s=>a.$emit("sort","last_run"))},[t[20]||(t[20]=c(" Last Run ",-1)),i(l,{active:o.sortKey==="last_run",asc:o.sortAsc},null,8,["active","asc"])])])])):(d(),v("thead",E,[e("tr",M,[e("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:t[8]||(t[8]=s=>a.$emit("sort","avg_overall_pct"))},"#"),e("th",{class:"px-5 py-3 text-left section-label cursor-pointer",onClick:t[9]||(t[9]=s=>a.$emit("sort","model"))},[t[21]||(t[21]=c(" Model ",-1)),i(l,{active:o.sortKey==="model",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[10]||(t[10]=s=>a.$emit("sort","avg_tool_pct"))},[t[22]||(t[22]=c(" Avg Tool % ",-1)),i(l,{active:o.sortKey==="avg_tool_pct",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[11]||(t[11]=s=>a.$emit("sort","avg_param_pct"))},[t[23]||(t[23]=c(" Avg Param % ",-1)),i(l,{active:o.sortKey==="avg_param_pct",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:t[12]||(t[12]=s=>a.$emit("sort","avg_overall_pct"))},[t[24]||(t[24]=c(" Avg Overall % ",-1)),i(l,{active:o.sortKey==="avg_overall_pct",asc:o.sortAsc},null,8,["active","asc"])]),e("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:t[13]||(t[13]=s=>a.$emit("sort","total_evals"))},[t[25]||(t[25]=c(" Evals ",-1)),i(l,{active:o.sortKey==="total_evals",asc:o.sortAsc},null,8,["active","asc"])])])])),e("tbody",null,[o.loading?(d(),v("tr",P,[e("td",{colspan:o.type==="benchmark"?8:6,class:"px-5 py-8 text-center text-zinc-600 text-sm"}," Loading... ",8,R)])):y.value.length?o.type==="benchmark"?(d(!0),v(C,{key:2},h(y.value,(s,r)=>(d(),v("tr",{key:s.model+s.provider,class:z({"rank-1":r===0}),style:{"border-top":"1px solid var(--border-subtle)"}},[e("td",U,n(r+1),1),e("td",q,n(s.model),1),e("td",G,[e("span",{class:"badge",style:$({background:A(p)(s.provider).bg,color:A(p)(s.provider).text,border:"1px solid "+A(p)(s.provider).border})},n(s.provider),5)]),e("td",{class:"px-5 py-3 text-right font-mono text-sm",style:$({color:r===0?"var(--lime)":"#A1A1AA"})},n(s.avg_tps.toFixed(1)),5),e("td",H,n(s.avg_ttft_ms.toFixed(0))+"ms",1),e("td",I,n(f(s.avg_cost)),1),e("td",J,n(s.total_runs),1),e("td",Q,n(k(s.last_run)),1)],2))),128)):(d(!0),v(C,{key:3},h(y.value,(s,r)=>(d(),v("tr",{key:s.model+s.provider,class:z({"rank-1":r===0}),style:{"border-top":"1px solid var(--border-subtle)"}},[e("td",W,n(r+1),1),e("td",X,n(s.model),1),e("td",Y,n((s.avg_tool_pct||0).toFixed(1))+"%",1),e("td",Z,n((s.avg_param_pct||0).toFixed(1))+"%",1),e("td",{class:"px-5 py-3 text-right font-mono text-sm",style:$({color:r===0?"var(--lime)":"#A1A1AA"})},n((s.avg_overall_pct||0).toFixed(1))+"%",5),e("td",_,n(s.total_evals||0),1)],2))),128)):(d(),v("tr",j,[e("td",{colspan:o.type==="benchmark"?8:6,class:"px-5 py-8 text-center text-zinc-600 text-sm"}," No data yet. Run some "+n(o.type==="benchmark"?"benchmarks":"evaluations")+" first! ",9,O)]))])])]))}},et={class:"flex items-center gap-3 mb-5 flex-wrap"},st={class:"flex gap-1"},ot=["onClick"],nt={__name:"LeaderboardView",setup(o){const x=[{value:"benchmark",label:"Benchmark"},{value:"tool_eval",label:"Tool Eval"}],p=g("benchmark"),y=g("all"),f=g([]),k=g(!1),l=g("avg_tps"),a=g(!1);function t(u){p.value=u,l.value=u==="benchmark"?"avg_tps":"avg_overall_pct",a.value=!1,r()}function s(u){l.value===u?a.value=!a.value:(l.value=u,a.value=!1)}async function r(){k.value=!0;try{const u=await F(`/api/analytics/leaderboard?type=${p.value}&period=${y.value}`);if(!u.ok)throw new Error("Failed to load");const m=await u.json();f.value=m.models||[]}catch{f.value=[]}finally{k.value=!1}}return w(r),(u,m)=>(d(),v("div",null,[e("div",et,[e("div",st,[(d(),v(C,null,h(x,b=>e("button",{key:b.value,class:z(["text-[11px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm transition-all",p.value===b.value?"text-[var(--lime)] border border-[rgba(191,255,0,0.3)] bg-[var(--lime-dim)]":"text-zinc-500 border border-[var(--border-subtle)] bg-transparent hover:text-zinc-300"]),onClick:at=>t(b.value)},n(b.label),11,ot)),64))]),L(e("select",{"onUpdate:modelValue":m[0]||(m[0]=b=>y.value=b),class:"text-xs font-mono px-2 py-1 rounded-sm bg-[rgba(255,255,255,0.02)] border border-[var(--border-subtle)] text-zinc-300 outline-none",onChange:r},[...m[1]||(m[1]=[e("option",{value:"7d"},"Last 7 days",-1),e("option",{value:"30d"},"Last 30 days",-1),e("option",{value:"90d"},"Last 90 days",-1),e("option",{value:"all"},"All time",-1)])],544),[[B,y.value]])]),i(tt,{data:f.value,type:p.value,loading:k.value,"sort-key":l.value,"sort-asc":a.value,onSort:s},null,8,["data","type","loading","sort-key","sort-asc"])]))}};export{nt as default};
