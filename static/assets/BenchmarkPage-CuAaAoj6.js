import{u as rt}from"./config-D3Ijy1w7.js";import{u as K}from"./benchmark-wJZoOG-y.js";import{b as l,c as i,d as t,h as Q,v as lt,F as S,A as E,l as w,x as d,D as A,t as a,g as it,e as I,E as q,f as $,r as j,B as k,k as F,G as at,T as dt,i as z,z as ct,y as W,H as Z,o as ut,I as pt,J as mt,K as xt,L as vt}from"./index-B7jY00Un.js";import{C as D,a as X,L as U,B as Y,b as tt,P as V,p as H,c as J,i as et,d as st,e as ot,S as ft}from"./index-XNN_M64n.js";import"./useActiveSession-DdoXJmDo.js";import"./useDirectBenchmark-CSUnU78E.js";const bt={class:"flex items-center gap-4 mb-4"},gt={class:"flex-1 relative"},yt={class:"flex flex-col gap-2"},_t=["onClick"],kt={class:"provider-group-count"},ht={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 pl-3"},$t=["onClick"],Ct={class:"flex-1 min-w-0"},Tt={class:"flex items-center gap-2"},St={class:"text-[13px] font-medium text-zinc-200 truncate font-body"},Bt={key:0,class:"text-[9px] font-mono px-1.5 py-0.5 rounded-sm",style:{background:"rgba(255,255,255,0.04)",color:"#85858F"}},wt={key:0,class:"text-center py-8 text-zinc-600 text-sm"},zt={__name:"ModelGrid",props:{providers:{type:Array,required:!0},selectedModels:{type:Set,required:!0}},emits:["toggle","selectAll","selectNone","toggleProvider"],setup(f){const o=f,n=j(""),_=k(()=>{const b=n.value.toLowerCase().trim();return o.providers.map(g=>{const x=g.models.map(c=>({...c,compoundKey:(g.provider_key||g.name)+"::"+c.model_id})),u=b?x.filter(c=>c.display_name.toLowerCase().includes(b)||c.model_id.toLowerCase().includes(b)||g.name.toLowerCase().includes(b)):x;return{name:g.name,provider_key:g.provider_key,models:u}}).filter(g=>g.models.length>0)});function m(b){return o.selectedModels.has(b)}return(b,g)=>(l(),i("div",null,[t("div",bt,[t("div",gt,[Q(t("input",{"onUpdate:modelValue":g[0]||(g[0]=x=>n.value=x),type:"text",placeholder:"Search models...",class:"w-full px-3 py-2 text-sm rounded-sm prompt-input"},null,512),[[lt,n.value]])]),t("button",{class:"text-[11px] font-display tracking-wider uppercase px-3 py-1.5 rounded-sm transition-colors",style:{color:"var(--lime)",background:"var(--lime-dim)",border:"1px solid rgba(191,255,0,0.3)"},onClick:g[1]||(g[1]=x=>b.$emit("selectAll"))}," Select All "),t("button",{class:"text-[11px] font-display tracking-wider uppercase text-zinc-500 px-3 py-1.5 rounded-sm transition-colors hover:text-zinc-300",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"},onClick:g[2]||(g[2]=x=>b.$emit("selectNone"))}," Select None ")]),t("div",yt,[(l(!0),i(S,null,E(_.value,x=>(l(),i("div",{key:x.name,class:"provider-group",style:w({borderColor:d(A)(x.name).border})},[t("div",{class:"provider-group-header",onClick:u=>b.$emit("toggleProvider",x.name)},[t("div",{class:"provider-group-dot",style:w({background:d(A)(x.name).text})},null,4),t("span",{class:"provider-group-label",style:w({color:d(A)(x.name).text})},a(x.name),5),t("span",kt,a(x.models.length)+" model"+a(x.models.length>1?"s":""),1)],8,_t),t("div",ht,[(l(!0),i(S,null,E(x.models,u=>(l(),i("div",{key:u.compoundKey,class:I(["model-card rounded-sm px-4 py-3 flex items-center gap-3",{selected:m(u.compoundKey)}]),onClick:it(c=>b.$emit("toggle",u.compoundKey),["stop"])},[g[3]||(g[3]=t("div",{class:"check-dot flex-shrink-0"},null,-1)),t("div",Ct,[t("div",Tt,[t("div",St,a(u.display_name),1),u.context_window?(l(),i("span",Bt,a(d(q)(u.context_window)),1)):$("",!0)])])],10,$t))),128))])],4))),128))]),_.value.length===0?(l(),i("div",wt," No models match your search. ")):$("",!0)]))}},Ft=["disabled"],At={__name:"RunButton",props:{label:{type:String,default:"RUN BENCHMARK"},disabled:Boolean,running:Boolean},emits:["click"],setup(f){return(o,n)=>(l(),i("button",{class:"run-btn px-6 py-3 rounded flex items-center gap-2 text-sm",disabled:f.disabled,onClick:n[0]||(n[0]=_=>o.$emit("click"))},[f.running?(l(),i(S,{key:0},[n[1]||(n[1]=t("svg",{class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)),n[2]||(n[2]=F(" RUNNING... ",-1))],64)):(l(),i(S,{key:1},[n[3]||(n[3]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2.5",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),at(o.$slots,"default",{},()=>[F(a(f.label),1)])],64))],8,Ft))}},Mt={class:"flex flex-wrap gap-2"},Pt=["onClick"],Rt={key:0,class:"mt-2"},Ot={__name:"TierChips",props:{selectedTiers:{type:Set,required:!0},tierOptions:{type:Array,default:()=>dt}},emits:["toggle"],setup(f){const o=f;function n(m){return o.selectedTiers.has(m)}const _=k(()=>o.selectedTiers.size>1||o.selectedTiers.size===1&&!o.selectedTiers.has(0));return(m,b)=>(l(),i(S,null,[t("div",Mt,[(l(!0),i(S,null,E(f.tierOptions,g=>(l(),i("button",{key:g.value,class:I(["text-[11px] font-mono px-3 py-1.5 rounded-sm transition-all",n(g.value)?"":"text-zinc-600 hover:text-zinc-400"]),style:w(n(g.value)?"background:var(--lime-dim);color:var(--lime);border:1px solid rgba(191,255,0,0.3)":"background:rgba(255,255,255,0.02);border:1px solid var(--border-subtle)"),onClick:x=>m.$emit("toggle",g.value)},a(g.label),15,Pt))),128))]),_.value?(l(),i("div",Rt,[...b[0]||(b[0]=[t("span",{class:"text-[10px] font-mono px-2 py-0.5 rounded-sm",style:{background:"rgba(56,189,248,0.1)",color:"#38BDF8",border:"1px solid rgba(56,189,248,0.3)"}}," STRESS TEST MODE ",-1)])])):$("",!0)],64))}},Et={class:"card rounded-lg p-5 flex flex-col gap-5"},Nt={class:"flex items-center justify-between mb-2"},Lt={class:"text-xs font-mono text-zinc-400"},jt=["value"],It={class:"flex items-center justify-between mb-2"},Dt={class:"text-xs font-mono text-zinc-400"},Kt=["value"],qt=["value"],Wt={class:"flex items-center justify-between mb-2"},Ut={class:"text-xs font-mono text-zinc-400"},Vt=["value"],Ht={class:"flex items-center justify-between mb-2"},Jt=["value"],Gt=["value"],Qt={key:0,class:"text-[10px] font-mono text-amber-400"},Zt={key:0,class:"mt-3 flex flex-col gap-4 pl-1",style:{"border-left":"2px solid var(--border-subtle)"}},Xt={class:"ml-3"},Yt={class:"flex items-center justify-between mb-1"},te={class:"text-xs font-mono text-zinc-400"},ee=["value"],se={class:"flex justify-between mt-0.5"},oe={class:"ml-3"},ne={class:"flex items-center justify-between mb-1"},re={class:"text-xs font-mono text-zinc-400"},le=["value"],ie={class:"flex justify-between mt-0.5"},ae={class:"ml-3"},de={class:"flex items-center justify-between mb-1"},ce={class:"text-xs font-mono text-zinc-400"},ue=["value"],pe={class:"flex justify-between mt-0.5"},me={class:"ml-3"},xe={class:"flex items-center gap-2"},ve=["value"],fe={class:"ml-3"},be=["value"],ge={key:0,class:"text-[10px] text-red-400 mt-1"},ye={__name:"BenchmarkConfig",setup(f){const o=K(),n=j(""),_=j(!1),m=j(""),b=k(()=>Object.entries(o.providerParams).filter(([c,e])=>e!=null&&c!=="passthrough").length+(o.providerParams.passthrough&&Object.keys(o.providerParams.passthrough).length>0?1:0)),g=k(()=>{const c=o.providerParams.passthrough;return c&&Object.keys(c).length>0?JSON.stringify(c):""});function x(c){if(m.value="",!c||!c.trim()){delete o.providerParams.passthrough;return}try{const e=JSON.parse(c);if(typeof e!="object"||Array.isArray(e)){m.value="Must be a JSON object";return}o.providerParams.passthrough=e}catch{m.value="Invalid JSON"}}function u(){n.value&&o.applyPromptTemplate(n.value)}return(c,e)=>(l(),i("div",Et,[e[37]||(e[37]=t("div",{class:"section-label mb-1"},"Configuration",-1)),t("div",null,[t("div",Nt,[e[16]||(e[16]=t("label",{class:"text-xs text-zinc-500 font-body"},"Max Tokens",-1)),t("span",Lt,a(d(o).maxTokens),1)]),t("input",{type:"range",value:d(o).maxTokens,min:"64",max:"4096",step:"64",class:"w-full",onInput:e[0]||(e[0]=s=>d(o).maxTokens=parseInt(s.target.value))},null,40,jt)]),t("div",null,[t("div",It,[e[17]||(e[17]=t("label",{class:"text-xs text-zinc-500 font-body"},"Temperature",-1)),t("span",Dt,a(d(o).temperature.toFixed(1)),1)]),t("input",{type:"range",value:d(o).temperature,min:"0",max:"2",step:"0.1",class:"w-full",onInput:e[1]||(e[1]=s=>d(o).temperature=parseFloat(s.target.value))},null,40,Kt)]),t("div",null,[e[18]||(e[18]=t("div",{class:"flex items-center justify-between mb-2"},[t("label",{class:"text-xs text-zinc-500 font-body"},"Runs per model")],-1)),t("input",{type:"number",value:d(o).runs,min:"1",max:"10",class:"w-20 px-3 py-1.5 text-sm font-mono rounded-sm prompt-input",onInput:e[2]||(e[2]=s=>d(o).runs=Math.max(1,Math.min(10,parseInt(s.target.value)||1)))},null,40,qt)]),t("div",null,[t("div",Wt,[e[19]||(e[19]=t("label",{class:"text-xs text-zinc-500 font-body"},"Timeout (seconds)",-1)),t("span",Ut,a(d(o).timeout)+"s",1)]),t("input",{type:"range",value:d(o).timeout,min:"30",max:"600",step:"30",class:"w-full",onInput:e[3]||(e[3]=s=>d(o).timeout=parseInt(s.target.value))},null,40,Vt)]),t("div",null,[e[20]||(e[20]=t("label",{class:"text-xs text-zinc-500 font-body block mb-2"},"Context Tiers",-1)),z(Ot,{"selected-tiers":d(o).contextTiers,onToggle:d(o).toggleTier},null,8,["selected-tiers","onToggle"])]),t("div",null,[t("div",Ht,[e[22]||(e[22]=t("label",{class:"text-xs text-zinc-500 font-body"},"Prompt",-1)),Q(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.value=s),onChange:u,class:"text-xs font-mono px-3 py-1.5 rounded-sm cursor-pointer",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)",color:"#A1A1AA",outline:"none","max-width":"220px"}},[e[21]||(e[21]=t("option",{value:""},"Custom",-1)),(l(!0),i(S,null,E(d(o).promptTemplates,s=>(l(),i("option",{key:s.key,value:s.key},a(s.label),9,Jt))),128))],544),[[ct,n.value]])]),t("textarea",{value:d(o).prompt,rows:"3",class:"w-full px-3 py-2 rounded-sm prompt-input text-sm",placeholder:"Enter prompt for benchmark...",onInput:e[5]||(e[5]=s=>d(o).prompt=s.target.value)},null,40,Gt)]),t("div",null,[t("button",{onClick:e[6]||(e[6]=s=>_.value=!_.value),class:"flex items-center gap-1.5 text-xs text-zinc-500 font-body hover:text-zinc-300 transition-colors"},[(l(),i("svg",{class:I(["w-3 h-3 transition-transform",_.value?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),e[24]||(e[24]=F(" Advanced Parameters ",-1)),b.value>0?(l(),i("span",Qt,"("+a(b.value)+" set)",1)):$("",!0)]),_.value?(l(),i("div",Zt,[e[36]||(e[36]=t("p",{class:"text-[10px] text-zinc-600 font-body ml-3"}," Tier 2 params — validated per provider. Unsupported params are auto-dropped. ",-1)),t("div",Xt,[t("div",Yt,[e[25]||(e[25]=t("label",{class:"text-xs text-zinc-500 font-body"},"top_p",-1)),t("span",te,a(d(o).providerParams.top_p??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.top_p??1,min:"0",max:"1",step:"0.05",class:"w-full",onInput:e[7]||(e[7]=s=>d(o).providerParams.top_p=parseFloat(s.target.value))},null,40,ee),t("div",se,[e[26]||(e[26]=t("span",{class:"text-[9px] text-zinc-700"},"0",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[8]||(e[8]=s=>delete d(o).providerParams.top_p)},"reset"),e[27]||(e[27]=t("span",{class:"text-[9px] text-zinc-700"},"1",-1))])]),t("div",oe,[t("div",ne,[e[28]||(e[28]=t("label",{class:"text-xs text-zinc-500 font-body"},"frequency_penalty",-1)),t("span",re,a(d(o).providerParams.frequency_penalty??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.frequency_penalty??0,min:"-2",max:"2",step:"0.1",class:"w-full",onInput:e[9]||(e[9]=s=>d(o).providerParams.frequency_penalty=parseFloat(s.target.value))},null,40,le),t("div",ie,[e[29]||(e[29]=t("span",{class:"text-[9px] text-zinc-700"},"-2",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[10]||(e[10]=s=>delete d(o).providerParams.frequency_penalty)},"reset"),e[30]||(e[30]=t("span",{class:"text-[9px] text-zinc-700"},"2",-1))])]),t("div",ae,[t("div",de,[e[31]||(e[31]=t("label",{class:"text-xs text-zinc-500 font-body"},"presence_penalty",-1)),t("span",ce,a(d(o).providerParams.presence_penalty??"—"),1)]),t("input",{type:"range",value:d(o).providerParams.presence_penalty??0,min:"-2",max:"2",step:"0.1",class:"w-full",onInput:e[11]||(e[11]=s=>d(o).providerParams.presence_penalty=parseFloat(s.target.value))},null,40,ue),t("div",pe,[e[32]||(e[32]=t("span",{class:"text-[9px] text-zinc-700"},"-2",-1)),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[12]||(e[12]=s=>delete d(o).providerParams.presence_penalty)},"reset"),e[33]||(e[33]=t("span",{class:"text-[9px] text-zinc-700"},"2",-1))])]),t("div",me,[e[34]||(e[34]=t("div",{class:"flex items-center justify-between mb-1"},[t("label",{class:"text-xs text-zinc-500 font-body"},"seed")],-1)),t("div",xe,[t("input",{type:"number",value:d(o).providerParams.seed??"",min:"0",class:"w-28 px-3 py-1.5 text-sm font-mono rounded-sm prompt-input",placeholder:"—",onInput:e[13]||(e[13]=s=>s.target.value?d(o).providerParams.seed=parseInt(s.target.value):delete d(o).providerParams.seed)},null,40,ve),t("button",{class:"text-[9px] text-zinc-600 hover:text-zinc-400",onClick:e[14]||(e[14]=s=>delete d(o).providerParams.seed)},"reset")])]),t("div",fe,[e[35]||(e[35]=t("div",{class:"flex items-center justify-between mb-1"},[t("label",{class:"text-xs text-zinc-500 font-body"},"Custom passthrough (JSON)")],-1)),t("textarea",{value:g.value,rows:"2",class:"w-full px-3 py-2 rounded-sm prompt-input text-xs font-mono",placeholder:'e.g. {"repetition_penalty": 1.2}',onBlur:e[15]||(e[15]=s=>x(s.target.value))},null,40,be),m.value?(l(),i("p",ge,a(m.value),1)):$("",!0)])])):$("",!0)])]))}},_e={class:"progress-track rounded-full overflow-hidden"},ke={key:0,class:"text-[10px] font-mono text-zinc-500 mt-1 text-right"},he={__name:"ProgressBar",props:{percent:{type:Number,default:0},eta:{type:String,default:""}},setup(f){return(o,n)=>(l(),i("div",null,[t("div",_e,[t("div",{class:"progress-fill",style:w({width:f.percent+"%"})},null,4)]),f.eta?(l(),i("div",ke,a(f.eta),1)):$("",!0)]))}},$e={class:"flex flex-col gap-3"},Ce=["title"],Te={class:"ppr-mid"},Se={class:"ppr-status"},Be={class:"ppr-track"},we={class:"ppr-count"},ze={key:0,class:"mt-3 p-3 rounded-sm flex flex-col gap-1.5",style:{background:"rgba(255,59,92,0.06)",border:"1px solid rgba(255,59,92,0.2)"}},Fe={__name:"ProviderProgress",props:{providerProgress:{type:Object,required:!0}},setup(f){const o=f;function n(u){return u.completedSteps>=u.totalSteps}function _(u){return u.errors.length>0}function m(u){return u.totalSteps>0?u.completedSteps/u.totalSteps*100:0}function b(u,c){return _(u)?"#FBBF24":n(u)?"#4ADE80":A(c).bar}function g(u){if(!u.currentContextTokens||u.currentContextTokens===0)return"";const c=u.currentContextTokens;return c>=1e3?` @ ${c/1e3}K ctx`:` @ ${c} ctx`}const x=k(()=>{const u=[];for(const[c,e]of Object.entries(o.providerProgress))for(const s of e.errors)u.push({provider:c,...s});return u});return(u,c)=>(l(),i("div",$e,[(l(!0),i(S,null,E(f.providerProgress,(e,s)=>(l(),i("div",{key:s,class:"provider-progress-row"},[t("div",{class:"ppr-name",style:w({color:d(A)(s).text}),title:s},a(s),13,Ce),t("div",Te,[t("div",Se,[n(e)&&!_(e)?(l(),i(S,{key:0},[c[0]||(c[0]=t("span",{style:{color:"#4ADE80"}},"✓",-1)),c[1]||(c[1]=F(" Complete ",-1))],64)):n(e)&&_(e)?(l(),i(S,{key:1},[c[2]||(c[2]=t("span",{style:{color:"#FBBF24"}},"⚠",-1)),c[3]||(c[3]=F(" Done with errors ",-1))],64)):e.status==="running"&&e.currentModel?(l(),i(S,{key:2},[F(a(e.currentModel)+a(g(e))+" (run "+a(e.currentRun)+"/"+a(e.totalRuns)+") ",1)],64)):(l(),i(S,{key:3},[F(" Waiting... ")],64))]),t("div",Be,[t("div",{class:I(["ppr-fill",n(e)?"done":""]),style:w({width:m(e)+"%",backgroundColor:b(e,s),boxShadow:n(e)?"none":"0 0 8px "+d(A)(s).bar+"44"})},null,6)])]),t("div",we,a(e.completedSteps)+"/"+a(e.totalSteps),1)]))),128)),x.value.length>0?(l(),i("div",ze,[c[4]||(c[4]=t("div",{class:"text-[11px] font-display tracking-wider uppercase",style:{color:"#FB7185","margin-bottom":"2px"}}," Errors ",-1)),(l(!0),i(S,null,E(x.value,(e,s)=>(l(),i("div",{key:s,class:"text-[11px] font-body",style:{color:"#FB7185"}},a(e.provider)+" / "+a(e.model)+": "+a(e.message),1))),128))])):$("",!0)]))}},Ae={class:"card rounded-lg p-5"},Me={class:"flex items-center justify-between mb-4"},Pe={class:"flex items-center gap-3"},Re={class:"text-sm text-zinc-300 font-body"},Oe={class:"text-xs font-mono text-zinc-500"},Ee={key:0,class:"ml-2 text-zinc-600"},Ne={class:"mt-5"},Le={key:0,class:"mt-4"},je={class:"mt-4 flex justify-end"},Ie={__name:"BenchmarkProgress",setup(f){const o=K(),n=k(()=>{const{completed:_,total:m}=o.overallProgress;return m>0?_/m*100:0});return(_,m)=>(l(),i("div",Ae,[t("div",Me,[t("div",Pe,[m[1]||(m[1]=t("div",{class:"pulse-dot"},null,-1)),t("span",Re,a(d(o).overallLabel||"Running..."),1)]),t("span",Oe,[F(a(d(o).overallProgress.completed)+"/"+a(d(o).overallProgress.total)+" ",1),d(o).eta?(l(),i("span",Ee,a(d(o).eta),1)):$("",!0)])]),z(he,{percent:n.value,eta:d(o).eta},null,8,["percent","eta"]),t("div",Ne,[z(Fe,{"provider-progress":d(o).providerProgress},null,8,["provider-progress"])]),d(o).skippedModels.length>0?(l(),i("div",Le,[(l(!0),i(S,null,E(d(o).skippedModels,(b,g)=>(l(),i("div",{key:g,class:"skipped-line"}," ⏭ "+a(b.model)+": skipped ("+a(b.reason)+") ",1))),128))])):$("",!0),t("div",je,[t("button",{class:"text-xs font-display tracking-wider uppercase px-4 py-2 rounded-sm transition-colors",style:{color:"var(--coral)",background:"rgba(255,59,92,0.08)",border:"1px solid rgba(255,59,92,0.2)"},onClick:m[0]||(m[0]=b=>d(o).cancelBenchmark())}," Cancel ")])]))}};function G(){return D.defaults.color="#8B8B95",D.defaults.borderColor="#1f1f23",D.defaults.font.family="'Outfit', sans-serif",{gridColor:"rgba(255,255,255,0.03)",tooltipStyle:{backgroundColor:"#1c1c20",borderColor:"#27272A",borderWidth:1,titleFont:{family:"'Outfit'",weight:"500",size:13},bodyFont:{family:"'Space Mono'",size:12},titleColor:"#E4E4E7",bodyColor:"#A1A1AA",padding:12,cornerRadius:2},axisLabelFont:{family:"'Chakra Petch'",size:10,weight:"600"},tickFont:{family:"'Space Mono'",size:11}}}const De={class:"card p-4 rounded-lg"},Ke={class:"section-label mb-3"},qe={__name:"ThroughputChart",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){D.register(X,U,Y,tt,V,H,J,et);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:m,tickFont:b}=G(),g=k(()=>o.isStressMode?st:ot),x=k(()=>o.isStressMode?320:Math.max(200,o.results.length*36)),u=k(()=>{const e=o.results;if(!o.isStressMode)return{labels:e.map(v=>v.model),datasets:[{label:"Tokens/sec",data:e.map(v=>v.tokens_per_second),backgroundColor:e.map(v=>A(v.provider).bar+"CC"),borderColor:e.map(v=>A(v.provider).bar),borderWidth:0,borderRadius:2,barPercentage:.55}]};const s=[...new Set(e.map(v=>v.context_tokens))].sort((v,h)=>v-h),r=[...new Set(e.map(v=>`${v.model_id}::${v.provider}`))],T=s.map(v=>v===0?"0":v>=1e3?v/1e3+"K":String(v)),B=r.map(v=>{var O,L;const h=e.filter(M=>`${M.model_id}::${M.provider}`===v),R=((O=h[0])==null?void 0:O.model)||v,y=((L=h[0])==null?void 0:L.provider)||"",p=A(y),N=s.map(M=>{const P=h.find(C=>C.context_tokens===M);return P&&P.success?P.tokens_per_second:null});return{label:R,data:N,borderColor:p.bar,backgroundColor:p.bar+"33",borderWidth:2,pointRadius:4,pointBackgroundColor:p.bar,pointBorderColor:"#09090B",pointBorderWidth:2,tension:.3,spanGaps:!1}});return{labels:T,datasets:B}}),c=k(()=>{const e={responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"}};return o.isStressMode?{...e,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:12,boxHeight:2,padding:16}},tooltip:{..._,callbacks:{title:s=>`Context: ${s[0].label} tokens`,label:s=>s.parsed.y!==null?` ${s.dataset.label}: ${s.parsed.y.toFixed(1)} tok/s`:` ${s.dataset.label}: N/A`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"CONTEXT SIZE (TOKENS)",color:"#63636B",font:m,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:m,padding:{right:12}}}}}:{...e,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{..._,callbacks:{label:s=>` ${s.parsed.x.toFixed(1)} tok/s`,afterLabel:s=>{const r=o.results[s.dataIndex];return r?` TTFT: ${r.ttft_ms.toFixed(0)}ms  |  Tokens: ${r.output_tokens.toFixed(0)}`:""}}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:m,padding:{top:12}}},y:{grid:{display:!1,drawBorder:!1},ticks:{color:"#A1A1AA",font:{family:"'Outfit'",size:12,weight:"500"}}}}}});return(e,s)=>(l(),i("div",De,[t("div",Ke,a(f.isStressMode?"Throughput vs Context Size":"Throughput (Tokens/sec)"),1),t("div",{style:w({height:x.value+"px"})},[(l(),W(Z(g.value),{data:u.value,options:c.value},null,8,["data","options"]))],4)]))}},We={class:"card p-4 rounded-lg"},Ue={class:"section-label mb-3"},Ve={__name:"TTFTChart",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){D.register(X,U,Y,tt,V,H,J,et);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:m,tickFont:b}=G(),g=k(()=>o.isStressMode?st:ot),x=k(()=>{if(o.isStressMode)return 320;const e=o.results.filter(s=>s.success);return Math.max(200,e.length*36)}),u=k(()=>{const e=o.results;if(!o.isStressMode){const v=[...e].filter(h=>h.success).sort((h,R)=>h.ttft_ms-R.ttft_ms);return{labels:v.map(h=>h.model),datasets:[{label:"TTFT (ms)",data:v.map(h=>h.ttft_ms),backgroundColor:v.map(h=>A(h.provider).bar+"CC"),borderWidth:0,borderRadius:2,barPercentage:.55}]}}const s=[...new Set(e.map(v=>v.context_tokens))].sort((v,h)=>v-h),r=[...new Set(e.map(v=>`${v.model_id}::${v.provider}`))],T=s.map(v=>v===0?"0":v>=1e3?v/1e3+"K":String(v)),B=r.map(v=>{var O,L;const h=e.filter(M=>`${M.model_id}::${M.provider}`===v),R=((O=h[0])==null?void 0:O.model)||v,y=((L=h[0])==null?void 0:L.provider)||"",p=A(y),N=s.map(M=>{const P=h.find(C=>C.context_tokens===M);return P&&P.success?P.ttft_ms:null});return{label:R,data:N,borderColor:p.bar,backgroundColor:p.bar+"33",borderWidth:2,pointRadius:4,pointBackgroundColor:p.bar,pointBorderColor:"#09090B",pointBorderWidth:2,tension:.3,spanGaps:!1}});return{labels:T,datasets:B}}),c=k(()=>{const e={responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"}};return o.isStressMode?{...e,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:12,boxHeight:2,padding:16}},tooltip:{..._,callbacks:{title:s=>`Context: ${s[0].label} tokens`,label:s=>s.parsed.y!==null?` ${s.dataset.label}: ${s.parsed.y.toFixed(0)}ms`:` ${s.dataset.label}: N/A`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"CONTEXT SIZE (TOKENS)",color:"#63636B",font:m,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TIME TO FIRST TOKEN (MS)",color:"#63636B",font:m,padding:{right:12}}}}}:{...e,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{..._,callbacks:{label:s=>` ${s.parsed.x.toFixed(0)} ms`}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TIME TO FIRST TOKEN (MS)",color:"#63636B",font:m,padding:{top:12}}},y:{grid:{display:!1,drawBorder:!1},ticks:{color:"#A1A1AA",font:{family:"'Outfit'",size:12,weight:"500"}}}}}});return(e,s)=>(l(),i("div",We,[t("div",Ue,a(f.isStressMode?"Latency (TTFT) vs Context Size":"Time to First Token (TTFT)"),1),t("div",{style:w({height:x.value+"px"})},[(l(),W(Z(g.value),{data:u.value,options:c.value},null,8,["data","options"]))],4)]))}},He={key:0,class:"card p-4 rounded-lg"},Je={style:{height:"320px"}},Ge={__name:"ScatterChart",props:{results:{type:Array,required:!0}},setup(f){D.register(U,V,H,J);const o=f,{gridColor:n,tooltipStyle:_,axisLabelFont:m,tickFont:b}=G(),g=k(()=>o.results.filter(e=>e.success)),x=k(()=>g.value.length>=2),u=k(()=>{const e=g.value;if(e.length<2)return{datasets:[]};const s=e.map(h=>h.output_tokens),r=Math.min(...s),T=Math.max(...s),B=h=>T===r?10:5+(h-r)/(T-r)*15;return{datasets:e.map(h=>{const R=A(h.provider);return{label:h.model,data:[{x:h.tokens_per_second,y:h.ttft_ms}],backgroundColor:R.bar,borderColor:R.bar,pointRadius:B(h.output_tokens),pointHoverRadius:B(h.output_tokens)+3}})}}),c=k(()=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeOutQuart"},plugins:{legend:{display:!0,position:"top",labels:{color:"#A1A1AA",font:{family:"'Outfit'",size:11},boxWidth:8,boxHeight:8,padding:12,usePointStyle:!0}},tooltip:{..._,callbacks:{title:e=>e[0].dataset.label,label:e=>[` Tok/s: ${e.parsed.x.toFixed(1)}`,` TTFT: ${e.parsed.y.toFixed(0)}ms`]}}},scales:{x:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TOKENS / SECOND",color:"#63636B",font:m,padding:{top:12}}},y:{grid:{color:n,drawBorder:!1},ticks:{color:"#8B8B95",font:b},title:{display:!0,text:"TTFT (MS)",color:"#63636B",font:m,padding:{right:12}}}}}));return(e,s)=>x.value?(l(),i("div",He,[s[0]||(s[0]=t("div",{class:"section-label mb-3"},"Speed vs Latency",-1)),t("div",Je,[z(d(ft),{data:u.value,options:c.value},null,8,["data","options"])])])):$("",!0)}},Qe={__name:"ProviderBadge",props:{name:String,providerKey:String},setup(f){const o=f,n=k(()=>A(o.providerKey||o.name));return(_,m)=>(l(),i("span",{class:"badge",style:w({background:n.value.bg,border:"1px solid "+n.value.border,color:n.value.text})},a(f.name),5))}},Ze={class:"card rounded-lg overflow-hidden"},Xe={class:"overflow-x-auto"},Ye={class:"w-full results-table"},ts={class:"text-left",style:{"border-bottom":"1px solid var(--border-subtle)"}},es={class:"px-5 py-3.5 text-center"},ss={key:1,class:"text-zinc-600"},os={class:"px-5 py-3.5"},ns={class:"px-5 py-3.5 text-zinc-200 font-medium font-body text-[13px]"},rs=["onClick"],ls={key:0,class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},is={key:1,class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-600"},as={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},ds={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},cs={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},us={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},ps={class:"px-5 py-3.5 text-center"},ms={key:0,class:"text-green-500 text-xs font-mono"},xs={key:1,class:"text-amber-500 text-xs font-mono"},vs=["title"],fs={class:"px-5 py-3.5 text-right font-mono text-sm text-zinc-500"},bs={__name:"ResultsTable",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){const o=["P1","P2","P3"],n=f,_=j("tokens_per_second"),m=j(!1),b=k(()=>n.results.some(e=>e.runs>1)),g=k(()=>{if(_.value==="rank")return n.results;const e=_.value;return[...n.results].sort((s,r)=>{let T=s[e]??0,B=r[e]??0;return typeof T=="string"&&(T=T.toLowerCase()),typeof B=="string"&&(B=B.toLowerCase()),m.value?T>B?1:T<B?-1:0:T<B?1:T>B?-1:0})});function x(e){_.value===e?m.value=!m.value:(_.value=e,m.value=e==="ttft_ms"||e==="total_time_s"||e==="avg_cost")}function u(e){return q(e).replace(" ctx","")}function c(e){navigator.clipboard.writeText(e).catch(()=>{})}return(e,s)=>(l(),i("div",Ze,[t("div",Xe,[t("table",Ye,[t("thead",null,[t("tr",ts,[t("th",{class:"px-5 py-3 text-center section-label cursor-pointer",onClick:s[0]||(s[0]=r=>x("rank"))}," Rank "),t("th",{class:"px-5 py-3 section-label cursor-pointer",onClick:s[1]||(s[1]=r=>x("provider"))}," Provider "),t("th",{class:"px-5 py-3 section-label cursor-pointer",onClick:s[2]||(s[2]=r=>x("model"))}," Model "),f.isStressMode?(l(),i("th",{key:0,class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[3]||(s[3]=r=>x("context_tokens"))}," Context ")):$("",!0),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[4]||(s[4]=r=>x("tokens_per_second"))}," Tok/s "),b.value?(l(),i("th",{key:1,class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[5]||(s[5]=r=>x("std_dev_tps"))}," Std Dev ")):$("",!0),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[6]||(s[6]=r=>x("ttft_ms"))}," TTFT "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[7]||(s[7]=r=>x("input_tokens_per_second"))}," Input Tok/s "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[8]||(s[8]=r=>x("total_time_s"))}," Duration "),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[9]||(s[9]=r=>x("output_tokens"))}," Tokens "),s[11]||(s[11]=t("th",{class:"px-5 py-3 text-center section-label"},"Status",-1)),t("th",{class:"px-5 py-3 text-right section-label cursor-pointer",onClick:s[10]||(s[10]=r=>x("avg_cost"))}," Cost ")])]),t("tbody",null,[(l(!0),i(S,null,E(g.value,(r,T)=>(l(),i("tr",{key:r.model_id+"::"+r.provider+"::"+r.context_tokens,class:I(T===0&&r.success?"rank-1 fade-in":"fade-in")},[t("td",es,[T<3&&r.success?(l(),i("span",{key:0,class:"font-display font-bold",style:w(T===0?"color:var(--lime)":"")},a(o[T]),5)):(l(),i("span",ss,a(T+1),1))]),t("td",os,[z(Qe,{name:r.provider},null,8,["name"])]),t("td",ns,[F(a(r.model)+" ",1),!r.success&&r.error?(l(),i("div",{key:0,class:"text-[11px] font-mono mt-0.5 cursor-pointer",style:{color:"#FB7185","word-break":"break-word","max-width":"320px"},title:"Click to copy",onClick:B=>c(r.error)},a(r.error),9,rs)):$("",!0)]),f.isStressMode?(l(),i("td",ls,a(r.context_tokens===0?"0":u(r.context_tokens)),1)):$("",!0),t("td",{class:I(["px-5 py-3.5 text-right font-mono text-sm",r.success&&T===0?"":"text-zinc-400"]),style:w(r.success&&T===0?"color:var(--lime)":"")},a(r.success?r.tokens_per_second.toFixed(1):"-"),7),b.value?(l(),i("td",is,a(r.success&&r.std_dev_tps>0?"±"+r.std_dev_tps.toFixed(1):"-"),1)):$("",!0),t("td",as,a(r.success?r.ttft_ms.toFixed(0)+"ms":"-"),1),t("td",ds,a(r.success&&r.input_tokens_per_second>0?Math.round(r.input_tokens_per_second).toLocaleString():"-"),1),t("td",cs,a(r.success?r.total_time_s.toFixed(2)+"s":"-"),1),t("td",us,a(r.success?r.output_tokens.toFixed(0):"-"),1),t("td",ps,[r.failures===0?(l(),i("span",ms,a(r.runs)+"/"+a(r.runs),1)):r.failures<r.runs?(l(),i("span",xs,a(r.runs-r.failures)+"/"+a(r.runs),1)):(l(),i("span",{key:2,class:"text-red-400 text-xs font-mono",title:r.error}," FAIL ",8,vs))]),t("td",fs,a(r.success&&r.avg_cost>0?"$"+r.avg_cost.toFixed(4):"-"),1)],2))),128))])])])]))}},gs={class:"flex flex-col gap-6"},ys={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},_s={class:"stat-card card-accent rounded-sm p-4"},ks={class:"big-num text-2xl text-zinc-100"},hs={class:"text-[11px] text-zinc-600 mt-1 font-body"},$s={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #38BDF8"}},Cs={class:"big-num text-2xl text-zinc-100"},Ts={class:"text-[11px] text-zinc-600 mt-1 font-body"},Ss={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #8B8B95"}},Bs={class:"big-num text-2xl text-zinc-100"},ws={class:"text-[11px] text-zinc-600 mt-1 font-body"},zs={class:"big-num text-2xl text-zinc-100"},Fs={class:"text-[11px] text-zinc-600 mt-1 font-body"},As={class:"stat-card card-accent rounded-sm p-4"},Ms={class:"big-num text-2xl text-zinc-100"},Ps={class:"text-[11px] text-zinc-600 mt-1 font-body"},Rs={key:1,class:"text-zinc-600 text-sm font-body"},Os={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #38BDF8"}},Es={class:"section-label mb-2"},Ns={class:"big-num text-2xl text-zinc-100"},Ls={class:"text-[11px] text-zinc-600 mt-1 font-body"},js={key:1,class:"text-zinc-600 text-sm font-body"},Is={class:"stat-card card rounded-sm p-4",style:{"border-left":"3px solid #8B8B95"}},Ds={class:"big-num text-2xl text-zinc-100"},Ks={class:"text-[11px] text-zinc-600 mt-1 font-body"},qs={class:"text-[11px] text-zinc-600 mt-1 font-body"},Ws={key:1,class:"error-banner",style:{"flex-direction":"column","align-items":"flex-start"}},Us={key:0,class:"w-full mt-2 pt-2",style:{"border-top":"1px solid rgba(255,59,92,0.2)"}},Vs=["onClick"],Hs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Js={key:3,class:"flex justify-end"},Gs={__name:"BenchmarkResults",props:{results:{type:Array,required:!0},isStressMode:{type:Boolean,default:!1}},setup(f){const o=f,n=k(()=>o.results.length>0),_=k(()=>n.value&&o.results.every(y=>!y.success)),m=k(()=>o.results[0]||{}),b=k(()=>[...o.results].filter(y=>y.success).sort((y,p)=>y.ttft_ms-p.ttft_ms)[0]||{}),g=k(()=>o.results.length),x=k(()=>o.results.reduce((y,p)=>y+p.runs,0)),u=k(()=>o.results.reduce((y,p)=>y+p.failures,0)),c=k(()=>o.results.reduce((y,p)=>y+(p.total_cost||0),0)),e=k(()=>o.results.filter(y=>y.context_tokens===0&&y.success).sort((y,p)=>p.tokens_per_second-y.tokens_per_second)[0]),s=k(()=>Math.max(...o.results.map(y=>y.context_tokens))),r=k(()=>q(s.value).replace(" ctx","")),T=k(()=>o.results.filter(y=>y.context_tokens===s.value&&y.success).sort((y,p)=>p.tokens_per_second-y.tokens_per_second)[0]),B=k(()=>new Set(o.results.map(y=>y.context_tokens)).size),v=k(()=>o.results.filter(y=>!y.success&&y.error).map(y=>`${y.provider}/${y.model}: ${y.error}`));function h(y){navigator.clipboard.writeText(y).catch(()=>{})}function R(){const y=o.results;if(!y.length)return;const p=["Provider","Model","Tok/s","TTFT (ms)","Input Tok/s","Duration (s)","Output Tokens","Status","Avg Cost","Total Cost"],N=y.map(C=>[C.provider,C.model,C.success?C.tokens_per_second.toFixed(2):"",C.success?C.ttft_ms.toFixed(0):"",C.success&&C.input_tokens_per_second>0?Math.round(C.input_tokens_per_second):"",C.success?C.total_time_s.toFixed(3):"",C.success?C.output_tokens.toFixed(0):"",C.success?C.failures?"partial":"ok":"fail",C.success&&C.avg_cost>0?C.avg_cost.toFixed(6):"",C.success&&C.total_cost>0?C.total_cost.toFixed(6):""]),O=[p,...N].map(C=>C.map(nt=>`"${String(nt).replace(/"/g,'""')}"`).join(",")).join(`
`),L=new Blob([O],{type:"text/csv"}),M=URL.createObjectURL(L),P=document.createElement("a");P.href=M,P.download="benchmark_results.csv",P.click(),URL.revokeObjectURL(M)}return(y,p)=>(l(),i("div",gs,[n.value?(l(),i("div",ys,[f.isStressMode?(l(),i(S,{key:1},[t("div",As,[p[7]||(p[7]=t("div",{class:"section-label mb-2"},"Best @ 0K",-1)),e.value?(l(),i(S,{key:0},[t("div",Ms,[F(a(e.value.tokens_per_second.toFixed(1))+" ",1),p[6]||(p[6]=t("span",{class:"text-xs font-normal",style:{color:"var(--lime)"}},"tok/s",-1))]),t("div",Ps,a(e.value.model),1)],64)):(l(),i("div",Rs,"N/A"))]),t("div",Os,[t("div",Es,"Best @ "+a(r.value),1),T.value?(l(),i(S,{key:0},[t("div",Ns,[F(a(T.value.tokens_per_second.toFixed(1))+" ",1),p[8]||(p[8]=t("span",{class:"text-xs font-normal",style:{color:"#38BDF8"}},"tok/s",-1))]),t("div",Ls,a(T.value.model),1)],64)):(l(),i("div",js,"N/A"))]),t("div",Is,[p[9]||(p[9]=t("div",{class:"section-label mb-2"},"Tiers Tested",-1)),t("div",Ds,a(B.value),1),t("div",Ks,a(x.value)+" total runs",1)]),t("div",{class:"stat-card card rounded-sm p-4",style:w("border-left: 3px solid "+(u.value?"var(--coral)":"#22C55E"))},[p[10]||(p[10]=t("div",{class:"section-label mb-2"},"Failures",-1)),t("div",{class:I(["big-num text-2xl",u.value?"text-red-400":"text-green-400"])},a(u.value||"None"),3),t("div",qs,a(u.value?"Check errors":"All nominal"),1)],4)],64)):(l(),i(S,{key:0},[t("div",_s,[p[1]||(p[1]=t("div",{class:"section-label mb-2"},"Fastest",-1)),t("div",ks,[F(a(m.value.tokens_per_second.toFixed(1))+" ",1),p[0]||(p[0]=t("span",{class:"text-xs font-normal",style:{color:"var(--lime)"}},"tok/s",-1))]),t("div",hs,a(m.value.model),1)]),t("div",$s,[p[3]||(p[3]=t("div",{class:"section-label mb-2"},"Best TTFT",-1)),t("div",Cs,[F(a(b.value.ttft_ms.toFixed(0)),1),p[2]||(p[2]=t("span",{class:"text-xs font-normal text-zinc-500"},"ms",-1))]),t("div",Ts,a(b.value.model),1)]),t("div",Ss,[p[4]||(p[4]=t("div",{class:"section-label mb-2"},"Models",-1)),t("div",Bs,a(g.value),1),t("div",ws,a(x.value)+" total runs",1)]),t("div",{class:"stat-card card rounded-sm p-4",style:w("border-left: 3px solid "+(c.value>0?"#FB923C":"#22C55E"))},[p[5]||(p[5]=t("div",{class:"section-label mb-2"},"Total Cost",-1)),t("div",zs,a(c.value>0?"$"+c.value.toFixed(4):"$0"),1),t("div",Fs,a(u.value?u.value+" failure(s)":"All nominal"),1)],4)],64))])):$("",!0),_.value?(l(),i("div",Ws,[p[11]||(p[11]=t("div",null,"All benchmarks failed. Check your API keys and model configuration.",-1)),v.value.length?(l(),i("div",Us,[(l(!0),i(S,null,E(v.value,(N,O)=>(l(),i("div",{key:O,class:"text-[11px] font-mono mt-1 cursor-pointer",style:{color:"#FCA5A5","word-break":"break-word"},onClick:L=>h(N)},a(N),9,Vs))),128))])):$("",!0)])):$("",!0),n.value&&!_.value?(l(),i(S,{key:2},[t("div",Hs,[z(qe,{results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"]),z(Ve,{results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"])]),z(Ge,{results:f.results},null,8,["results"])],64)):$("",!0),n.value&&!_.value?(l(),i("div",Js,[t("button",{class:"text-[11px] font-display tracking-wider uppercase px-4 py-2 rounded-sm transition-colors text-zinc-500 hover:text-zinc-300",style:{background:"rgba(255,255,255,0.02)",border:"1px solid var(--border-subtle)"},onClick:R}," Export CSV ")])):$("",!0),n.value?(l(),W(bs,{key:4,results:f.results,"is-stress-mode":f.isStressMode},null,8,["results","is-stress-mode"])):$("",!0)]))}},Qs={class:"max-w-7xl mx-auto px-6 py-8"},Zs={key:0,class:"text-center py-16"},Xs={key:1,class:"error-banner mb-6"},Ys={class:"mb-6"},to={class:"flex items-center justify-between mb-4"},eo={class:"text-xs font-mono text-zinc-600"},so={class:"mb-6"},oo={class:"mb-6 flex items-center gap-4"},no={key:0,class:"text-xs text-zinc-600"},ro={key:0,class:"error-banner mb-6"},lo={key:1,class:"mb-6"},io={key:2,class:"mb-6"},vo={__name:"BenchmarkPage",setup(f){const o=rt(),n=K(),{showToast:_}=xt(),m=j(!1),b=k(()=>n.currentResults.length>0),{connect:g,disconnect:x}=mt(()=>{const s=location.protocol==="https:"?"wss:":"ws:",r=vt();return`${s}//${location.host}/ws?token=${encodeURIComponent(r)}`},{onMessage(s){if(n.handleJobEvent(s),s.type==="sync")for(const r of s.active_jobs||[])r.job_type==="benchmark"&&["running","pending","queued"].includes(r.status)&&n.restoreRunningJob(r)}});async function u(){m.value=!1;try{await o.loadConfig(),n.applyDefaults(o.config),n.selectAllFromConfig(o.config),n.replayPendingInit(),o.loadParamsRegistry(),n.loadPromptTemplates()}catch(s){console.error("Failed to load config:",s),m.value=!0}}async function c(){try{const s=await n.startBenchmark();_("Benchmark submitted","success")}catch(s){_(s.message||"Benchmark failed","error")}}function e(){n.errorBanner=null,n.lastBenchmarkBody&&n.startBenchmark(n.lastBenchmarkBody).catch(s=>{_(s.message||"Retry failed","error")})}return ut(()=>{u(),g()}),pt(()=>{x()}),(s,r)=>(l(),i("div",Qs,[d(o).loading?(l(),i("div",Zs,[...r[0]||(r[0]=[t("div",{class:"text-zinc-500 text-sm"},"Loading configuration...",-1)])])):m.value?(l(),i("div",Xs,[r[1]||(r[1]=t("div",null,"Failed to load configuration. Check your connection and refresh.",-1)),t("button",{onClick:u},"Retry")])):d(o).config?(l(),i(S,{key:2},[t("div",Ys,[t("div",to,[r[2]||(r[2]=t("h2",{class:"section-label"},"Select Models",-1)),t("span",eo,a(d(n).selectedCount)+" selected ",1)]),z(zt,{providers:d(o).providers,"selected-models":d(n).selectedModels,onToggle:d(n).toggleModel,onSelectAll:d(n).selectAll,onSelectNone:d(n).selectNone,onToggleProvider:d(n).toggleProviderModels},null,8,["providers","selected-models","onToggle","onSelectAll","onSelectNone","onToggleProvider"])]),t("div",so,[z(ye)]),t("div",oo,[z(At,{disabled:d(n).isRunning||d(n).selectedCount===0,running:d(n).isRunning,onClick:c},null,8,["disabled","running"]),d(n).selectedCount===0?(l(),i("span",no," Select at least one model to run ")):$("",!0)]),d(n).errorBanner?(l(),i("div",ro,[t("div",null,a(d(n).errorBanner),1),d(n).lastBenchmarkBody?(l(),i("button",{key:0,onClick:e}," Retry ")):$("",!0)])):$("",!0),d(n).isRunning?(l(),i("div",lo,[z(Ie)])):$("",!0),b.value?(l(),i("div",io,[z(Gs,{results:d(n).aggregatedResults,"is-stress-mode":d(n).isStressMode},null,8,["results","is-stress-mode"])])):$("",!0)],64)):$("",!0)]))}};export{vo as default};
